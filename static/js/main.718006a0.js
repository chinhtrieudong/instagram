/*! For license information please see main.718006a0.js.LICENSE.txt */
(()=>{var e={210:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>r,Cn:()=>s,OE:()=>o,S3:()=>i,p2:()=>a});const r="/",i="/login",o="/sign-up",s="/p/:username",a="/not-found"},753:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(43).createContext)(null)},167:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(43).createContext)(null)},474:(e,t,n)=>{"use strict";n.d(t,{S:()=>PI,x:()=>RI});var r={};n.r(r),n.d(r,{FirebaseError:()=>_,SDK_VERSION:()=>Se,_DEFAULT_ENTRY_NAME:()=>de,_addComponent:()=>me,_addOrOverwriteComponent:()=>ve,_apps:()=>pe,_clearComponents:()=>_e,_components:()=>ge,_getProvider:()=>we,_registerComponent:()=>ye,_removeServiceInstance:()=>be,deleteApp:()=>xe,getApp:()=>Te,getApps:()=>Ce,initializeApp:()=>ke,onLog:()=>Ae,registerVersion:()=>Ne,setLogLevel:()=>De});const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=t>>2,l=(3&t)<<4|s>>4;let h=(15&s)<<2|u>>6,d=63&u;a||(d=64,o||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const u=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==u)throw new s;const c=t<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==u){const e=a<<6&192|u;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")},u=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=c(e[n],t[n]));return e}const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/instagram",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&u(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function m(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function y(){const e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){return!g()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){try{return"object"===typeof indexedDB}catch(e){return!1}}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(E,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new _(n,o,t)}}const E=/\{\$([^}]+)}/g;function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(T(n)&&T(o)){if(!k(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T(e){return null!==e&&"object"===typeof e}function C(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function x(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function A(e,t){const n=new D(e,t);return n.subscribe.bind(n)}class D{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function R(){}function P(e){return e&&e._delegate?e._delegate:e}class O{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const L="[DEFAULT]";class M{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new f;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:L})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===L?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L;return this.component?this.component.multipleInstances?e:L:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const U=[];var V;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(V||(V={}));const j={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},z=V.INFO,B={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},q=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=B[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class W{constructor(e){this.name=e,this._logLevel=z,this._logHandler=q,this._userLogHandler=null,U.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?j[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...t),this._logHandler(this,V.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...t),this._logHandler(this,V.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.INFO,...t),this._logHandler(this,V.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.WARN,...t),this._logHandler(this,V.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...t),this._logHandler(this,V.ERROR,...t)}}const K=(e,t)=>t.some((t=>e instanceof t));let G,H;const Q=new WeakMap,Y=new WeakMap,$=new WeakMap,J=new WeakMap,X=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||$.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(re(this),n),ne(Q.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(e.apply(re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(re(this),t,...r);return $.set(o,t.sort?t.sort():[t]),ne(o)}}function te(e){return"function"===typeof e?ee(e):(e instanceof IDBTransaction&&function(e){if(Y.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Y.set(e,t)}(e),K(e,G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Z):e)}function ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ne(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Q.set(t,e)})).catch((()=>{})),X.set(t,e),t}(e);if(J.has(e))return J.get(e);const t=te(e);return t!==e&&(J.set(e,t),X.set(t,e)),t}const re=e=>X.get(e);const ie=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],se=new Map;function ae(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=oe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ie.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return se.set(t,o),o}Z=(e=>({...e,get:(t,n,r)=>ae(t,n)||e.get(t,n,r),has:(t,n)=>!!ae(t,n)||e.has(t,n)}))(Z);class ue{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ce="@firebase/app",le="0.9.27",he=new W("@firebase/app"),de="[DEFAULT]",fe={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,ge=new Map;function me(e,t){try{e.container.addComponent(t)}catch(n){he.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ve(e,t){e.container.addOrOverwriteComponent(t)}function ye(e){const t=e.name;if(ge.has(t))return he.debug("There were multiple attempts to register component ".concat(t,".")),!1;ge.set(t,e);for(const n of pe.values())me(n,e);return!0}function we(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function be(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:de;we(e,t).clearInstance(n)}function _e(){ge.clear()}const Ie=new I("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ee{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new O("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ie.create("app-deleted",{appName:this._name})}}const Se="10.8.0";function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:de,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ie.create("bad-app-name",{appName:String(i)});if(n||(n=d()),!n)throw Ie.create("no-options");const o=pe.get(i);if(o){if(k(n,o.options)&&k(r,o.config))return o;throw Ie.create("duplicate-app",{appName:i})}const s=new F(i);for(const u of ge.values())s.addComponent(u);const a=new Ee(n,r,s);return pe.set(i,a),a}function Te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de;const t=pe.get(e);if(!t&&e===de&&d())return ke();if(!t)throw Ie.create("no-app",{appName:e});return t}function Ce(){return Array.from(pe.values())}async function xe(e){const t=e.name;pe.has(t)&&(pe.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ne(e,t,n){var r;let i=null!==(r=fe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void he.warn(e.join(" "))}ye(new O("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ae(e,t){if(null!==e&&"function"!==typeof e)throw Ie.create("invalid-log-argument");!function(e,t){for(const n of U){let r=null;t&&t.level&&(r=j[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:V[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function De(e){var t;t=e,U.forEach((e=>{e.setLogLevel(t)}))}const Re="firebase-heartbeat-database",Pe=1,Oe="firebase-heartbeat-store";let Le=null;function Me(){return Le||(Le=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=ne(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ne(s.result),e.oldVersion,e.newVersion,ne(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Re,Pe,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Oe)}catch(n){console.warn(n)}}}).catch((e=>{throw Ie.create("idb-open",{originalErrorMessage:e.message})}))),Le}async function Fe(e,t){try{const n=(await Me()).transaction(Oe,"readwrite"),r=n.objectStore(Oe);await r.put(t,Ue(e)),await n.done}catch(n){if(n instanceof _)he.warn(n.message);else{const e=Ie.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});he.warn(e.message)}}}function Ue(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ze(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=je();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=je(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Be(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=a(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function je(){return(new Date).toISOString().substring(0,10)}class ze{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!b()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Me()).transaction(Oe),n=await t.objectStore(Oe).get(Ue(e));return await t.done,n}catch(t){if(t instanceof _)he.warn(t.message);else{const e=Ie.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});he.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Fe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Be(e){return a(JSON.stringify({version:2,heartbeats:e})).length}var qe;qe="",ye(new O("platform-logger",(e=>new ue(e)),"PRIVATE")),ye(new O("heartbeat",(e=>new Ve(e)),"PRIVATE")),Ne(ce,le,qe),Ne(ce,le,"esm2017"),Ne("fire-js","");class We{constructor(e,t){this._delegate=e,this.firebase=t,me(e,new O("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),xe(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){me(this._delegate,e)}_addOrOverwriteComponent(e){ve(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ke=new I("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Ge=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=ke(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(S(t,i.name))return t[i.name];const o=new e(i,n);return t[i.name]=o,o},app:i,registerVersion:Ne,setLogLevel:De,onLog:Ae,apps:null,SDK_VERSION:Se,INTERNAL:{registerComponent:function(t){const r=t.name,o=r.replace("-compat","");if(ye(t)&&"PUBLIC"===t.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Ke.create("invalid-app-argument",{appName:r});return e[o]()};void 0!==t.serviceProps&&c(s,t.serviceProps),n[o]=s,e.prototype[o]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!S(t,e=e||de))throw Ke.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(We);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){c(t,e)},createSubscribe:A,ErrorFactory:I,deepExtend:c}),t}(),He=new W("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){He.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&He.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=Ge;!function(e){Ne("@firebase/app-compat","0.2.27",e)}();Qe.registerVersion("firebase","10.8.0","app-compat");var Ye,$e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Je={},Xe=Xe||{},Ze=$e||self;function et(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nt="closure_uid_"+(1e9*Math.random()>>>0),rt=0;function it(e,t,n){return e.call.apply(e.bind,arguments)}function ot(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function st(e,t,n){return(st=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?it:ot).apply(null,arguments)}function at(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ut(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ct(){this.s=this.s,this.o=this.o}ct.prototype.s=!1,ct.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,nt)&&e[nt]||(e[nt]=++rt))},ct.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ht(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function dt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(et(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function ft(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Ze.addEventListener("test",e,t),Ze.removeEventListener("test",e,t)}catch(n){}return e}();function gt(e){return/^[\s\xa0]*$/.test(e)}function mt(){var e=Ze.navigator;return e&&(e=e.userAgent)?e:""}function vt(e){return-1!=mt().indexOf(e)}function yt(e){return yt[" "](e),e}yt[" "]=function(){};var wt,bt,_t=vt("Opera"),It=vt("Trident")||vt("MSIE"),Et=vt("Edge"),St=Et||It,kt=vt("Gecko")&&!(-1!=mt().toLowerCase().indexOf("webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),Tt=-1!=mt().toLowerCase().indexOf("webkit")&&!vt("Edge");function Ct(){var e=Ze.document;return e?e.documentMode:void 0}e:{var xt="",Nt=function(){var e=mt();return kt?/rv:([^\);]+)(\)|;)/.exec(e):Et?/Edge\/([\d\.]+)/.exec(e):It?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tt?/WebKit\/(\S+)/.exec(e):_t?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Nt&&(xt=Nt?Nt[1]:""),It){var At=Ct();if(null!=At&&At>parseFloat(xt)){wt=String(At);break e}}wt=xt}if(Ze.document&&It){var Dt=Ct();bt=Dt||(parseInt(wt,10)||void 0)}else bt=void 0;var Rt=bt;function Pt(e,t){if(ft.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(kt){e:{try{yt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ot[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pt.$.h.call(this)}}ut(Pt,ft);var Ot={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),Mt=0;function Ft(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Mt,this.fa=this.ia=!1}function Ut(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function jt(e){const t={};for(const n in e)t[n]=e[n];return t}const zt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<zt.length;t++)n=zt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qt(e){this.src=e,this.g={},this.h=0}function Wt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=lt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ut(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}qt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Kt(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Ft(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Gt="closure_lm_"+(1e6*Math.random()|0),Ht={};function Qt(e,t,n,r,i){if(r&&r.once)return $t(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Qt(e,t[o],n,r,i);return null}return n=rn(n),e&&e[Lt]?e.O(t,n,tt(r)?!!r.capture:!!r,i):Yt(e,t,n,!1,r,i)}function Yt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=tt(i)?!!i.capture:!!i,a=tn(e);if(a||(e[Gt]=a=new qt(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=en;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $t(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)$t(e,t[o],n,r,i);return null}return n=rn(n),e&&e[Lt]?e.P(t,n,tt(r)?!!r.capture:!!r,i):Yt(e,t,n,!0,r,i)}function Jt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Jt(e,t[o],n,r,i);else r=tt(r)?!!r.capture:!!r,n=rn(n),e&&e[Lt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kt(o=e.g[t],n,r,i))&&(Ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=tn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kt(t,n,r,i)),(n=-1<e?t[e]:null)&&Xt(n))}function Xt(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Lt])Wt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tn(t))?(Wt(n,e),0==n.h&&(n.src=null,t[Gt]=null)):Ut(e)}}}function Zt(e){return e in Ht?Ht[e]:Ht[e]="on"+e}function en(e,t){if(e.fa)e=!0;else{t=new Pt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Xt(e),e=n.call(r,t)}return e}function tn(e){return(e=e[Gt])instanceof qt?e:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(e){return"function"===typeof e?e:(e[nn]||(e[nn]=function(t){return e.handleEvent(t)}),e[nn])}function on(){ct.call(this),this.i=new qt(this),this.S=this,this.J=null}function sn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ft(t,e);else if(t instanceof ft)t.target=t.target||e;else{var i=t;Bt(t=new ft(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=an(s,r,!0,t)&&i}if(i=an(s=t.g=e,r,!0,t)&&i,i=an(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=an(s=t.g=n[o],r,!1,t)&&i}function an(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&Wt(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ut(on,ct),on.prototype[Lt]=!0,on.prototype.removeEventListener=function(e,t,n,r){Jt(this,e,t,n,r)},on.prototype.N=function(){if(on.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ut(n[r]);delete t.g[e],t.h--}}this.J=null},on.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},on.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var un=Ze.JSON.stringify;function cn(){var e=mn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ln=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new hn),(e=>e.reset()));class hn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function dn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function fn(e){Ze.setTimeout((()=>{throw e}),0)}let pn,gn=!1,mn=new class{constructor(){this.h=this.g=null}add(e,t){const n=ln.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},vn=()=>{const e=Ze.Promise.resolve(void 0);pn=()=>{e.then(yn)}};var yn=()=>{for(var e;e=cn();){try{e.h.call(e.g)}catch(n){fn(n)}var t=ln;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}gn=!1};function wn(e,t){on.call(this),this.h=e||1,this.g=t||Ze,this.j=st(this.qb,this),this.l=Date.now()}function bn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function _n(e,t,n){if("function"===typeof e)n&&(e=st(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=st(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ze.setTimeout(e,t||0)}function In(e){e.g=_n((()=>{e.g=null,e.i&&(e.i=!1,In(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ut(wn,on),(Ye=wn.prototype).ga=!1,Ye.T=null,Ye.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),sn(this,"tick"),this.ga&&(bn(this),this.start()))}},Ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.N=function(){wn.$.N.call(this),bn(this),delete this.g};class En extends ct{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:In(this)}N(){super.N(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(e){ct.call(this),this.h=e,this.g={}}ut(Sn,ct);var kn=[];function Tn(e,t,n,r){Array.isArray(n)||(n&&(kn[0]=n.toString()),n=kn);for(var i=0;i<n.length;i++){var o=Qt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Cn(e){Vt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xt(e)}),e),e.g={}}function xn(){this.g=!0}function Nn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return un(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Sn.prototype.N=function(){Sn.$.N.call(this),Cn(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xn.prototype.Ea=function(){this.g=!1},xn.prototype.info=function(){};var An={},Dn=null;function Rn(){return Dn=Dn||new on}function Pn(e){ft.call(this,An.Ta,e)}function On(e){const t=Rn();sn(t,new Pn(t))}function Ln(e,t){ft.call(this,An.STAT_EVENT,e),this.stat=t}function Mn(e){const t=Rn();sn(t,new Ln(t,e))}function Fn(e,t){ft.call(this,An.Ua,e),this.size=t}function Un(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ze.setTimeout((function(){e()}),t)}An.Ta="serverreachability",ut(Pn,ft),An.STAT_EVENT="statevent",ut(Ln,ft),An.Ua="timingevent",ut(Fn,ft);var Vn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zn(){}function Bn(e){return e.h||(e.h=e.i())}function qn(){}zn.prototype.h=null;var Wn,Kn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gn(){ft.call(this,"d")}function Hn(){ft.call(this,"c")}function Qn(){}function Yn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Sn(this),this.P=Jn,e=St?125:void 0,this.V=new wn(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}ut(Gn,ft),ut(Hn,ft),ut(Qn,zn),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Wn=new Qn;var Jn=45e3,Xn={},Zn={};function er(e,t,n){e.L=1,e.A=wr(pr(t)),e.u=n,e.S=!0,tr(e,null)}function tr(e,t){e.G=Date.now(),or(e),e.B=pr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Rr(n.i,"t",r),e.o=0,n=e.l.J,e.h=new $n,e.g=Pi(e.l,n?t:null,!e.u),0<e.O&&(e.M=new En(st(e.Pa,e,e.g),e.O)),Tn(e.U,e.g,"readystatechange",e.nb),t=e.I?jt(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),On(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function nr(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function rr(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=ir(e,n),r==Zn){4==t&&(e.s=4,Mn(14),i=!1),Nn(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xn){e.s=4,Mn(15),Nn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nn(e.j,e.m,r,null),lr(e,r)}nr(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Mn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ki(t),t.M=!0,Mn(11))):(Nn(e.j,e.m,n,"[Invalid Chunked Response]"),cr(e),ur(e))}function ir(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Zn:(n=Number(t.substring(n,r)),isNaN(n)?Xn:(r+=1)+n>t.length?Zn:(t=t.slice(r,r+n),e.o=r+n,t))}function or(e){e.Y=Date.now()+e.P,sr(e,e.P)}function sr(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Un(st(e.lb,e),t)}function ar(e){e.C&&(Ze.clearTimeout(e.C),e.C=null)}function ur(e){0==e.l.H||e.J||xi(e.l,e)}function cr(e){ar(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,bn(e.V),Cn(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function lr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Vr(n.i,e)))if(!e.K&&Vr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ci(n),vi(n)}Si(n),Mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Un(st(n.ib,n),6e3));if(1>=Ur(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ai(n,11)}else if((e.K||n.g==e)&&Ci(n),!gt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const l=c[5];null!=l&&"number"===typeof l&&0<l&&(r=1.5*l,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(jr(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,yr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=Ri(r,r.J?r.pa:null,r.Y),s.K){zr(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.C&&(ar(a),or(a)),r.g=s}else Ei(r);0<n.j.length&&wi(n)}else"stop"!=c[0]&&"close"!=c[0]||Ai(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ai(n,7):mi(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}On()}catch(c){}}function hr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(et(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(et(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(et(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Ye=Yn.prototype).setTimeout=function(e){this.P=e},Ye.nb=function(e){e=e.target;const t=this.M;t&&3==li(e)?t.l():this.Pa(e)},Ye.Pa=function(e){try{if(e==this.g)e:{const l=li(this.g);var t=this.g.Ia();this.g.da();if(!(3>l)&&(3!=l||St||this.g&&(this.h.h||this.g.ja()||hi(this.g)))){this.J||4!=l||7==t||On(),ar(this);var n=this.g.da();this.ca=n;t:if(nr(this)){var r=hi(this.g);e="";var i=r.length,o=4==li(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cr(this),ur(this);var s="";break t}this.h.i=new Ze.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Mn(12),cr(this),ur(this);break e}Nn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,n)}this.S?(rr(this,l,s),St&&this.i&&3==l&&(Tn(this.U,this.V,"tick",this.mb),this.V.start())):(Nn(this.j,this.m,s,null),lr(this,s)),4==l&&cr(this),this.i&&!this.J&&(4==l?xi(this.l,this):(this.i=!1,or(this)))}else(function(e){const t={};e=(e.g&&2<=li(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(gt(e[r]))continue;var n=dn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Mn(12)):(this.s=0,Mn(13)),cr(this),ur(this)}}}catch(l){}},Ye.mb=function(){if(this.g){var e=li(this.g),t=this.g.ja();this.o<t.length&&(ar(this),rr(this,e,t),this.i&&4!=e&&or(this))}},Ye.cancel=function(){this.J=!0,cr(this)},Ye.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(On(),Mn(17)),cr(this),this.s=2,ur(this)):sr(this,this.Y-e)};var dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fr){this.h=e.h,gr(this,e.j),this.s=e.s,this.g=e.g,mr(this,e.m),this.l=e.l;var t=e.i,n=new xr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vr(this,n),this.o=e.o}else e&&(t=String(e).match(dr))?(this.h=!1,gr(this,t[1]||"",!0),this.s=br(t[2]||""),this.g=br(t[3]||"",!0),mr(this,t[4]),this.l=br(t[5]||"",!0),vr(this,t[6]||"",!0),this.o=br(t[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}function pr(e){return new fr(e)}function gr(e,t,n){e.j=n?br(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vr(e,t,n){t instanceof xr?(e.i=t,function(e,t){t&&!e.j&&(Nr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ar(this,t),Rr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=_r(t,Tr)),e.i=new xr(t,e.h))}function yr(e,t,n){e.i.set(t,n)}function wr(e){return yr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function br(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _r(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ir),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ir(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_r(t,Er,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(_r(t,Er,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(_r(n,"/"==n.charAt(0)?kr:Sr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_r(n,Cr)),e.join("")};var Er=/[#\/\?@]/g,Sr=/[#\?:]/g,kr=/[#\?]/g,Tr=/[#\?@]/g,Cr=/#/g;function xr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ar(e,t){Nr(e),t=Pr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dr(e,t){return Nr(e),t=Pr(e,t),e.g.has(t)}function Rr(e,t,n){Ar(e,t),0<n.length&&(e.i=null,e.g.set(Pr(e,t),ht(n)),e.h+=n.length)}function Pr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ye=xr.prototype).add=function(e,t){Nr(this),this.i=null,e=Pr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ye.forEach=function(e,t){Nr(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ye.ta=function(){Nr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ye.Z=function(e){Nr(this);let t=[];if("string"===typeof e)Dr(this,e)&&(t=t.concat(this.g.get(Pr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ye.set=function(e,t){return Nr(this),this.i=null,Dr(this,e=Pr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ye.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Or=class{constructor(e,t){this.g=e,this.map=t}};function Lr(e){this.l=e||Mr,Ze.PerformanceNavigationTiming?e=0<(e=Ze.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ze.g&&Ze.g.Ka&&Ze.g.Ka()&&Ze.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mr=10;function Fr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ur(e){return e.h?1:e.g?e.g.size:0}function Vr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jr(e,t){e.g?e.g.add(t):e.h=t}function zr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Br(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ht(e.i)}Lr.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var qr,Wr=class{stringify(e){return Ze.JSON.stringify(e,void 0)}parse(e){return Ze.JSON.parse(e,void 0)}};function Kr(){this.g=new Wr}function Gr(e,t,n){const r=n||"";try{hr(e,(function(e,n){let i=e;tt(e)&&(i=un(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Qr(e){this.l=e.ec||null,this.j=e.ob||!1}function Yr(e,t){on.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=$r,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(Qr,zn),Qr.prototype.g=function(){return new Yr(this.l,this.j)},Qr.prototype.i=(qr={},function(){return qr}),ut(Yr,on);var $r=0;function Jr(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Xr(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zr(e)}function Zr(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ye=Yr.prototype).open=function(e,t){if(this.readyState!=$r)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zr(this)},Ye.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ze).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=$r},Ye.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ze.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jr(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ye.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xr(this):Zr(this),3==this.readyState&&Jr(this)}},Ye.Za=function(e){this.g&&(this.response=this.responseText=e,Xr(this))},Ye.Ya=function(e){this.g&&(this.response=e,Xr(this))},Ye.ka=function(){this.g&&Xr(this)},Ye.setRequestHeader=function(e,t){this.v.append(e,t)},Ye.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ei=Ze.JSON.parse;function ti(e){on.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ni,this.L=this.M=!1}ut(ti,on);var ni="",ri=/^https?$/i,ii=["POST","PUT"];function oi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,si(e),ui(e)}function si(e){e.F||(e.F=!0,sn(e,"complete"),sn(e,"error"))}function ai(e){if(e.h&&"undefined"!=typeof Xe&&(!e.C[1]||4!=li(e)||2!=e.da()))if(e.v&&4==li(e))_n(e.La,0,e);else if(sn(e,"readystatechange"),4==li(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(dr)[1]||null;!i&&Ze.self&&Ze.self.location&&(i=Ze.self.location.protocol.slice(0,-1)),r=!ri.test(i?i.toLowerCase():"")}n=r}if(n)sn(e,"complete"),sn(e,"success");else{e.m=6;try{var o=2<li(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",si(e)}}finally{ui(e)}}}function ui(e,t){if(e.g){ci(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||sn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function ci(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ze.clearTimeout(e.A),e.A=null)}function li(e){return e.g?e.g.readyState:0}function hi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ni:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(wo){return null}}function di(e){let t="";return Vt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=di(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):yr(e,t,n))}function pi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gi(e){this.Ga=0,this.j=[],this.l=new xn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pi("baseRetryDelayMs",5e3,e),this.hb=pi("retryDelaySeedMs",1e4,e),this.eb=pi("forwardChannelMaxRetries",2,e),this.xa=pi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lr(e&&e.concurrentRequestLimit),this.Ja=new Kr,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mi(e){if(yi(e),3==e.H){var t=e.W++,n=pr(e.I);if(yr(n,"SID",e.K),yr(n,"RID",t),yr(n,"TYPE","terminate"),_i(e,n),(t=new Yn(e,e.l,t)).L=2,t.A=wr(pr(n)),n=!1,Ze.navigator&&Ze.navigator.sendBeacon)try{n=Ze.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Ze.Image&&((new Image).src=t.A,n=!0),n||(t.g=Pi(t.l,null),t.g.ha(t.A)),t.G=Date.now(),or(t)}Di(e)}function vi(e){e.g&&(ki(e),e.g.cancel(),e.g=null)}function yi(e){vi(e),e.u&&(Ze.clearTimeout(e.u),e.u=null),Ci(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ze.clearTimeout(e.m),e.m=null)}function wi(e){if(!Fr(e.i)&&!e.m){e.m=!0;var t=e.Na;pn||vn(),gn||(pn(),gn=!0),mn.add(t,e),e.C=0}}function bi(e,t){var n;n=t?t.m:e.W++;const r=pr(e.I);yr(r,"SID",e.K),yr(r,"RID",n),yr(r,"AID",e.V),_i(e,r),e.o&&e.s&&fi(r,e.o,e.s),n=new Yn(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ii(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),jr(e.i,n),er(n,r,t)}function _i(e,t){e.na&&Vt(e.na,(function(e,n){yr(t,n,e)})),e.h&&hr({},(function(e,n){yr(t,n,e)}))}function Ii(e,t,n){n=Math.min(e.j.length,n);var r=e.h?st(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Gr(a,e,"req"+n+"_")}catch(Ms){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ei(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;pn||vn(),gn||(pn(),gn=!0),mn.add(t,e),e.A=0}}function Si(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Un(st(e.Ma,e),Ni(e,e.A)),e.A++,!0)}function ki(e){null!=e.B&&(Ze.clearTimeout(e.B),e.B=null)}function Ti(e){e.g=new Yn(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=pr(e.wa);yr(t,"RID","rpc"),yr(t,"SID",e.K),yr(t,"AID",e.V),yr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&yr(t,"TO",e.qa),yr(t,"TYPE","xmlhttp"),_i(e,t),e.o&&e.s&&fi(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=wr(pr(t)),n.u=null,n.S=!0,tr(n,e)}function Ci(e){null!=e.v&&(Ze.clearTimeout(e.v),e.v=null)}function xi(e,t){var n=null;if(e.g==t){Ci(e),ki(e),e.g=null;var r=2}else{if(!Vr(e.i,t))return;n=t.F,zr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;sn(r=Rn(),new Fn(r,n)),wi(e)}else Ei(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ur(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Un(st(e.Na,e,t),Ni(e,e.C)),e.C++,!0))}(e,t)||2==r&&Si(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ai(e,5);break;case 4:Ai(e,10);break;case 3:Ai(e,6);break;default:Ai(e,2)}}function Ni(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ai(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=st(e.pb,e);n||(n=new fr("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||gr(n,"https"),wr(n)),function(e,t){const n=new xn;if(Ze.Image){const r=new Image;r.onload=at(Hr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=at(Hr,n,r,"TestLoadImage: error",!1,t),r.onabort=at(Hr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=at(Hr,n,r,"TestLoadImage: timeout",!1,t),Ze.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mn(2);e.H=0,e.h&&e.h.za(t),Di(e),yi(e)}function Di(e){if(e.H=0,e.ma=[],e.h){const t=Br(e.i);0==t.length&&0==e.j.length||(dt(e.ma,t),dt(e.ma,e.j),e.i.i.length=0,ht(e.j),e.j.length=0),e.h.ya()}}function Ri(e,t,n){var r=n instanceof fr?pr(n):new fr(n);if(""!=r.g)t&&(r.g=t+"."+r.g),mr(r,r.m);else{var i=Ze.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new fr(null);r&&gr(o,r),t&&(o.g=t),i&&mr(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&yr(r,n,t),yr(r,"VER",e.ra),_i(e,r),r}function Pi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ti(new Qr({ob:n})):new ti(e.va)).Oa(e.J),t}function Oi(){}function Li(){if(It&&!(10<=Number(Rt)))throw Error("Environmental error: no available transport.")}function Mi(e,t){on.call(this),this.g=new gi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!gt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vi(this)}function Fi(e){Gn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ui(){Hn.call(this),this.status=1}function Vi(e){this.g=e}function ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zi(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Bi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Ye=ti.prototype).Oa=function(e){this.M=e},Ye.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wn.g(),this.C=this.u?Bn(this.u):Bn(Wn),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void oi(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Ze.FormData&&e instanceof Ze.FormData,!(0<=lt(ii,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ci(this),0<this.B&&((this.L=function(e){return It&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=_n(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){oi(this,o)}},Ye.ua=function(){"undefined"!=typeof Xe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))},Ye.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sn(this,"complete"),sn(this,"abort"),ui(this))},Ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ui(this,!0)),ti.$.N.call(this)},Ye.La=function(){this.s||(this.G||this.v||this.l?ai(this):this.kb())},Ye.kb=function(){ai(this)},Ye.isActive=function(){return!!this.g},Ye.da=function(){try{return 2<li(this)?this.g.status:-1}catch(qr){return-1}},Ye.ja=function(){try{return this.g?this.g.responseText:""}catch(qr){return""}},Ye.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ei(t)}},Ye.Ia=function(){return this.m},Ye.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ye=gi.prototype).ra=8,Ye.H=1,Ye.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Yn(this,this.l,e);let o=this.s;if(this.U&&(o?(o=jt(o),Bt(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ii(this,i,t),yr(n=pr(this.I),"RID",e),yr(n,"CVER",22),this.F&&yr(n,"X-HTTP-Session-Id",this.F),_i(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(di(o)))+"&"+t:this.o&&fi(n,this.o,o)),jr(this.i,i),this.bb&&yr(n,"TYPE","init"),this.P?(yr(n,"$req",t),yr(n,"SID","null"),i.aa=!0,er(i,n,null)):er(i,n,t),this.H=2}}else 3==this.H&&(e?bi(this,e):0==this.j.length||Fr(this.i)||bi(this))},Ye.Ma=function(){if(this.u=null,Ti(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Un(st(this.jb,this),e)}},Ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mn(10),vi(this),Ti(this))},Ye.ib=function(){null!=this.v&&(this.v=null,vi(this),Si(this),Mn(19))},Ye.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Mn(2)):(this.l.info("Failed to ping google.com"),Mn(1))},Ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ye=Oi.prototype).Ba=function(){},Ye.Aa=function(){},Ye.za=function(){},Ye.ya=function(){},Ye.isActive=function(){return!0},Ye.Va=function(){},Li.prototype.g=function(e,t){return new Mi(e,t)},ut(Mi,on),Mi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Mn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ri(e,null,e.Y),wi(e)},Mi.prototype.close=function(){mi(this.g)},Mi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=un(e),e=n);t.j.push(new Or(t.fb++,e)),3==t.H&&wi(t)},Mi.prototype.N=function(){this.g.h=null,delete this.j,mi(this.g),delete this.g,Mi.$.N.call(this)},ut(Fi,Gn),ut(Ui,Hn),ut(Vi,Oi),Vi.prototype.Ba=function(){sn(this.g,"a")},Vi.prototype.Aa=function(e){sn(this.g,new Fi(e))},Vi.prototype.za=function(e){sn(this.g,new Ui)},Vi.prototype.ya=function(){sn(this.g,"b")},ut(ji,(function(){this.blockSize=-1})),ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ji.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)zi(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){zi(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){zi(this,r),i=0;break}}this.h=i,this.i+=t},ji.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var qi={};function Wi(e){return-128<=e&&128>e?function(e,t){var n=qi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Bi([0|e],0>e?-1:0)})):new Bi([0|e],0>e?-1:0)}function Ki(e){if(isNaN(e)||!isFinite(e))return Hi;if(0>e)return Xi(Ki(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Gi;return new Bi(t,0)}var Gi=4294967296,Hi=Wi(0),Qi=Wi(1),Yi=Wi(16777216);function $i(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ji(e){return-1==e.h}function Xi(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Bi(n,~e.h).add(Qi)}function Zi(e,t){return e.add(Xi(t))}function eo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function to(e,t){this.g=e,this.h=t}function no(e,t){if($i(t))throw Error("division by zero");if($i(e))return new to(Hi,Hi);if(Ji(e))return t=no(Xi(e),t),new to(Xi(t.g),Xi(t.h));if(Ji(t))return t=no(e,Xi(t)),new to(Xi(t.g),t.h);if(30<e.g.length){if(Ji(e)||Ji(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Qi,r=t;0>=r.X(e);)n=ro(n),r=ro(r);var i=io(n,1),o=io(r,1);for(r=io(r,2),n=io(n,2);!$i(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=io(r,1),n=io(n,1)}return t=Zi(e,i.R(t)),new to(i,t)}for(i=Hi;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Ki(n)).R(t);Ji(s)||0<s.X(e);)s=(o=Ki(n-=r)).R(t);$i(o)&&(o=Qi),i=i.add(o),e=Zi(e,s)}return new to(i,e)}function ro(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Bi(n,e.h)}function io(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Bi(i,e.h)}(Ye=Bi.prototype).ea=function(){if(Ji(this))return-Xi(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Gi+r)*t,t*=Gi}return e},Ye.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if($i(this))return"0";if(Ji(this))return"-"+Xi(this).toString(e);for(var t=Ki(Math.pow(e,6)),n=this,r="";;){var i=no(n,t).g,o=((0<(n=Zi(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if($i(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ye.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ye.X=function(e){return Ji(e=Zi(this,e))?-1:$i(e)?0:1},Ye.abs=function(){return Ji(this)?Xi(this):this},Ye.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Bi(n,-2147483648&n[n.length-1]?-1:0)},Ye.R=function(e){if($i(this)||$i(e))return Hi;if(Ji(this))return Ji(e)?Xi(this).R(Xi(e)):Xi(Xi(this).R(e));if(Ji(e))return Xi(this.R(Xi(e)));if(0>this.X(Yi)&&0>e.X(Yi))return Ki(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=s*u,eo(n,2*r+2*i),n[2*r+2*i+1]+=o*u,eo(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,eo(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,eo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Bi(n,0)},Ye.gb=function(e){return no(this,e).h},Ye.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Bi(n,this.h&e.h)},Ye.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Bi(n,this.h|e.h)},Ye.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Bi(n,this.h^e.h)},Li.prototype.createWebChannel=Li.prototype.g,Mi.prototype.send=Mi.prototype.u,Mi.prototype.open=Mi.prototype.m,Mi.prototype.close=Mi.prototype.close,Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,jn.COMPLETE="complete",qn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",on.prototype.listen=on.prototype.O,ti.prototype.listenOnce=ti.prototype.P,ti.prototype.getLastError=ti.prototype.Sa,ti.prototype.getLastErrorCode=ti.prototype.Ia,ti.prototype.getStatus=ti.prototype.da,ti.prototype.getResponseJson=ti.prototype.Wa,ti.prototype.getResponseText=ti.prototype.ja,ti.prototype.send=ti.prototype.ha,ti.prototype.setWithCredentials=ti.prototype.Oa,ji.prototype.digest=ji.prototype.l,ji.prototype.reset=ji.prototype.reset,ji.prototype.update=ji.prototype.j,Bi.prototype.add=Bi.prototype.add,Bi.prototype.multiply=Bi.prototype.R,Bi.prototype.modulo=Bi.prototype.gb,Bi.prototype.compare=Bi.prototype.X,Bi.prototype.toNumber=Bi.prototype.ea,Bi.prototype.toString=Bi.prototype.toString,Bi.prototype.getBits=Bi.prototype.D,Bi.fromNumber=Ki,Bi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Xi(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ki(Math.pow(n,8)),i=Hi,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Ki(Math.pow(n,s)),i=i.R(s).add(Ki(a))):i=(i=i.R(r)).add(Ki(a))}return i};var oo=Je.createWebChannelTransport=function(){return new Li},so=Je.getStatEventTarget=function(){return Rn()},ao=Je.ErrorCode=Vn,uo=Je.EventType=jn,co=Je.Event=An,lo=Je.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ho=(Je.FetchXmlHttpFactory=Qr,Je.WebChannel=qn),fo=Je.XhrIo=ti,po=Je.Md5=ji,go=Je.Integer=Bi;const mo="@firebase/firestore";class vo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vo.UNAUTHENTICATED=new vo(null),vo.GOOGLE_CREDENTIALS=new vo("google-credentials-uid"),vo.FIRST_PARTY=new vo("first-party-uid"),vo.MOCK_USER=new vo("mock-user");let yo="10.8.0";const wo=new W("@firebase/firestore");function bo(){return wo.logLevel}function _o(e){if(wo.logLevel<=V.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(So);wo.debug("Firestore (".concat(yo,"): ").concat(e),...i)}}function Io(e){if(wo.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(So);wo.error("Firestore (".concat(yo,"): ").concat(e),...i)}}function Eo(e){if(wo.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(So);wo.warn("Firestore (".concat(yo,"): ").concat(e),...i)}}function So(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(yo,") INTERNAL ASSERTION FAILED: ")+e;throw Io(t),new Error(t)}function To(e,t){e||ko()}function Co(e,t){return e}const xo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class No extends _{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Ao{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Do{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ro{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(vo.UNAUTHENTICATED)))}shutdown(){}}class Po{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Oo{constructor(e){this.t=e,this.currentUser=vo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ao,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{_o("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(_o("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ao)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(_o("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(To("string"==typeof t.accessToken),new Do(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return To(null===e||"string"==typeof e),new vo(e)}}class Lo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=vo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Lo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(vo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&_o("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,_o("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{_o("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):_o("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(To("string"==typeof e.token),this.R=e.token,new Fo(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Vo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jo{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Vo(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function zo(e,t){return e<t?-1:e>t?1:0}function Bo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function qo(e){return e+"\0"}class Wo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new No(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new No(xo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new No(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new No(xo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wo.fromMillis(Date.now())}static fromDate(e){return Wo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Wo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zo(this.nanoseconds,e.nanoseconds):zo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ko{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ko(e)}static min(){return new Ko(new Wo(0,0))}static max(){return new Ko(new Wo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Go{constructor(e,t,n){void 0===t?t=0:t>e.length&&ko(),void 0===n?n=e.length-t:n>e.length-t&&ko(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ho extends Go{construct(e,t,n){return new Ho(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new No(xo.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ho(e)}static emptyPath(){return new Ho([])}}const Qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yo extends Go{construct(e,t,n){return new Yo(e,t,n)}static isValidIdentifier(e){return Qo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yo(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new No(xo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new No(xo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new No(xo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new No(xo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yo(t)}static emptyPath(){return new Yo([])}}class $o{constructor(e){this.path=e}static fromPath(e){return new $o(Ho.fromString(e))}static fromName(e){return new $o(Ho.fromString(e).popFirst(5))}static empty(){return new $o(Ho.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ho.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ho.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $o(new Ho(e.slice()))}}class Jo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Xo(e){return e.fields.find((e=>2===e.kind))}function Zo(e){return e.fields.filter((e=>2!==e.kind))}Jo.UNKNOWN_ID=-1;class es{constructor(e,t){this.fieldPath=e,this.kind=t}}class ts{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ts(0,is.min())}}function ns(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ko.fromTimestamp(1e9===r?new Wo(n+1,0):new Wo(n,r));return new is(i,$o.empty(),t)}function rs(e){return new is(e.readTime,e.key,-1)}class is{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new is(Ko.min(),$o.empty(),-1)}static max(){return new is(Ko.max(),$o.empty(),-1)}}function os(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$o.comparator(e.documentKey,t.documentKey),0!==n?n:zo(e.largestBatchId,t.largestBatchId))}const ss="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class as{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function us(e){if(e.code!==xo.FAILED_PRECONDITION||e.message!==ss)throw e;_o("LocalStore","Unexpectedly lost primary lease")}class cs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ko(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new cs(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof cs?t:cs.resolve(t)}catch(e){return cs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):cs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):cs.reject(t)}static resolve(e){return new cs(((t,n)=>{t(e)}))}static reject(e){return new cs(((t,n)=>{n(e)}))}static waitFor(e){return new cs(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=cs.resolve(!1);for(const n of e)t=t.next((e=>e?cs.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new cs(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const u=a;t(e[u]).next((e=>{o[u]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new cs(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ls{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Ao,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new fs(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=ys(t.target.error);this.V.reject(new fs(e,n))}}static open(e,t,n,r){try{return new ls(t,e.transaction(r,n))}catch(e){throw new fs(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_o("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gs(t)}}class hs{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===hs.S(p())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _o("SimpleDb","Removing database:",e),ms(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!b())return!1;if(hs.C())return!0;const e=p(),t=hs.S(e),n=0<t&&t<10,r=hs.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(_o("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new fs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new No(xo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new No(xo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new fs(e,r))},r.onupgradeneeded=e=>{_o("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{_o("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=ls.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),cs.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(_o("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ds{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ms(this.k.delete())}}class fs extends No{constructor(e,t){super(xo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function ps(e){return"IndexedDbTransactionError"===e.name}class gs{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(_o("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_o("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ms(n)}add(e){return _o("SimpleDb","ADD",this.store.name,e,e),ms(this.store.add(e))}get(e){return ms(this.store.get(e)).next((t=>(void 0===t&&(t=null),_o("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return _o("SimpleDb","DELETE",this.store.name,e),ms(this.store.delete(e))}count(){return _o("SimpleDb","COUNT",this.store.name),ms(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new cs(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new cs(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){_o("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new cs(((n,r)=>{t.onerror=e=>{const t=ys(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new cs(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new ds(i),s=t(i.primaryKey,i.value,o);if(s instanceof cs){const e=s.catch((e=>(o.done(),cs.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>cs.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ms(e){return new cs(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ys(e.target.error);n(t)}}))}let vs=!1;function ys(e){const t=hs.S(p());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new No("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vs||(vs=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ws{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){_o("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{_o("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){ps(e)?_o("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await us(e)}await this.ee(6e4)}))}}class bs{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return cs.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return _o("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(_o("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=rs(t);os(r,n)>0&&(n=r)})),new is(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Is(e){return null==e}function Es(e){return 0===e&&1/e==-1/0}function Ss(e){return"number"==typeof e&&Number.isInteger(e)&&!Es(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function ks(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cs(t)),t=Ts(e.get(n),t);return Cs(t)}function Ts(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Cs(e){return e+"\x01\x01"}function xs(e){const t=e.length;if(To(t>=2),2===t)return To("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ho.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&ko(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:ko()}o=t+2}return new Ho(r)}_s._e=-1;const Ns=["userId","batchId"];function As(e,t){return[e,ks(t)]}function Ds(e,t,n){return[e,ks(t),n]}const Rs={},Ps=["prefixPath","collectionGroup","readTime","documentId"],Os=["prefixPath","collectionGroup","documentId"],Ls=["collectionGroup","readTime","prefixPath","documentId"],Ms=["canonicalId","targetId"],Fs=["targetId","path"],Us=["path","targetId"],Vs=["collectionId","parent"],js=["indexId","uid"],zs=["uid","sequenceNumber"],Bs=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qs=["indexId","uid","orderedDocumentKey"],Ws=["userId","collectionPath","documentId"],Ks=["userId","collectionPath","largestBatchId"],Gs=["userId","collectionGroup","largestBatchId"],Hs=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qs=[...Hs,"documentOverlays"],Ys=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$s=Ys,Js=[...$s,"indexConfiguration","indexState","indexEntries"];class Xs extends as{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Zs(e,t){const n=Co(e);return hs.M(n.ae,t)}function ea(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ta(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function na(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ra{constructor(e,t){this.comparator=e,this.root=t||oa.EMPTY}insert(e,t){return new ra(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oa.BLACK,null,null))}remove(e){return new ra(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}}class ia{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:oa.RED,this.left=null!=r?r:oa.EMPTY,this.right=null!=i?i:oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new oa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return oa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return oa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ko();if(this.right.isRed())throw ko();const e=this.left.check();if(e!==this.right.check())throw ko();return e+(this.isRed()?0:1)}}oa.EMPTY=null,oa.RED=!0,oa.BLACK=!1,oa.EMPTY=new class{constructor(){this.size=0}get key(){throw ko()}get value(){throw ko()}get color(){throw ko()}get left(){throw ko()}get right(){throw ko()}copy(e,t,n,r,i){return this}insert(e,t,n){return new oa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sa{constructor(e){this.comparator=e,this.data=new ra(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aa(this.data.getIterator())}getIteratorFrom(e){return new aa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof sa))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sa(this.comparator);return t.data=e,t}}class aa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ua(e){return e.hasNext()?e.getNext():void 0}class ca{constructor(e){this.fields=e,e.sort(Yo.comparator)}static empty(){return new ca([])}unionWith(e){let t=new sa(Yo.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ca(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class la extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ha{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new la("Invalid base64 string: "+e):e}}(e);return new ha(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ha(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ha.EMPTY_BYTE_STRING=new ha("");const da=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(e){if(To(!!e),"string"==typeof e){let t=0;const n=da.exec(e);if(To(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pa(e.seconds),nanos:pa(e.nanos)}}function pa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ga(e){return"string"==typeof e?ha.fromBase64String(e):ha.fromUint8Array(e)}function ma(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function va(e){const t=e.mapValue.fields.__previous_value__;return ma(t)?va(t):t}function ya(e){const t=fa(e.mapValue.fields.__local_write_time__.timestampValue);return new Wo(t.seconds,t.nanos)}class wa{constructor(e,t,n,r,i,o,s,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=u}}class ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}const _a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ia={nullValue:"NULL_VALUE"};function Ea(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ma(e)?4:Fa(e)?9007199254740991:10:ko()}function Sa(e,t){if(e===t)return!0;const n=Ea(e);if(n!==Ea(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ya(e).isEqual(ya(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=fa(e.timestampValue),r=fa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ga(e.bytesValue).isEqual(ga(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pa(e.geoPointValue.latitude)===pa(t.geoPointValue.latitude)&&pa(e.geoPointValue.longitude)===pa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pa(e.integerValue)===pa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=pa(e.doubleValue),r=pa(t.doubleValue);return n===r?Es(n)===Es(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Bo(e.arrayValue.values||[],t.arrayValue.values||[],Sa);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ea(n)!==ea(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sa(n[i],r[i])))return!1;return!0}(e,t);default:return ko()}}function ka(e,t){return void 0!==(e.values||[]).find((e=>Sa(e,t)))}function Ta(e,t){if(e===t)return 0;const n=Ea(e),r=Ea(t);if(n!==r)return zo(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zo(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=pa(e.integerValue||e.doubleValue),r=pa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ca(e.timestampValue,t.timestampValue);case 4:return Ca(ya(e),ya(t));case 5:return zo(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ga(e),r=ga(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=zo(n[i],r[i]);if(0!==e)return e}return zo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=zo(pa(e.latitude),pa(t.latitude));return 0!==n?n:zo(pa(e.longitude),pa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ta(n[i],r[i]);if(e)return e}return zo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_a.mapValue&&t===_a.mapValue)return 0;if(e===_a.mapValue)return 1;if(t===_a.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=zo(r[s],o[s]);if(0!==e)return e;const t=Ta(n[r[s]],i[o[s]]);if(0!==t)return t}return zo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ko()}}function Ca(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return zo(e,t);const n=fa(e),r=fa(t),i=zo(n.seconds,r.seconds);return 0!==i?i:zo(n.nanos,r.nanos)}function xa(e){return Na(e)}function Na(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=fa(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ga(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return $o.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Na(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Na(e.fields[i]));return n+"}"}(e.mapValue):ko()}function Aa(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Da(e){return!!e&&"integerValue"in e}function Ra(e){return!!e&&"arrayValue"in e}function Pa(e){return!!e&&"nullValue"in e}function Oa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function La(e){return!!e&&"mapValue"in e}function Ma(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ta(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ma(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ma(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Fa(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ua(e){return"nullValue"in e?Ia:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Aa(ba.empty(),$o.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ko()}function Va(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Aa(ba.empty(),$o.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?_a:ko()}function ja(e,t){const n=Ta(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function za(e,t){const n=Ta(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ba{constructor(e){this.value=e}static empty(){return new Ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!La(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(t)}setAll(e){let t=Yo.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ma(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());La(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];La(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ta(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ba(Ma(this.value))}}function qa(e){const t=[];return ta(e.fields,((e,n)=>{const r=new Yo([e]);if(La(n)){const e=qa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ca(t)}class Wa{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Wa(e,0,Ko.min(),Ko.min(),Ko.min(),Ba.empty(),0)}static newFoundDocument(e,t,n,r){return new Wa(e,1,t,Ko.min(),n,r,0)}static newNoDocument(e,t){return new Wa(e,2,t,Ko.min(),Ko.min(),Ba.empty(),0)}static newUnknownDocument(e,t){return new Wa(e,3,t,Ko.min(),Ko.min(),Ba.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ko.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ko.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ka{constructor(e,t){this.position=e,this.inclusive=t}}function Ga(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$o.comparator($o.fromName(s.referenceValue),n.key):Ta(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ha(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sa(e.position[n],t.position[n]))return!1;return!0}class Qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ya(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class $a{}class Ja extends $a{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new au(e,t,n):"array-contains"===t?new hu(e,n):"in"===t?new du(e,n):"not-in"===t?new fu(e,n):"array-contains-any"===t?new pu(e,n):new Ja(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new uu(e,n):new cu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ta(t,this.value)):null!==t&&Ea(this.value)===Ea(t)&&this.matchesComparison(Ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ko()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xa extends $a{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Xa(e,t)}matches(e){return Za(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Za(e){return"and"===e.op}function eu(e){return"or"===e.op}function tu(e){return nu(e)&&Za(e)}function nu(e){for(const t of e.filters)if(t instanceof Xa)return!1;return!0}function ru(e){if(e instanceof Ja)return e.field.canonicalString()+e.op.toString()+xa(e.value);if(tu(e))return e.filters.map((e=>ru(e))).join(",");{const t=e.filters.map((e=>ru(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function iu(e,t){return e instanceof Ja?function(e,t){return t instanceof Ja&&e.op===t.op&&e.field.isEqual(t.field)&&Sa(e.value,t.value)}(e,t):e instanceof Xa?function(e,t){return t instanceof Xa&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&iu(n,t.filters[r])),!0)}(e,t):void ko()}function ou(e,t){const n=e.filters.concat(t);return Xa.create(n,e.op)}function su(e){return e instanceof Ja?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(xa(e.value))}(e):e instanceof Xa?function(e){return e.op.toString()+" {"+e.getFilters().map(su).join(" ,")+"}"}(e):"Filter"}class au extends Ja{constructor(e,t,n){super(e,t,n),this.key=$o.fromName(n.referenceValue)}matches(e){const t=$o.comparator(e.key,this.key);return this.matchesComparison(t)}}class uu extends Ja{constructor(e,t){super(e,"in",t),this.keys=lu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cu extends Ja{constructor(e,t){super(e,"not-in",t),this.keys=lu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>$o.fromName(e.referenceValue)))}class hu extends Ja{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ra(t)&&ka(t.arrayValue,this.value)}}class du extends Ja{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ka(this.value.arrayValue,t)}}class fu extends Ja{constructor(e,t){super(e,"not-in",t)}matches(e){if(ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ka(this.value.arrayValue,t)}}class pu extends Ja{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ra(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ka(this.value.arrayValue,e)))}}class gu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ce=null}}function mu(e){return new gu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function vu(e){const t=Co(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ru(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Is(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xa(e))).join(",")),t.ce=e}return t.ce}function yu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ya(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!iu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ha(e.startAt,t.startAt)&&Ha(e.endAt,t.endAt)}function wu(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bu(e,t){return e.filters.filter((e=>e instanceof Ja&&e.field.isEqual(t)))}function _u(e,t,n){let r=Ia,i=!0;for(const o of bu(e,t)){let e=Ia,t=!0;switch(o.op){case"<":case"<=":e=Ua(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Ia}ja({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];ja({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Iu(e,t,n){let r=_a,i=!0;for(const o of bu(e,t)){let e=_a,t=!0;switch(o.op){case">=":case">":e=Va(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=_a}za({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];za({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Eu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Su(e,t,n,r,i,o,s,a){return new Eu(e,t,n,r,i,o,s,a)}function ku(e){return new Eu(e)}function Tu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cu(e){return null!==e.collectionGroup}function xu(e){const t=Co(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new sa(Yo.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Qa(r,n))})),e.has(Yo.keyField().canonicalString())||t.le.push(new Qa(Yo.keyField(),n))}return t.le}function Nu(e){const t=Co(e);return t.he||(t.he=Au(t,xu(e))),t.he}function Au(e,t){if("F"===e.limitType)return mu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qa(e.field,t)}));const n=e.endAt?new Ka(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ka(e.startAt.position,e.startAt.inclusive):null;return mu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Du(e,t){const n=e.filters.concat([t]);return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ru(e,t,n){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pu(e,t){return yu(Nu(e),Nu(t))&&e.limitType===t.limitType}function Ou(e){return"".concat(vu(Nu(e)),"|lt:").concat(e.limitType)}function Lu(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>su(e))).join(", "),"]")),Is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xa(e))).join(",")),"Target(".concat(t,")")}(Nu(e)),"; limitType=").concat(e.limitType,")")}function Mu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$o.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ga(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xu(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ga(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xu(e),t))}(e,t)}function Fu(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Uu(e){return(t,n)=>{let r=!1;for(const i of xu(e)){const e=Vu(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Vu(e,t,n){const r=e.field.isKeyField()?$o.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ta(r,i):ko()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ko()}}class ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return na(this.inner)}size(){return this.innerSize}}const zu=new ra($o.comparator);function Bu(){return zu}const qu=new ra($o.comparator);function Wu(){let e=qu;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ku(e){let t=qu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Gu(){return Qu()}function Hu(){return Qu()}function Qu(){return new ju((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Yu=new ra($o.comparator),$u=new sa($o.comparator);function Ju(){let e=$u;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Xu=new sa(zo);function Zu(){return Xu}function ec(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Es(t)?"-0":t}}function tc(e){return{integerValue:""+e}}function nc(e,t){return Ss(t)?tc(t):ec(e,t)}class rc{constructor(){this._=void 0}}function ic(e,t,n){return e instanceof ac?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ma(t)&&(t=va(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof uc?cc(e,t):e instanceof lc?hc(e,t):function(e,t){const n=sc(e,t),r=fc(n)+fc(e.Ie);return Da(n)&&Da(e.Ie)?tc(r):ec(e.serializer,r)}(e,t)}function oc(e,t,n){return e instanceof uc?cc(e,t):e instanceof lc?hc(e,t):n}function sc(e,t){return e instanceof dc?function(e){return Da(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ac extends rc{}class uc extends rc{constructor(e){super(),this.elements=e}}function cc(e,t){const n=pc(t);for(const r of e.elements)n.some((e=>Sa(e,r)))||n.push(r);return{arrayValue:{values:n}}}class lc extends rc{constructor(e){super(),this.elements=e}}function hc(e,t){let n=pc(t);for(const r of e.elements)n=n.filter((e=>!Sa(e,r)));return{arrayValue:{values:n}}}class dc extends rc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function fc(e){return pa(e.integerValue||e.doubleValue)}function pc(e){return Ra(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class gc{constructor(e,t){this.field=e,this.transform=t}}class mc{constructor(e,t){this.version=e,this.transformResults=t}}class vc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vc}static exists(e){return new vc(void 0,e)}static updateTime(e){return new vc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class wc{}function bc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ac(e.key,vc.none()):new kc(e.key,e.data,vc.none());{const n=e.data,r=Ba.empty();let i=new sa(Yo.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Tc(e.key,r,new ca(i.toArray()),vc.none())}}function _c(e,t,n){e instanceof kc?function(e,t,n){const r=e.value.clone(),i=xc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tc?function(e,t,n){if(!yc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=xc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ic(e,t,n,r){return e instanceof kc?function(e,t,n,r){if(!yc(e.precondition,t))return n;const i=e.value.clone(),o=Nc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tc?function(e,t,n,r){if(!yc(e.precondition,t))return n;const i=Nc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Cc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return yc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ec(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=sc(r.transform,e||null);null!=i&&(null===n&&(n=Ba.empty()),n.set(r.field,i))}return n||null}function Sc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Bo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof uc&&t instanceof uc||e instanceof lc&&t instanceof lc?Bo(e.elements,t.elements,Sa):e instanceof dc&&t instanceof dc?Sa(e.Ie,t.Ie):e instanceof ac&&t instanceof ac}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kc extends wc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tc extends wc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function xc(e,t,n){const r=new Map;To(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,oc(s,a,n[i]))}return r}function Nc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ic(e,o,t))}return r}class Ac extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dc extends wc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_c(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hu();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=bc(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Ko.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ju())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((e,t)=>Sc(e,t)))&&Bo(this.baseMutations,e.baseMutations,((e,t)=>Sc(e,t)))}}class Pc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){To(e.mutations.length===n.length);let r=Yu;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Pc(e,t,n,r)}}class Oc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Lc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mc,Fc;function Uc(e){switch(e){default:return ko();case xo.CANCELLED:case xo.UNKNOWN:case xo.DEADLINE_EXCEEDED:case xo.RESOURCE_EXHAUSTED:case xo.INTERNAL:case xo.UNAVAILABLE:case xo.UNAUTHENTICATED:return!1;case xo.INVALID_ARGUMENT:case xo.NOT_FOUND:case xo.ALREADY_EXISTS:case xo.PERMISSION_DENIED:case xo.FAILED_PRECONDITION:case xo.ABORTED:case xo.OUT_OF_RANGE:case xo.UNIMPLEMENTED:case xo.DATA_LOSS:return!0}}function Vc(e){if(void 0===e)return Io("GRPC error has no .code"),xo.UNKNOWN;switch(e){case Mc.OK:return xo.OK;case Mc.CANCELLED:return xo.CANCELLED;case Mc.UNKNOWN:return xo.UNKNOWN;case Mc.DEADLINE_EXCEEDED:return xo.DEADLINE_EXCEEDED;case Mc.RESOURCE_EXHAUSTED:return xo.RESOURCE_EXHAUSTED;case Mc.INTERNAL:return xo.INTERNAL;case Mc.UNAVAILABLE:return xo.UNAVAILABLE;case Mc.UNAUTHENTICATED:return xo.UNAUTHENTICATED;case Mc.INVALID_ARGUMENT:return xo.INVALID_ARGUMENT;case Mc.NOT_FOUND:return xo.NOT_FOUND;case Mc.ALREADY_EXISTS:return xo.ALREADY_EXISTS;case Mc.PERMISSION_DENIED:return xo.PERMISSION_DENIED;case Mc.FAILED_PRECONDITION:return xo.FAILED_PRECONDITION;case Mc.ABORTED:return xo.ABORTED;case Mc.OUT_OF_RANGE:return xo.OUT_OF_RANGE;case Mc.UNIMPLEMENTED:return xo.UNIMPLEMENTED;case Mc.DATA_LOSS:return xo.DATA_LOSS;default:return ko()}}(Fc=Mc||(Mc={}))[Fc.OK=0]="OK",Fc[Fc.CANCELLED=1]="CANCELLED",Fc[Fc.UNKNOWN=2]="UNKNOWN",Fc[Fc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fc[Fc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fc[Fc.NOT_FOUND=5]="NOT_FOUND",Fc[Fc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fc[Fc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fc[Fc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fc[Fc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fc[Fc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fc[Fc.ABORTED=10]="ABORTED",Fc[Fc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fc[Fc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fc[Fc.INTERNAL=13]="INTERNAL",Fc[Fc.UNAVAILABLE=14]="UNAVAILABLE",Fc[Fc.DATA_LOSS=15]="DATA_LOSS";let jc=null;function zc(){return new TextEncoder}const Bc=new go([4294967295,4294967295],0);function qc(e){const t=zc().encode(e),n=new po;return n.update(t),new Uint8Array(n.digest())}function Wc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new go([n,r],0),new go([i,o],0)]}class Kc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Gc("Invalid padding: ".concat(t));if(n<0)throw new Gc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Gc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Gc("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=go.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(go.fromNumber(n)));return 1===r.compare(Bc)&&(r=new go([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=qc(e),[n,r]=Wc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Kc(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=qc(e),[n,r]=Wc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hc(Ko.min(),r,new ra(zo),Bu(),Ju())}}class Qc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Qc(n,t,Ju(),Ju(),Ju())}}class Yc{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class $c{constructor(e,t){this.targetId=e,this.fe=t}}class Jc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ha.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xc{constructor(){this.ge=0,this.pe=tl(),this.ye=ha.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ju(),t=Ju(),n=Ju();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ko()}})),new Qc(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=tl()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,To(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Zc{constructor(e){this.Le=e,this.ke=new Map,this.qe=Bu(),this.Qe=el(),this.Ke=new ra(zo)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:ko()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(wu(i))if(0===n){const e=new $o(i.path);this.We(t,e,Wa.newNoDocument(e,Ko.min()))}else To(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==jc||jc.tt(function(e,t,n,r,i){var o,s,a,u,c,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(u=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ga(n).toUint8Array()}catch(e){if(e instanceof la)return Eo("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Kc(o,r,i)}catch(e){return Eo(e instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&wu(i.target)){const t=new $o(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Wa.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Ju();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Hc(e,t,this.Ke,this.qe,n);return this.qe=Bu(),this.Qe=el(),this.Ke=new ra(zo),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Xc,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new sa(zo),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||_o("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Xc),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function el(){return new ra($o.comparator)}function tl(){return new ra($o.comparator)}const nl={asc:"ASCENDING",desc:"DESCENDING"},rl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},il={and:"AND",or:"OR"};class ol{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sl(e,t){return e.useProto3Json||Is(t)?t:{value:t}}function al(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ul(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cl(e,t){return al(e,t.toTimestamp())}function ll(e){return To(!!e),Ko.fromTimestamp(function(e){const t=fa(e);return new Wo(t.seconds,t.nanos)}(e))}function hl(e,t){return dl(e,t).canonicalString()}function dl(e,t){const n=function(e){return new Ho(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function fl(e){const t=Ho.fromString(e);return To(Ll(t)),t}function pl(e,t){return hl(e.databaseId,t.path)}function gl(e,t){const n=fl(t);if(n.get(1)!==e.databaseId.projectId)throw new No(xo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new No(xo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $o(wl(n))}function ml(e,t){return hl(e.databaseId,t)}function vl(e){const t=fl(e);return 4===t.length?Ho.emptyPath():wl(t)}function yl(e){return new Ho(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wl(e){return To(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bl(e,t,n){return{name:pl(e,t),fields:n.value.mapValue.fields}}function _l(e,t,n){const r=gl(e,t.name),i=ll(t.updateTime),o=t.createTime?ll(t.createTime):Ko.min(),s=new Ba({mapValue:{fields:t.fields}}),a=Wa.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Il(e,t){let n;if(t instanceof kc)n={update:bl(e,t.key,t.value)};else if(t instanceof Ac)n={delete:pl(e,t.key)};else if(t instanceof Tc)n={update:bl(e,t.key,t.data),updateMask:Ol(t.fieldMask)};else{if(!(t instanceof Dc))return ko();n={verify:pl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ac)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw ko()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ko()}(e,t.precondition)),n}function El(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?vc.updateTime(ll(e.updateTime)):void 0!==e.exists?vc.exists(e.exists):vc.none()}(t.currentDocument):vc.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)To("REQUEST_TIME"===t.setToServerValue),n=new ac;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new uc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new lc(e)}else"increment"in t?n=new dc(e,t.increment):ko();const r=Yo.fromServerFormat(t.fieldPath);return new gc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=gl(e,t.update.name),o=new Ba({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new ca(t.map((e=>Yo.fromServerFormat(e))))}(t.updateMask);return new Tc(i,o,e,n,r)}return new kc(i,o,n,r)}if(t.delete){const r=gl(e,t.delete);return new Ac(r,n)}if(t.verify){const r=gl(e,t.verify);return new Dc(r,n)}return ko()}function Sl(e,t){return{documents:[ml(e,t.path)]}}function kl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ml(e,i);const o=function(e){if(0!==e.length)return Pl(Xa.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Dl(e.field),direction:xl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=sl(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Tl(e){let t=vl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){To(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Cl(e);return t instanceof Xa&&tu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Qa(Rl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Is(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Ka(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ka(n,t)}(n.endAt)),Su(t,i,s,o,a,"F",u,c)}function Cl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rl(e.unaryFilter.field);return Ja.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rl(e.unaryFilter.field);return Ja.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rl(e.unaryFilter.field);return Ja.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rl(e.unaryFilter.field);return Ja.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ko()}}(e):void 0!==e.fieldFilter?function(e){return Ja.create(Rl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ko()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Xa.create(e.compositeFilter.filters.map((e=>Cl(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ko()}}(e.compositeFilter.op))}(e):ko()}function xl(e){return nl[e]}function Nl(e){return rl[e]}function Al(e){return il[e]}function Dl(e){return{fieldPath:e.canonicalString()}}function Rl(e){return Yo.fromServerFormat(e.fieldPath)}function Pl(e){return e instanceof Ja?function(e){if("=="===e.op){if(Oa(e.value))return{unaryFilter:{field:Dl(e.field),op:"IS_NAN"}};if(Pa(e.value))return{unaryFilter:{field:Dl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oa(e.value))return{unaryFilter:{field:Dl(e.field),op:"IS_NOT_NAN"}};if(Pa(e.value))return{unaryFilter:{field:Dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(e.field),op:Nl(e.op),value:e.value}}}(e):e instanceof Xa?function(e){const t=e.getFilters().map((e=>Pl(e)));return 1===t.length?t[0]:{compositeFilter:{op:Al(e.op),filters:t}}}(e):ko()}function Ol(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ml{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ko.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ko.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ha.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fl{constructor(e){this.ct=e}}function Ul(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:pl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:al(e,t.version.toTimestamp()),createTime:al(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jl(t.version)};else{if(!t.isUnknownDocument())return ko();r.unknownDocument={path:n.path.toArray(),version:jl(t.version)}}return r}function Vl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zl(e){const t=new Wo(e.seconds,e.nanoseconds);return Ko.fromTimestamp(t)}function Bl(e,t){const n=(t.baseMutations||[]).map((t=>El(e.ct,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>El(e.ct,t))),i=Wo.fromMillis(t.localWriteTimeMs);return new Rc(t.batchId,i,n,r)}function ql(e){const t=zl(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?zl(e.lastLimboFreeSnapshotVersion):Ko.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return To(1===e.documents.length),Nu(ku(vl(e.documents[0])))}(e.query):function(e){return Nu(Tl(e))}(e.query),new Ml(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ha.fromBase64String(e.resumeToken))}function Wl(e,t){const n=jl(t.snapshotVersion),r=jl(t.lastLimboFreeSnapshotVersion);let i;i=wu(t.target)?Sl(e.ct,t.target):kl(e.ct,t.target).ut;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vu(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Kl(e){const t=Tl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ru(t,t.limit,"L"):t}function Gl(e,t){return new Oc(t.largestBatchId,El(e.ct,t.overlayMutation))}function Hl(e,t){const n=t.path.lastSegment();return[e,ks(t.path.popLast()),n]}function Ql(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:jl(r.readTime),documentKey:ks(r.documentKey.path),largestBatchId:r.largestBatchId}}class Yl{getBundleMetadata(e,t){return $l(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:zl(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return $l(e).put(function(e){return{bundleId:e.id,createTime:jl(ll(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Jl(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Kl(e.bundledQuery),readTime:zl(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Jl(e).put(function(e){return{name:e.name,readTime:jl(ll(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function $l(e){return Zs(e,"bundles")}function Jl(e){return Zs(e,"namedQueries")}class Xl{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Xl(e,n)}getOverlay(e,t){return Zl(e).get(Hl(this.userId,t)).next((e=>e?Gl(this.serializer,e):null))}getOverlays(e,t){const n=Gu();return cs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Oc(t,i);r.push(this.ht(e,o))})),cs.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ks(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Zl(e).H("collectionPathOverlayIndex",r))})),cs.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Gu(),i=ks(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Zl(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Gl(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Gu();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zl(e).Y({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=Gl(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Zl(e).put(function(e,t,n){const[r,i,o]=Hl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Il(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Zl(e){return Zs(e,"documentOverlays")}class eh{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(pa(e.integerValue));else if("doubleValue"in e){const n=pa(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Es(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ga(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Fa(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ko()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),$o.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function th(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function nh(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=th(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}eh.bt=new eh;class rh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=nh(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=nh(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class ih{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class oh{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class sh{constructor(){this.Gt=new rh,this.zt=new ih(this.Gt),this.jt=new oh(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ah{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ah(this.indexId,this.documentKey,this.arrayValue,n)}}function uh(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ch(e.arrayValue,t.arrayValue),0!==n?n:(n=ch(e.directionalValue,t.directionalValue),0!==n?n:$o.comparator(e.documentKey,t.documentKey)))}function ch(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class lh{constructor(e){this.Yt=new sa(((e,t)=>Yo.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(To(e.collectionGroup===this.collectionId),this.en)return!1;const t=Xo(e);if(void 0!==t&&!this.nn(t))return!1;const n=Zo(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Zt.length||!this.sn(this.Zt[o++],e))return!1}return!0}on(){if(this.en)return null;let e=new sa(Yo.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new es(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new es(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new es(n.field,"asc"===n.dir?0:1)));return new Jo(Jo.UNKNOWN_ID,this.collectionId,t,ts.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function hh(e){var t,n;if(To(e instanceof Ja||e instanceof Xa),e instanceof Ja){if(e instanceof du){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ja.create(e.field,"==",t))))||[];return Xa.create(r,"or")}return e}const r=e.filters.map((e=>hh(e)));return Xa.create(r,e.op)}function dh(e){if(0===e.getFilters().length)return[];const t=mh(hh(e));return To(gh(t)),fh(t)||ph(t)?[t]:t.getFilters()}function fh(e){return e instanceof Ja}function ph(e){return e instanceof Xa&&tu(e)}function gh(e){return fh(e)||ph(e)||function(e){if(e instanceof Xa&&eu(e)){for(const t of e.getFilters())if(!fh(t)&&!ph(t))return!1;return!0}return!1}(e)}function mh(e){if(To(e instanceof Ja||e instanceof Xa),e instanceof Ja)return e;if(1===e.filters.length)return mh(e.filters[0]);const t=e.filters.map((e=>mh(e)));let n=Xa.create(t,e.op);return n=wh(n),gh(n)?n:(To(n instanceof Xa),To(Za(n)),To(n.filters.length>1),n.filters.reduce(((e,t)=>vh(e,t))))}function vh(e,t){let n;return To(e instanceof Ja||e instanceof Xa),To(t instanceof Ja||t instanceof Xa),n=e instanceof Ja?t instanceof Ja?function(e,t){return Xa.create([e,t],"and")}(e,t):yh(e,t):t instanceof Ja?yh(t,e):function(e,t){if(To(e.filters.length>0&&t.filters.length>0),Za(e)&&Za(t))return ou(e,t.getFilters());const n=eu(e)?e:t,r=eu(e)?t:e,i=n.filters.map((e=>vh(e,r)));return Xa.create(i,"or")}(e,t),wh(n)}function yh(e,t){if(Za(t))return ou(t,e.getFilters());{const n=t.filters.map((t=>vh(e,t)));return Xa.create(n,"or")}}function wh(e){if(To(e instanceof Ja||e instanceof Xa),e instanceof Ja)return e;const t=e.getFilters();if(1===t.length)return wh(t[0]);if(nu(e))return e;const n=t.map((e=>wh(e))),r=[];return n.forEach((t=>{t instanceof Ja?r.push(t):t instanceof Xa&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Xa.create(r,e.op)}class bh{constructor(){this._n=new _h}addToCollectionParentIndex(e,t){return this._n.add(t),cs.resolve()}getCollectionParents(e,t){return cs.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return cs.resolve()}deleteFieldIndex(e,t){return cs.resolve()}deleteAllFieldIndexes(e){return cs.resolve()}createTargetIndexes(e,t){return cs.resolve()}getDocumentsMatchingTarget(e,t){return cs.resolve(null)}getIndexType(e,t){return cs.resolve(0)}getFieldIndexes(e,t){return cs.resolve([])}getNextCollectionGroupToUpdate(e){return cs.resolve(null)}getMinOffset(e,t){return cs.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return cs.resolve(is.min())}updateCollectionGroup(e,t,n){return cs.resolve()}updateIndexEntries(e,t){return cs.resolve()}}class _h{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sa(Ho.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sa(Ho.comparator)).toArray()}}const Ih=new Uint8Array(0);class Eh{constructor(e,t){this.databaseId=t,this.an=new _h,this.un=new ju((e=>vu(e)),((e,t)=>yu(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:ks(r)};return Sh(e).put(i)}return cs.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[qo(t),""],!1,!0);return Sh(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(xs(r.parent))}return n}))}addFieldIndex(e,t){const n=Th(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ch(e);return i.next((e=>{n.put(Ql(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Th(e),r=Ch(e),i=kh(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Th(e),n=kh(e),r=Ch(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return cs.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new lh(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=kh(e);let r=!0;const i=new Map;return cs.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ju();const r=[];return cs.forEach(i,((i,o)=>{_o("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(vu(t)));const s=function(e,t){const n=Xo(t);if(void 0===n)return null;for(const r of bu(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Zo(t))for(const t of bu(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Zo(t)){const t=0===i.kind?_u(e,i.fieldPath,e.startAt):Iu(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ka(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Zo(t)){const t=0===i.kind?Iu(e,i.fieldPath,e.endAt):_u(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ka(n,r)}(o,i),l=this.hn(i,o,u),h=this.hn(i,o,c),d=this.Pn(i,o,a),f=this.In(i.indexId,s,l,u.inclusive,h,c.inclusive,d);return cs.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=$o.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return cs.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:dh(Xa.create(e.filters,"and")).map((t=>mu(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),u=a/(null!=t?t.length:1),c=[];for(let l=0;l<a;++l){const a=t?this.Tn(t[l/u]):Ih,h=this.En(e,a,n[l%u],r),d=this.dn(e,a,i[l%u],o),f=s.map((t=>this.En(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}En(e,t,n,r){const i=new ah(e,$o.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ah(e,$o.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new lh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return cs.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new sa(Yo.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new sh;for(const r of Zo(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);eh.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new sh;return eh.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new sh;return eh.bt.Pt(Aa(this.databaseId,t),n.Ht(function(e){const t=Zo(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new sh);let i=0;for(const o of Zo(e)){const e=n[i++];for(const n of r)if(this.Vn(t,o.fieldPath)&&Ra(e))r=this.mn(r,o,e);else{const t=n.Ht(o.kind);eh.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new sh;n.seed(e.Wt()),eh.bt.Pt(o,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Ja&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Th(e),r=Ch(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return cs.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ts(t.sequenceNumber,new is(zl(t.readTime),new $o(xs(t.documentKey)),t.largestBatchId)):ts.empty(),r=e.fields.map((e=>{let[t,n]=e;return new es(Yo.fromServerFormat(t),n)}));return new Jo(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:zo(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Th(e),i=Ch(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>cs.forEach(t,(t=>i.put(Ql(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return cs.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?cs.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),cs.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?cs.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return kh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return kh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=kh(e);let i=new sa(uh);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ah(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new sa(uh);const r=this.An(t,e);if(null==r)return n;const i=Xo(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Ra(o))for(const i of o.arrayValue.values||[])n=n.add(new ah(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ah(t.indexId,e.key,Ih,r));return n}wn(e,t,n,r,i){_o("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=ua(o),u=ua(s);for(;a||u;){let e=!1,t=!1;if(a&&u){const r=n(a,u);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(u),u=ua(s)):t?(i(a),a=ua(o)):(a=ua(o),u=ua(s))}}(r,i,uh,(r=>{o.push(this.Sn(e,t,n,r))}),(r=>{o.push(this.bn(e,t,n,r))})),cs.waitFor(o)}gn(e){let t=1;return Ch(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>uh(e,t))).filter(((e,t,n)=>!t||0!==uh(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=uh(o,e),i=uh(o,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(o),r.push(o.Jt());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.Dn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Ih,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Ih,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return uh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(xh)}getMinOffset(e,t){return cs.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||ko())))).next(xh)}}function Sh(e){return Zs(e,"collectionParents")}function kh(e){return Zs(e,"indexEntries")}function Th(e){return Zs(e,"indexConfiguration")}function Ch(e){return Zs(e,"indexState")}function xh(e){To(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;os(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new is(t.readTime,t.documentKey,n)}const Nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ah{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ah(e,Ah.DEFAULT_COLLECTION_PERCENTILE,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dh(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.Y({range:s},((e,t,n)=>(a++,n.delete())));o.push(u.next((()=>{To(1===a)})));const c=[];for(const l of n.mutations){const e=Ds(t,l.key.path,n.batchId);o.push(i.delete(e)),c.push(l.key)}return cs.waitFor(o).next((()=>c))}function Rh(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ko();t=e.noDocument}return JSON.stringify(t).length}Ah.DEFAULT_COLLECTION_PERCENTILE=10,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ah.DEFAULT=new Ah(41943040,Ah.DEFAULT_COLLECTION_PERCENTILE,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ah.DISABLED=new Ah(-1,0,0);class Ph{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){To(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ph(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Mh(e),o=Lh(e);return o.add({}).next((s=>{To("number"==typeof s);const a=new Rc(s,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Il(e.ct,t))),i=n.mutations.map((t=>Il(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let l=new sa(((e,t)=>zo(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ds(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),c.push(o.put(u)),c.push(i.put(t,Rs))}return l.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[s]=a.keys()})),cs.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return Lh(e).get(t).next((e=>e?(To(e.userId===this.userId),Bl(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?cs.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Lh(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(To(t.batchId>=n),i=Bl(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Lh(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lh(e).W("userMutationsIndex",t).next((e=>e.map((e=>Bl(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=As(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Mh(e).Y({range:r},((n,r,o)=>{const[s,a,u]=n,c=xs(a);if(s===this.userId&&t.path.isEqual(c))return Lh(e).get(u).next((e=>{if(!e)throw ko();To(e.userId===this.userId),i.push(Bl(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sa(zo);const r=[];return t.forEach((t=>{const i=As(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Mh(e).Y({range:o},((e,r,i)=>{const[o,s,a]=e,u=xs(s);o===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(s)})),cs.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=As(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new sa(zo);return Mh(e).Y({range:o},((e,t,i)=>{const[o,a,u]=e,c=xs(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(u)):i.done()})).next((()=>this.Fn(e,s)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Lh(e).get(t).next((e=>{if(null===e)throw ko();To(e.userId===this.userId),n.push(Bl(this.serializer,e))})))})),cs.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Dh(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),cs.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return cs.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Mh(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=xs(e[1]);r.push(t)}else n.done()})).next((()=>{To(0===r.length)}))}))}containsKey(e,t){return Oh(e,this.userId,t)}xn(e){return Fh(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Oh(e,t,n){const r=As(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Mh(e).Y({range:o,J:!0},((e,n,r)=>{const[o,a,u]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Lh(e){return Zs(e,"mutations")}function Mh(e){return Zs(e,"documentMutations")}function Fh(e){return Zs(e,"mutationQueues")}class Uh{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Uh(0)}static Bn(){return new Uh(-1)}}class Vh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new Uh(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Ko.fromTimestamp(new Wo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>jh(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(To(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return jh(e).Y(((o,s)=>{const a=ql(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>cs.waitFor(i))).next((()=>r))}forEachTarget(e,t){return jh(e).Y(((e,n)=>{const r=ql(n);t(r)}))}Ln(e){return zh(e).get("targetGlobalKey").next((e=>(To(null!==e),e)))}kn(e,t){return zh(e).put("targetGlobalKey",t)}qn(e,t){return jh(e).put(Wl(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=vu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return jh(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=ql(n);yu(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Bh(e);return t.forEach((t=>{const o=ks(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),cs.waitFor(r)}removeMatchingKeys(e,t,n){const r=Bh(e);return cs.forEach(t,(t=>{const i=ks(t.path);return cs.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Bh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bh(e);let i=Ju();return r.Y({range:n,J:!0},((e,t,n)=>{const r=xs(e[1]),o=new $o(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=ks(t.path),r=IDBKeyRange.bound([n],[qo(n)],!1,!0);let i=0;return Bh(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return jh(e).get(t).next((e=>e?ql(e):null))}}function jh(e){return Zs(e,"targets")}function zh(e){return Zs(e,"targetGlobal")}function Bh(e){return Zs(e,"targetDocuments")}function qh(e,t){let[n,r]=e,[i,o]=t;const s=zo(n,i);return 0===s?zo(r,o):s}class Wh{constructor(e){this.Kn=e,this.buffer=new sa(qh),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();qh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){_o("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ps(e)?_o("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await us(e)}await this.zn(3e5)}))}}class Gh{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return cs.resolve(_s._e);const n=new Wh(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_o("LruGarbageCollector","Garbage collection skipped; disabled"),cs.resolve(Nh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(_o("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Nh):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,s,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(_o("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),bo()<=V.DEBUG&&_o("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-a)+"ms\n"+"Total Duration: ".concat(u-c,"ms")),cs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Hh(e,t){return new Gh(e,t)}class Qh{constructor(e,t){this.db=e,this.garbageCollector=Hh(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Yh(e,n)}removeReference(e,t,n){return Yh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Yh(e,t)}er(e,t){return function(e,t){let n=!1;return Fh(e).Z((r=>Oh(e,r,t).next((e=>(e&&(n=!0),cs.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((o,s)=>{if(s<=t){const t=this.er(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Ko.min()),Bh(e).delete(function(e){return[0,ks(e.path)]}(o)))))}));r.push(t)}})).next((()=>cs.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Yh(e,t)}Xn(e,t){const n=Bh(e);let r,i=_s._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:u}=n;0===o?(i!==_s._e&&t(new $o(xs(r)),i),i=u,r=a):i=_s._e})).next((()=>{i!==_s._e&&t(new $o(xs(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yh(e,t){return Bh(e).put(function(e,t){return{targetId:0,path:ks(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class $h{constructor(){this.changes=new ju((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?cs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return td(e).put(n)}removeEntry(e,t,n){return td(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Wa.newInvalidDocument(t);return td(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nd(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Wa.newInvalidDocument(t)};return td(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nd(t))},((e,r)=>{n={document:this.nr(t,r),size:Rh(r)}})).next((()=>n))}getEntries(e,t){let n=Bu();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Bu(),r=new ra($o.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Rh(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return cs.resolve();let r=new sa(id);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(nd(r.first()),nd(r.last())),o=r.getIterator();let s=o.getNext();return td(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=$o.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&id(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.U(nd(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Vl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return td(e).W(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Bu();for(const i of e){const e=this.nr($o.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Mu(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Bu();const o=rd(t,n),s=rd(t,is.max());return td(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.nr($o.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Zh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ed(e).get("remoteDocumentGlobalKey").next((e=>(To(!!e),e)))}tr(e,t){return ed(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=_l(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$o.fromSegments(t.noDocument.path),r=zl(t.noDocument.readTime);n=Wa.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ko();{const e=$o.fromSegments(t.unknownDocument.path),r=zl(t.unknownDocument.version);n=Wa.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Wo(e[0],e[1]);return Ko.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ko.min()))return e}return Wa.newInvalidDocument(e)}}function Xh(e){return new Jh(e)}class Zh extends $h{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new ju((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new sa(((e,t)=>zo(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Ul(this.ar.serializer,o);r=r.add(i.path.popLast());const u=Rh(a);n+=u-s.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Ul(this.ar.serializer,o.convertToNoDocument(Ko.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),cs.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ed(e){return Zs(e,"remoteDocumentGlobal")}function td(e){return Zs(e,"remoteDocumentsV14")}function nd(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rd(e,t){const n=t.documentKey.path.toArray();return[e,Vl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function id(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=zo(n[o],r[o]),i)return i;return i=zo(n.length,r.length),i||(i=zo(n[n.length-2],r[r.length-2]),i||zo(n[n.length-1],r[r.length-1]))}class od{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ic(n.mutation,e,ca.empty(),Wo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ju()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ju();const r=Gu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Wu();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Gu();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ju())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Bu();const o=Qu(),s=Qu();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Tc)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Ic(s.mutation,t,s.mutation.getFieldMask(),Wo.now())):o.set(t.key,ca.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new od(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Qu();let r=new ra(((e,t)=>e-t)),i=Ju();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||ca.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ju()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,u=r.value,c=Hu();u.forEach((e=>{if(!i.has(e)){const r=bc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return cs.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):cs.resolve(Gu());let s=-1,a=i;return o.next((t=>cs.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?cs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ju()))).next((e=>({batchId:s,changes:Ku(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $o(t)).next((e=>{let t=Wu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Wu();return this.indexManager.getCollectionParents(e,i).next((s=>cs.forEach(s,(s=>{const a=function(e,t){return new Eu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wa.newInvalidDocument(r)))}));let n=Wu();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Ic(o.mutation,r,ca.empty(),Wo.now()),Mu(t,r)&&(n=n.insert(e,r))})),n}))}}class ad{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return cs.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ll(e.createTime)}}(t)),cs.resolve()}getNamedQuery(e,t){return cs.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Kl(e.bundledQuery),readTime:ll(e.readTime)}}(t)),cs.resolve()}}class ud{constructor(){this.overlays=new ra($o.comparator),this.hr=new Map}getOverlay(e,t){return cs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gu();return cs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),cs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),cs.resolve()}getOverlaysForCollection(e,t,n){const r=Gu(),i=t.length+1,o=new $o(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return cs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ra(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Gu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Gu(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return cs.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Oc(t,n));let i=this.hr.get(t);void 0===i&&(i=Ju(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class cd{constructor(){this.Pr=new sa(ld.Ir),this.Tr=new sa(ld.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new ld(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new ld(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new $o(new Ho([])),n=new ld(t,e),r=new ld(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new $o(new Ho([])),n=new ld(t,e),r=new ld(t,e+1);let i=Ju();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ld(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ld{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return $o.comparator(e.key,t.key)||zo(e.pr,t.pr)}static Er(e,t){return zo(e.pr,t.pr)||$o.comparator(e.key,t.key)}}class hd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new sa(ld.Ir)}checkEmpty(e){return cs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Rc(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.wr=this.wr.add(new ld(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return cs.resolve(o)}lookupMutationBatch(e,t){return cs.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return cs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return cs.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return cs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ld(t,0),r=new ld(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),cs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sa(zo);return t.forEach((e=>{const t=new ld(e,0),r=new ld(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),cs.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$o.isDocumentKey(i)||(i=i.child(""));const o=new ld(new $o(i),0);let s=new sa(zo);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),o),cs.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){To(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return cs.forEach(t.mutations,(r=>{const i=new ld(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new ld(t,0),r=this.wr.firstAfterOrEqual(n);return cs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,cs.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class dd{constructor(e){this.vr=e,this.docs=new ra($o.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return cs.resolve(n?n.document.mutableCopy():Wa.newInvalidDocument(t))}getEntries(e,t){let n=Bu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Wa.newInvalidDocument(e))})),cs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bu();const o=t.path,s=new $o(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||os(rs(s),n)<=0||(r.has(s.key)||Mu(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return cs.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ko()}Fr(e,t){return cs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new fd(this)}getSize(e){return cs.resolve(this.size)}}class fd extends $h{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),cs.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class pd{constructor(e){this.persistence=e,this.Mr=new ju((e=>vu(e)),yu),this.lastRemoteSnapshotVersion=Ko.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cd,this.targetCount=0,this.Br=Uh.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),cs.resolve()}getLastRemoteSnapshotVersion(e){return cs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return cs.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),cs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),cs.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Uh(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,cs.resolve()}updateTargetData(e,t){return this.qn(t),cs.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,cs.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),cs.waitFor(i).next((()=>r))}getTargetCount(e){return cs.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return cs.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),cs.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),cs.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),cs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return cs.resolve(n)}containsKey(e,t){return cs.resolve(this.Nr.containsKey(t))}}class gd{constructor(e,t){this.Lr={},this.overlays={},this.kr=new _s(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pd(this),this.indexManager=new bh,this.remoteDocumentCache=function(e){return new dd(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Fl(t),this.$r=new ad(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ud,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new hd(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){_o("MemoryPersistence","Starting transaction:",e);const r=new md(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return cs.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class md extends as{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.zr=new cd,this.jr=null}static Hr(e){return new vd(e)}get Jr(){if(this.jr)return this.jr;throw ko()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),cs.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),cs.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),cs.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cs.forEach(this.Jr,(n=>{const r=$o.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ko.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return cs.or([()=>cs.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class yd{constructor(e){this.serializer=e}N(e,t,n,r){const i=new ls("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0}),e.createObjectStore("documentMutations")}(e),wd(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=cs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),wd(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ko.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ns,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return cs.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Xr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(o=o.next((()=>this.ti(i)))),n<8&&r>=8&&(o=o.next((()=>this.ni(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ri(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ws});t.createIndex("collectionPathOverlayIndex",Ks,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Gs,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ps});t.createIndex("documentKeyIndex",Os),t.createIndex("collectionGroupIndex",Ls)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:js}).createIndex("sequenceNumberIndex",zs,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Bs}).createIndex("documentKeyIndex",qs,{unique:!1})}(e)))),o}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Rh(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>cs.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>cs.forEach(n,(n=>{To(n.userId===t.userId);const r=Bl(this.serializer,n);return Dh(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new Ho(n),s=function(e){return[0,ks(e)]}(o);r.push(t.get(s).next((n=>n?cs.resolve():(n=>t.put({targetId:0,path:ks(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>cs.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Vs});const n=t.store("collectionParents"),r=new _h,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ks(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Ho(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const s=xs(r);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=ql(n),i=Wl(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new $o(Ho.fromString(e.document.name).popFirst(5)):e.noDocument?$o.fromSegments(e.noDocument.path):e.unknownDocument?$o.fromSegments(e.unknownDocument.path):ko()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>cs.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Xh(this.serializer),i=new gd(vd.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ju();Bl(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),cs.forEach(n,((e,n)=>{const o=new vo(n),s=Xl.lt(this.serializer,o),a=i.getIndexManager(o),u=Ph.lt(o,this.serializer,a,i.referenceDelegate);return new sd(r,u,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Xs(t,_s._e),e).next()}))}))}}function wd(e){e.createObjectStore("targetDocuments",{keyPath:Fs}).createIndex("documentTargetsIndex",Us,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ms,{unique:!0}),e.createObjectStore("targetGlobal")}const bd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _d{constructor(e,t,n,r,i,o,s,a,u,c){let l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=o,this.document=s,this._i=u,this.ai=c,this.ui=l,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!_d.D())throw new No(xo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qh(this,r),this.Ti=t+"main",this.serializer=new Fl(a),this.Ei=new hs(this.Ti,this.ui,new yd(this.serializer)),this.Qr=new Vh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xh(this.serializer),this.$r=new Yl,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new No(xo.FAILED_PRECONDITION,bd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new _s(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ed(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(ps(e))return _o("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _o("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Id(e).get("owner").next((e=>cs.resolve(this.Si(e))))}bi(e){return Ed(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Zs(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return cs.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?cs.resolve(!0):Id(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new No(xo.FAILED_PRECONDITION,bd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ed(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&_o("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Xs(e,_s._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Ed(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Ph.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Eh(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xl.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){_o("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Js:14===e?$s:13===e?Ys:12===e?Qs:11===e?Hs:void ko()}(this.ui);let o;return this.Ei.runTransaction(e,r,i,(r=>(o=new Xs(r,this.kr?this.kr.next():_s._e),"readwrite-primary"===t?this.gi(o).next((e=>!!e||this.pi(o))).next((t=>{if(!t)throw Io("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new No(xo.FAILED_PRECONDITION,ss);return n(o)})).next((e=>this.wi(o).next((()=>e)))):this.ki(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}ki(e){return Id(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new No(xo.FAILED_PRECONDITION,bd)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Id(e).put("owner",t)}static D(){return hs.D()}yi(e){const t=Id(e);return t.get("owner").next((e=>this.Si(e)?(_o("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):cs.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Io("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;w()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return _o("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Io("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Io("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Id(e){return Zs(e,"owner")}function Ed(e){return Zs(e,"clientMetadata")}function Sd(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class kd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Ju(),r=Ju();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new kd(e,t.fromCache,n,r)}}class Td{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cd{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=w()?8:hs.v(p())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Td;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(bo()<=V.DEBUG&&_o("QueryEngine","SDK will not create cache indexes for query:",Lu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),cs.resolve()):(bo()<=V.DEBUG&&_o("QueryEngine","Query:",Lu(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(bo()<=V.DEBUG&&_o("QueryEngine","The SDK decides to create cache indexes for query:",Lu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nu(t))):cs.resolve())}ji(e,t){if(Tu(t))return cs.resolve(null);let n=Nu(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ru(t,null,"F"),n=Nu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ju(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Zi(t,r);return this.Xi(t,o,i,n.readTime)?this.ji(e,Ru(t,null,"F")):this.es(e,o,t,n)}))))})))))}Hi(e,t,n,r){return Tu(t)||r.isEqual(Ko.min())?cs.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?cs.resolve(null):(bo()<=V.DEBUG&&_o("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lu(t)),this.es(e,o,t,ns(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new sa(Uu(e));return t.forEach(((t,r)=>{Mu(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return bo()<=V.DEBUG&&_o("QueryEngine","Using full collection scan to execute query:",Lu(t)),this.zi.getDocumentsMatchingQuery(e,t,is.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class xd{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new ra(zo),this.rs=new ju((e=>vu(e)),yu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Nd(e,t,n,r){return new xd(e,t,n,r)}async function Ad(e,t){const n=Co(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Ju();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Dd(e){const t=Co(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Rd(e,t,n){let r=Ju(),i=Ju();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Bu();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Ko.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):_o("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{cs:r,ls:i}}))}function Pd(e,t){const n=Co(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Od(e,t){const n=Co(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,cs.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Ml(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Ld(e,t,n){const r=Co(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ps(e))throw e;_o("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Md(e,t,n){const r=Co(e);let i=Ko.min(),o=Ju();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Co(e),i=r.rs.get(n);return void 0!==i?cs.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Nu(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Ko.min(),n?o:Ju()))).next((e=>(Vd(r,Fu(t),e),{documents:e,hs:o})))))}function Fd(e,t){const n=Co(e),r=Co(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Ud(e,t){const n=Co(e),r=n.ss.get(t)||Ko.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,ns(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Vd(n,t,e),e)))}function Vd(e,t,n){let r=e.ss.get(t)||Ko.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function jd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ju();const r=await Od(e,Nu(Kl(t.bundledQuery))),i=Co(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=ll(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(e,t);const s=r.withResumeToken(ha.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(s.targetId,s),i.Qr.updateTargetData(e,s).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function zd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bd(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function qd(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Wd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new No(r.error.code,r.error.message))),o?new Wd(e,t,r.state,i):(Io("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new No(n.error.code,n.error.message))),i?new Kd(e,n.state,r):(Io("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Zu();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Ss(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Gd(e,i):(Io("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Hd{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hd(t.clientId,t.onlineState):(Io("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Qd{constructor(){this.activeTargetIds=Zu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yd{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ra(zo),this.started=!1,this.ys=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=zd(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Qd),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(zd(this.persistenceKey,n));if(e){const t=Gd.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(qd(this.persistenceKey,e));if(n){const r=Kd.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qd(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _o("SharedClientState","READ",e,t),t}setItem(e,t){_o("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_o("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(_o("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=_s._e;if(null!=e)try{const n=JSON.parse(e);To("number"==typeof n),t=n}catch(e){Io("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==_s._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Wd(this.currentUser,e,t,n),i=Bd(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Bd(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=qd(this.persistenceKey,e),i=new Kd(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Gd.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wd.Es(new vo(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Kd.Es(r,t)}xs(e){return Hd.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);_o("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.eo(o,s).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=Zu();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class $d{constructor(){this.no=new Qd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jd{io(e){}shutdown(){}}class Xd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){_o("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){_o("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Zd=null;function ef(){return null===Zd?Zd=268435456+Math.round(2147483648*Math.random()):Zd++,"0x"+Zd.toString(16)}const tf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nf{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const rf="WebChannelConnection";class of extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const o=ef(),s=this.bo(e,t.toUriEncodedString());_o("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,s,a,n).then((t=>(_o("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Eo("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=tf[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=ef();return new Promise(((o,s)=>{const a=new fo;a.setWithCredentials(!0),a.listenOnce(uo.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case ao.NO_ERROR:const t=a.getResponseJson();_o(rf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case ao.TIMEOUT:_o(rf,"RPC '".concat(e,"' ").concat(i," timed out")),s(new No(xo.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:const n=a.getStatus();if(_o(rf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(xo).indexOf(t)>=0?t:xo.UNKNOWN}(t.status);s(new No(e,t.message))}else s(new No(xo.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new No(xo.UNAVAILABLE,"Connection failed."));break;default:ko()}}finally{_o(rf,"RPC '".concat(e,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);_o(rf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",u,n,15)}))}Fo(e,t,n){const r=ef(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oo(),s=so(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");_o(rf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const l=o.createWebChannel(c,a);let h=!1,d=!1;const f=new nf({lo:t=>{d?_o(rf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(_o(rf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),h=!0),_o(rf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ho:()=>l.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(l,ho.EventType.OPEN,(()=>{d||_o(rf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,ho.EventType.CLOSE,(()=>{d||(d=!0,_o(rf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(l,ho.EventType.ERROR,(t=>{d||(d=!0,Eo(rf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new No(xo.UNAVAILABLE,"The operation could not be completed")))})),p(l,ho.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];To(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){_o(rf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Mc[e];if(void 0!==t)return Vc(t)}(t),i=s.message;void 0===n&&(n=xo.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.Vo(new No(n,i)),l.close()}else _o(rf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(s,co.STAT_EVENT,(t=>{t.stat===lo.PROXY?_o(rf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===lo.NOPROXY&&_o(rf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function sf(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function uf(e){return new ol(e,!0)}class cf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&_o("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class lf{constructor(e,t,n,r,i,o,s,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new cf(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===xo.RESOURCE_EXHAUSTED?(Io(t.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===xo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new No(xo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return _o("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(_o("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hf extends lf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ko()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(To(void 0===t||"string"==typeof t),ha.fromBase64String(t||"")):(To(void 0===t||t instanceof Uint8Array),ha.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?xo.UNKNOWN:Vc(e.code);return new No(t,e.message||"")}(s);n=new Jc(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=gl(e,r.document.name),o=ll(r.document.updateTime),s=r.document.createTime?ll(r.document.createTime):Ko.min(),a=new Ba({mapValue:{fields:r.document.fields}}),u=Wa.newFoundDocument(i,o,s,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new Yc(c,l,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=gl(e,r.document),o=r.readTime?ll(r.readTime):Ko.min(),s=Wa.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Yc([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=gl(e,r.document),o=r.removedTargetIds||[];n=new Yc([],o,i,null)}else{if(!("filter"in t))return ko();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Lc(r,i),s=e.targetId;n=new $c(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ko.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ko.min():t.readTime?ll(t.readTime):Ko.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=yl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wu(r)?{documents:Sl(e,r)}:{query:kl(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ul(e,t.resumeToken);const r=sl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ko.min())>0){n.readTime=al(e,t.snapshotVersion.toTimestamp());const r=sl(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ko()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=yl(this.serializer),t.removeTarget=e,this.t_(t)}}class df extends lf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(To(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(To(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?ll(e.updateTime):ll(t);return n.isEqual(Ko.min())&&(n=ll(t)),new mc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ll(e.commitTime);return this.listener.T_(n,t)}return To(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=yl(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Il(this.serializer,e)))};this.t_(t)}}class ff extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new No(xo.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.So(e,dl(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new No(xo.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.vo(e,dl(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===xo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new No(xo.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class pf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Io(t),this.g_=!1):_o("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class gf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Sf(this)&&(_o("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Co(e);t.v_.add(4),await vf(t),t.x_.set("Unknown"),t.v_.delete(4),await mf(t)}(this))}))})),this.x_=new pf(n,r)}}async function mf(e){if(Sf(e))for(const t of e.F_)await t(!0)}async function vf(e){for(const t of e.F_)await t(!1)}function yf(e,t){const n=Co(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Ef(n)?If(n):Bf(n).Jo()&&bf(n,t))}function wf(e,t){const n=Co(e),r=Bf(n);n.C_.delete(t),r.Jo()&&_f(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Sf(n)&&n.x_.set("Unknown"))}function bf(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ko.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Bf(e).c_(t)}function _f(e,t){e.O_.Oe(t),Bf(e).l_(t)}function If(e){e.O_=new Zc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Bf(e).start(),e.x_.p_()}function Ef(e){return Sf(e)&&!Bf(e).Ho()&&e.C_.size>0}function Sf(e){return 0===Co(e).v_.size}function kf(e){e.O_=void 0}async function Tf(e){e.C_.forEach(((t,n)=>{bf(e,t)}))}async function Cf(e,t){kf(e),Ef(e)?(e.x_.S_(t),If(e)):e.x_.set("Unknown")}async function xf(e,t,n){if(e.x_.set("Online"),t instanceof Jc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){_o("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nf(e,n)}else if(t instanceof Yc?e.O_.$e(t):t instanceof $c?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Ko.min()))try{const t=await Dd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(ha.EMPTY_BYTE_STRING,r.snapshotVersion)),_f(e,t);const i=new Ml(r.target,t,n,r.sequenceNumber);bf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){_o("RemoteStore","Failed to raise snapshot:",t),await Nf(e,t)}}async function Nf(e,t,n){if(!ps(t))throw t;e.v_.add(1),await vf(e),e.x_.set("Offline"),n||(n=()=>Dd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{_o("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await mf(e)}))}function Af(e,t){return t().catch((n=>Nf(e,n,t)))}async function Df(e){const t=Co(e),n=qf(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Rf(t);)try{const e=await Pd(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Pf(t,e)}catch(e){await Nf(t,e)}Of(t)&&Lf(t)}function Rf(e){return Sf(e)&&e.D_.length<10}function Pf(e,t){e.D_.push(t);const n=qf(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Of(e){return Sf(e)&&!qf(e).Ho()&&e.D_.length>0}function Lf(e){qf(e).start()}async function Mf(e){qf(e).d_()}async function Ff(e){const t=qf(e);for(const n of e.D_)t.I_(n.mutations)}async function Uf(e,t,n){const r=e.D_.shift(),i=Pc.from(r,t,n);await Af(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Df(e)}async function Vf(e,t){t&&qf(e).P_&&await async function(e,t){if(function(e){return Uc(e)&&e!==xo.ABORTED}(t.code)){const n=e.D_.shift();qf(e).Zo(),await Af(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Df(e)}}(e,t),Of(e)&&Lf(e)}async function jf(e,t){const n=Co(e);n.asyncQueue.verifyOperationInProgress(),_o("RemoteStore","RemoteStore received new credentials");const r=Sf(n);n.v_.add(3),await vf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await mf(n)}async function zf(e,t){const n=Co(e);t?(n.v_.delete(2),await mf(n)):t||(n.v_.add(2),await vf(n),n.x_.set("Unknown"))}function Bf(e){return e.N_||(e.N_=function(e,t,n){const r=Co(e);return r.R_(),new hf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Tf.bind(null,e),To:Cf.bind(null,e),u_:xf.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Ef(e)?If(e):e.x_.set("Unknown")):(await e.N_.stop(),kf(e))}))),e.N_}function qf(e){return e.B_||(e.B_=function(e,t,n){const r=Co(e);return r.R_(),new df(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Mf.bind(null,e),To:Vf.bind(null,e),E_:Ff.bind(null,e),T_:Uf.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Df(e)):(await e.B_.stop(),e.D_.length>0&&(_o("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Wf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Wf(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new No(xo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kf(e,t){if(Io("AsyncQueue","".concat(t,": ").concat(e)),ps(e))return new No(xo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Gf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$o.comparator(t.key,n.key):(e,t)=>$o.comparator(e.key,t.key),this.keyedMap=Wu(),this.sortedSet=new ra(this.comparator)}static emptySet(e){return new Gf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Hf{constructor(){this.L_=new ra($o.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):ko():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Qf{constructor(e,t,n,r,i,o,s,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new Qf(e,t,Gf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Yf{constructor(){this.q_=void 0,this.Q_=[]}}class $f{constructor(){this.queries=new ju((e=>Ou(e)),Pu),this.onlineState="Unknown",this.K_=new Set}}async function Jf(e,t){const n=Co(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Yf),i)try{o.q_=await n.onListen(r)}catch(e){const n=Kf(e,"Initialization of query '".concat(Lu(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.Q_.push(t),t.U_(n.onlineState),o.q_&&t.W_(o.q_)&&tp(n)}async function Xf(e,t){const n=Co(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.Q_.indexOf(t);e>=0&&(o.Q_.splice(e,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Zf(e,t){const n=Co(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&tp(n)}function ep(e,t,n){const r=Co(e),i=r.queries.get(t);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(t)}function tp(e){e.K_.forEach((e=>{e.next()}))}class np{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Qf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Qf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class rp{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class ip{constructor(e){this.serializer=e}Ps(e){return gl(this.serializer,e)}Is(e){return e.metadata.exists?_l(this.serializer,e.document,!1):Wa.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ll(e)}}class op{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sp(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Ho.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new ip(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ju()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Co(e);let o=Ju(),s=Bu();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(o=o.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),s=s.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),u=await Od(i,function(e){return Nu(ku(Ho.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Rd(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Qr.addMatchingKeys(e,o,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new ip(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await jd(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function sp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ap{constructor(e){this.key=e}}class up{constructor(e){this.key=e}}class cp{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ju(),this.mutatedKeys=Ju(),this.ua=Uu(e),this.ca=new Gf(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Hf,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),l=Mu(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ia(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.ua(l,a)>0||u&&this.ua(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:o,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ko()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],a=0===this.aa.size&&this.current&&!r?1:0,u=a!==this._a;return this._a=a,0!==o.length||u?{snapshot:new Qf(this.query,e.ca,i,o,e.mutatedKeys,0===a,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Hf,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ju(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new up(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new ap(n))})),t}Ra(e){this.oa=e.hs,this.aa=Ju();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Qf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class lp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hp{constructor(e){this.key=e,this.ma=!1}}class dp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ju((e=>Ou(e)),Pu),this.pa=new Map,this.ya=new Set,this.wa=new ra($o.comparator),this.Sa=new Map,this.ba=new cd,this.Da={},this.Ca=new Map,this.va=Uh.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function fp(e,t){const n=Vp(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const e=await Od(n.localStore,Nu(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await pp(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&yf(n.remoteStore,e)}return i}async function pp(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Md(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return kp(e,t.targetId,a.da),a.snapshot}(e,t,n,r);const o=await Md(e.localStore,t,!0),s=new cp(t,o.hs),a=s.ha(o.documents),u=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,u);kp(e,n,c.da);const l=new lp(t,n,s);return e.ga.set(t,l),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function gp(e,t){const n=Co(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Pu(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ld(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),wf(n.remoteStore,r.targetId),Ep(n,r.targetId)})).catch(us)):(Ep(n,r.targetId),await Ld(n.localStore,r.targetId,!0))}async function mp(e,t){const n=Co(e);try{const e=await function(e,t){const n=Co(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((o,a)=>{const u=i.get(a);if(!u)return;s.push(n.Qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,o.addedDocuments,a))));let c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ha.EMPTY_BYTE_STRING,Ko.min()).withLastLimboFreeSnapshotVersion(Ko.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,o)&&s.push(n.Qr.updateTargetData(e,c))}));let a=Bu(),u=Ju();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Rd(e,o,t.documentUpdates).next((e=>{a=e.cs,u=e.ls}))),!r.isEqual(Ko.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return cs.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,u))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(To(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?To(r.ma):e.removedDocuments.size>0&&(To(r.ma),r.ma=!1))})),await xp(n,e,t)}catch(e){await us(e)}}function vp(e,t,n){const r=Co(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Co(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&tp(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yp(e,t,n){const r=Co(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let e=new ra($o.comparator);e=e.insert(o,Wa.newNoDocument(o,Ko.min()));const n=Ju().add(o),i=new Hc(Ko.min(),new Map,new ra(zo),e,n);await mp(r,i),r.wa=r.wa.remove(o),r.Sa.delete(t),Cp(r)}else await Ld(r.localStore,t,!1).then((()=>Ep(r,t,n))).catch(us)}async function wp(e,t){const n=Co(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Co(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=cs.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);To(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ju();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ip(n,r,null),_p(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xp(n,e)}catch(e){await us(e)}}async function bp(e,t,n){const r=Co(e);try{const e=await function(e,t){const n=Co(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(To(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ip(r,t,n),_p(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await xp(r,e)}catch(n){await us(n)}}function _p(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Ip(e,t,n){const r=Co(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Ep(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Sp(e,t)}))}function Sp(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(wf(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Cp(e))}function kp(e,t,n){for(const r of n)r instanceof ap?(e.ba.addReference(r.key,t),Tp(e,r)):r instanceof up?(_o("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Sp(e,r.key)):ko()}function Tp(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(_o("SyncEngine","New document in limbo: "+n),e.ya.add(r),Cp(e))}function Cp(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new $o(Ho.fromString(t)),r=e.va.next();e.Sa.set(r,new hp(n)),e.wa=e.wa.insert(n,r),yf(e.remoteStore,new Ml(Nu(ku(n.path)),r,"TargetPurposeLimboResolution",_s._e))}}async function xp(e,t,n){const r=Co(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,a)=>{s.push(r.Ma(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=kd.Ki(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=Co(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>cs.forEach(t,(t=>cs.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>cs.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!ps(e))throw e;_o("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,o))}async function Np(e,t){const n=Co(e);if(!n.currentUser.isEqual(t)){_o("SyncEngine","User change. New user:",t.toKey());const e=await Ad(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new No(xo.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await xp(n,e.us)}}function Ap(e,t){const n=Co(e),r=n.Sa.get(t);if(r&&r.ma)return Ju().add(r.key);{let e=Ju();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Dp(e,t){const n=Co(e),r=await Md(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&kp(n,t.targetId,i.da),i}async function Rp(e,t){const n=Co(e);return Ud(n.localStore,t).then((e=>xp(n,e)))}async function Pp(e,t,n,r){const i=Co(e),o=await function(e,t){const n=Co(e),r=Co(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):cs.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Df(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ip(i,t,r||null),_p(i,t),function(e,t){Co(Co(e).mutationQueue).Mn(t)}(i.localStore,t)):ko(),await xp(i,o)):_o("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Op(e,t,n){const r=Co(e),i=[],o=[];for(const s of t){let e;const t=r.pa.get(s);if(t&&0!==t.length){e=await Od(r.localStore,Nu(t[0]));for(const e of t){const t=r.ga.get(e),n=await Dp(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Fd(r.localStore,s);e=await Od(r.localStore,t),await pp(r,Lp(t),s,!1,e.resumeToken)}i.push(e)}return r.fa.u_(o),i}function Lp(e){return Su(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Mp(e){return function(e){return Co(Co(e).persistence).Li()}(Co(e).localStore)}async function Fp(e,t,n,r){const i=Co(e);if(i.Fa)return void _o("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Ud(i.localStore,Fu(o[0])),r=Hc.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ha.EMPTY_BYTE_STRING);await xp(i,e,r);break}case"rejected":await Ld(i.localStore,t,!0),Ep(i,t,r);break;default:ko()}}async function Up(e,t,n){const r=Vp(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){_o("SyncEngine","Adding an already active target "+e);continue}const t=await Fd(r.localStore,e),n=await Od(r.localStore,t);await pp(r,Lp(t),n.targetId,!1,n.resumeToken),yf(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Ld(r.localStore,e,!1).then((()=>{wf(r.remoteStore,e),Ep(r,e)})).catch(us)}}function Vp(e){const t=Co(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ap.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yp.bind(null,t),t.fa.u_=Zf.bind(null,t.eventManager),t.fa.xa=ep.bind(null,t.eventManager),t}function jp(e){const t=Co(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bp.bind(null,t),t}class zp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Nd(this.persistence,new Cd,e.initialUser,this.serializer)}createPersistence(e){return new gd(vd.Hr,this.serializer)}createSharedClientState(e){return new $d}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Bp extends zp{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await jp(this.Na.syncEngine),await Df(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Nd(this.persistence,new Cd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Kh(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new bs(t,this.persistence);return new ws(e.asyncQueue,n)}createPersistence(e){const t=Sd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ah.withCacheSize(this.cacheSizeBytes):Ah.DEFAULT;return new _d(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sf(),af(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new $d}}class qp extends Bp{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof Yd&&(this.sharedClientState.syncEngine={Zs:Pp.bind(null,t),Xs:Fp.bind(null,t),eo:Up.bind(null,t),Li:Mp.bind(null,t),Ys:Rp.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Co(e);if(Vp(n),jp(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Op(n,e.toArray());n.Fa=!0,await zf(n.remoteStore,!0);for(const r of t)yf(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ep(n,i),Ld(n.localStore,i,!0)))),wf(n.remoteStore,i)})),await t,await Op(n,e),function(e){const t=Co(e);t.Sa.forEach(((e,n)=>{wf(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new ra($o.comparator)}(n),n.Fa=!1,await zf(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=sf();if(!Yd.D(t))throw new No(xo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Sd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yd(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Np.bind(null,this.syncEngine),await zf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $f}createDatastore(e){const t=uf(e.databaseInfo.databaseId),n=function(e){return new of(e)}(e.databaseInfo);return function(e,t,n,r){return new ff(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new gf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>vp(this.syncEngine,e,0)),Xd.D()?new Xd:new Jd)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new dp(e,t,n,r,i,o);return s&&(a.Fa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Co(e);_o("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await vf(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Kp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Hp{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Ao,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new rp(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Qp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new No(xo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Co(e),r={documents:t.map((e=>pl(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Ho.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){To(!!t.found),t.found.name,t.found.updateTime;const n=gl(e,t.found.name),r=ll(t.found.updateTime),i=t.found.createTime?ll(t.found.createTime):Ko.min(),o=new Ba({mapValue:{fields:t.found.fields}});return Wa.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){To(!!t.missing),To(!!t.readTime);const n=gl(e,t.missing),r=ll(t.readTime);return Wa.newNoDocument(n,r)}(e,t):ko()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());To(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ac(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=$o.fromPath(t);this.mutations.push(new Dc(n,this.precondition(n)))})),await async function(e,t){const n=Co(e),r={writes:t.map((e=>Il(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Ho.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ko();t=Ko.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new No(xo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ko.min())?vc.exists(!1):vc.updateTime(t):vc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ko.min()))throw new No(xo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vc.updateTime(t)}return vc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Yp{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new cf(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Qp(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!Is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Uc(t)}return!1}}class $p{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=vo.UNAUTHENTICATED,this.clientId=jo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{_o("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(_o("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new No(xo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jp(e,t){e.asyncQueue.verifyOperationInProgress(),_o("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ad(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Xp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eg(e);_o("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>jf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>jf(t.remoteStore,n))),e._onlineComponents=t}function Zp(e){return"FirebaseError"===e.name?e.code===xo.FAILED_PRECONDITION||e.code===xo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function eg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_o("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Zp(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Jp(e,new zp)}}else _o("FirestoreClient","Using default OfflineComponentProvider"),await Jp(e,new zp);return e._offlineComponents}async function tg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_o("FirestoreClient","Using user provided OnlineComponentProvider"),await Xp(e,e._uninitializedComponentsProvider._online)):(_o("FirestoreClient","Using default OnlineComponentProvider"),await Xp(e,new Wp))),e._onlineComponents}function ng(e){return eg(e).then((e=>e.persistence))}function rg(e){return eg(e).then((e=>e.localStore))}function ig(e){return tg(e).then((e=>e.remoteStore))}function og(e){return tg(e).then((e=>e.syncEngine))}function sg(e){return tg(e).then((e=>e.datastore))}async function ag(e){const t=await tg(e),n=t.eventManager;return n.onListen=fp.bind(null,t.syncEngine),n.onUnlisten=gp.bind(null,t.syncEngine),n}function ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ao;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gp({next:o=>{t.enqueueAndForget((()=>Xf(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new No(xo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new No(xo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new np(ku(n.path),o,{includeMetadataChanges:!0,Z_:!0});return Jf(e,s)}(await ag(e),e.asyncQueue,t,n,r))),r.promise}function cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Ao;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Gp({next:n=>{t.enqueueAndForget((()=>Xf(e,s))),n.fromCache&&"server"===r.source?i.reject(new No(xo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new np(n,o,{includeMetadataChanges:!0,Z_:!0});return Jf(e,s)}(await ag(e),e.asyncQueue,t,n,r))),r.promise}function lg(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?zc().encode(e):e,function(e,t){return new Hp(e,t)}(function(e,t){if(e instanceof Uint8Array)return Kp(e,t);if(e instanceof ArrayBuffer)return Kp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,uf(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Co(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Co(e),r=ll(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(sp(r));const i=new op(r,e.localStore,t.serializer);let o=await t.Oa();for(;o;){const e=await i.na(o);e&&n._updateProgress(e),o=await t.Oa()}const s=await i.complete();return await xp(e,s.sa,void 0),await function(e,t){const n=Co(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ia)}catch(e){return Eo("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await og(e),i,r)}))}function hg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const dg=new Map;function fg(e,t,n){if(!n)throw new No(xo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function pg(e,t,n,r){if(!0===t&&!0===r)throw new No(xo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function gg(e){if(!$o.isDocumentKey(e))throw new No(xo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mg(e){if($o.isDocumentKey(e))throw new No(xo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ko()}function yg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new No(xo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vg(e);throw new No(xo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function wg(e,t){if(t<=0)throw new No(xo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class bg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new No(xo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new No(xo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new No(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new No(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new No(xo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new No(xo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new No(xo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ro;switch(e.type){case"firstParty":return new Mo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new No(xo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dg.get(e);t&&(_o("ComponentProvider","Removing Datastore"),dg.delete(e),t.terminate())}(this),Promise.resolve()}}function Ig(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=yg(e,_g))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=vo.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new No(xo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new vo(o)}e._authCredentials=new Po(new Do(t,n))}}class Eg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Eg(this.firestore,e,this._query)}}class Sg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sg(this.firestore,e,this._key)}}class kg extends Eg{constructor(e,t,n){super(e,t,ku(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sg(this.firestore,null,new $o(e))}withConverter(e){return new kg(this.firestore,e,this._path)}}function Tg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),fg("collection","path",t),e instanceof _g){const n=Ho.fromString(t,...r);return mg(n),new kg(e,null,n)}{if(!(e instanceof Sg||e instanceof kg))throw new No(xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ho.fromString(t,...r));return mg(n),new kg(e.firestore,null,n)}}function Cg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),1===arguments.length&&(t=jo.newId()),fg("doc","path",t),e instanceof _g){const n=Ho.fromString(t,...r);return gg(n),new Sg(e,null,new $o(n))}{if(!(e instanceof Sg||e instanceof kg))throw new No(xo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ho.fromString(t,...r));return gg(n),new Sg(e.firestore,e instanceof kg?e.converter:null,new $o(n))}}function xg(e,t){return e=P(e),t=P(t),(e instanceof Sg||e instanceof kg)&&(t instanceof Sg||t instanceof kg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ng(e,t){return e=P(e),t=P(t),e instanceof Eg&&t instanceof Eg&&e.firestore===t.firestore&&Pu(e._query,t._query)&&e.converter===t.converter}class Ag{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new cf(this,"async_queue_retry"),this._u=()=>{const e=af();e&&_o("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Ao;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ps(e))throw e;_o("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Io("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Wf.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&ko()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Dg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Rg{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ao,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pg extends _g{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ag,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function Og(e){return e._firestoreClient||Lg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Lg(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new wa(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $p(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Mg(e,t,n){const r=new Ao;return e.asyncQueue.enqueue((async()=>{try{await Jp(e,n),await Xp(e,t),r.resolve()}catch(e){const n=e;if(!Zp(n))throw n;Eo("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Fg(e){return function(e){const t=new Ao;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Co(e);Sf(n.remoteStore)||_o("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Co(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Kf(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await og(e),t))),t.promise}(Og(e=yg(e,Pg)))}function Ug(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await ng(e),n=await ig(e);return t.setNetworkEnabled(!0),function(e){const t=Co(e);return t.v_.delete(0),mf(t)}(n)}))}(Og(e=yg(e,Pg)))}function Vg(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await ng(e),n=await ig(e);return t.setNetworkEnabled(!1),async function(e){const t=Co(e);t.v_.add(0),await vf(t),t.x_.set("Offline")}(n)}))}(Og(e=yg(e,Pg)))}function jg(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Co(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await rg(e),t)))}(Og(e=yg(e,Pg)),t).then((t=>t?new Eg(e,null,t.query):null))}function zg(e){if(e._initialized||e._terminated)throw new No(xo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bg(ha.fromBase64String(e))}catch(e){throw new No(xo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Bg(ha.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new No(xo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yo(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wg{constructor(e){this._methodName=e}}class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new No(xo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new No(xo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zo(this._lat,e._lat)||zo(this._long,e._long)}}const Gg=/^__.*__$/;class Hg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms):new kc(e,this.data,t,this.fieldTransforms)}}class Qg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ko()}}class $g{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return mm(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Yg(this.du)&&Gg.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Jg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uf(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $g({du:e,methodName:t,wu:n,path:Yo.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xg(e){const t=e._freezeSettings(),n=uf(e._databaseId);return new Jg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zg(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(o.merge||o.mergeFields?2:0,t,n,i);dm("Data must be an object, but it was:",s,r);const a=lm(r,s);let u,c;if(o.merge)u=new ca(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=fm(t,r,n);if(!s.contains(i))throw new No(xo.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));vm(e,i)||e.push(i)}u=new ca(e),c=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=s.fieldTransforms;return new Hg(new Ba(a),u,c)}class em extends Wg{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function tm(e,t,n){return new $g({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nm extends Wg{_toFieldTransform(e){return new gc(e.path,new ac)}isEqual(e){return e instanceof nm}}class rm extends Wg{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=tm(this,e,!0),n=this.bu.map((e=>cm(e,t))),r=new uc(n);return new gc(e.path,r)}isEqual(e){return e instanceof rm&&k(this.bu,e.bu)}}class im extends Wg{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=tm(this,e,!0),n=this.bu.map((e=>cm(e,t))),r=new lc(n);return new gc(e.path,r)}isEqual(e){return e instanceof im&&k(this.bu,e.bu)}}class om extends Wg{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new dc(e.serializer,nc(e.serializer,this.Du));return new gc(e.path,t)}isEqual(e){return e instanceof om&&this.Du===e.Du}}function sm(e,t,n,r){const i=e.Su(1,t,n);dm("Data must be an object, but it was:",i,r);const o=[],s=Ba.empty();ta(r,((e,r)=>{const a=gm(t,e,n);r=P(r);const u=i.fu(a);if(r instanceof em)o.push(a);else{const e=cm(r,u);null!=e&&(o.push(a),s.set(a,e))}}));const a=new ca(o);return new Qg(s,a,i.fieldTransforms)}function am(e,t,n,r,i,o){const s=e.Su(1,t,n),a=[fm(t,r,n)],u=[i];if(o.length%2!=0)throw new No(xo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(fm(t,o[d])),u.push(o[d+1]);const c=[],l=Ba.empty();for(let d=a.length-1;d>=0;--d)if(!vm(c,a[d])){const e=a[d];let t=u[d];t=P(t);const n=s.fu(e);if(t instanceof em)c.push(e);else{const r=cm(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new ca(c);return new Qg(l,h,s.fieldTransforms)}function um(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return cm(n,e.Su(r?4:3,t))}function cm(e,t){if(hm(e=P(e)))return dm("Unsupported field value:",t,e),lm(e,t);if(e instanceof Wg)return function(e,t){if(!Yg(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=cm(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=P(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Wo.fromDate(e);return{timestampValue:al(t.serializer,n)}}if(e instanceof Wo){const n=new Wo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:al(t.serializer,n)}}if(e instanceof Kg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Bg)return{bytesValue:ul(t.serializer,e._byteString)};if(e instanceof Sg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:hl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(vg(e)))}(e,t)}function lm(e,t){const n={};return na(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(e,((e,r)=>{const i=cm(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wo||e instanceof Kg||e instanceof Bg||e instanceof Sg||e instanceof Wg)}function dm(e,t,n){if(!hm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=vg(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function fm(e,t,n){if((t=P(t))instanceof qg)return t._internalPath;if("string"==typeof t)return gm(e,t);throw mm("Field path arguments must be of type string or ",e,!1,void 0,n)}const pm=new RegExp("[~\\*/\\[\\]]");function gm(e,t,n){if(t.search(pm)>=0)throw mm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new qg(...t.split("."))._internalPath}catch(ut){throw mm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mm(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=" in field ".concat(r)),s&&(u+=" in document ".concat(i)),u+=")"),new No(xo.INVALID_ARGUMENT,a+e+u)}function vm(e,t){return e.some((e=>e.isEqual(t)))}class ym{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wm extends ym{data(){return super.data()}}function bm(e,t){return"string"==typeof t?gm(e,t):t instanceof qg?t._internalPath:t._delegate._internalPath}function _m(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new No(xo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class Em extends Im{}function Sm(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Im&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Tm)).length,n=e.filter((e=>e instanceof km)).length;if(t>1||t>0&&n>0)throw new No(xo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class km extends Em{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new km(e,t,n)}_apply(e){const t=this._parse(e);return Om(e._query,t),new Eg(e.firestore,e.converter,Du(e._query,t))}_parse(e){const t=Xg(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new No(xo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Pm(s,o);const t=[];for(const n of s)t.push(Rm(r,e,n));a={arrayValue:{values:t}}}else a=Rm(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Pm(s,o),a=um(n,t,s,"in"===o||"not-in"===o);return Ja.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Tm extends Im{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tm(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Xa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Om(n,i),n=Du(n,i)}(e._query,t),new Eg(e.firestore,e.converter,Du(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cm extends Em{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cm(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new No(xo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new No(xo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qa(t,n)}(e._query,this._field,this._direction);return new Eg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Eu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class xm extends Em{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new xm(e,t,n)}_apply(e){return new Eg(e.firestore,e.converter,Ru(e._query,this._limit,this._limitType))}}class Nm extends Em{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Nm(e,t,n)}_apply(e){const t=Dm(e,this.type,this._docOrFields,this._inclusive);return new Eg(e.firestore,e.converter,function(e,t){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Am extends Em{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Am(e,t,n)}_apply(e){const t=Dm(e,this.type,this._docOrFields,this._inclusive);return new Eg(e.firestore,e.converter,function(e,t){return new Eu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Dm(e,t,n,r){if(n[0]=P(n[0]),n[0]instanceof ym)return function(e,t,n,r,i){if(!r)throw new No(xo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of xu(e))if(s.field.isKeyField())o.push(Aa(t,r.key));else{const e=r.data.field(s.field);if(ma(e))throw new No(xo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new No(xo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Ka(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Xg(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new No(xo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let u=0;u<i.length;u++){const o=i[u];if(s[u].field.isKeyField()){if("string"!=typeof o)throw new No(xo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Cu(e)&&-1!==o.indexOf("/"))throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Ho.fromString(o));if(!$o.isDocumentKey(n))throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new $o(n);a.push(Aa(t,i))}else{const e=um(n,r,o);a.push(e)}}return new Ka(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Rm(e,t,n){if("string"==typeof(n=P(n))){if(""===n)throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cu(t)&&-1!==n.indexOf("/"))throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ho.fromString(n));if(!$o.isDocumentKey(r))throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Aa(e,new $o(r))}if(n instanceof Sg)return Aa(e,n._key);throw new No(xo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vg(n),"."))}function Pm(e,t){if(!Array.isArray(e)||0===e.length)throw new No(xo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Om(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new No(xo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new No(xo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Lm{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ko()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ta(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Kg(pa(e.latitude),pa(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=va(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){const t=fa(e);return new Wo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ho.fromString(e);To(Ll(n));const r=new ba(n.get(1),n.get(3)),i=new $o(n.popFirst(5));return r.isEqual(t)||Io("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Mm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Fm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sg(this.firestore,null,t)}}class Um{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vm extends ym{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new jm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jm extends Vm{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class zm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Um(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jm(this._firestore,this._userDataWriter,n.key,n,new Um(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new No(xo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new jm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Um(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Bm(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Bm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ko()}}function qm(e,t){return e instanceof Vm&&t instanceof Vm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zm&&t instanceof zm&&e._firestore===t._firestore&&Ng(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Wm extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sg(this.firestore,null,t)}}function Km(e){e=yg(e,Sg);const t=yg(e.firestore,Pg),n=Og(t),r=new Wm(t);return function(e,t){const n=new Ao;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Co(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new No(xo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Kf(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await rg(e),t,n))),n.promise}(n,e._key).then((n=>new Vm(t,r,e._key,n,new Um(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Gm(e){e=yg(e,Eg);const t=yg(e.firestore,Pg),n=Og(t),r=new Wm(t);return function(e,t){const n=new Ao;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Md(e,t,!0),i=new cp(t,r.hs),o=i.ha(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Kf(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await rg(e),t,n))),n.promise}(n,e._query).then((n=>new zm(t,r,e,n)))}function Hm(e,t,n){e=yg(e,Sg);const r=yg(e.firestore,Pg),i=Mm(e.converter,t,n);return Jm(r,[Zg(Xg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vc.none())])}function Qm(e,t,n){e=yg(e,Sg);const r=yg(e.firestore,Pg),i=Xg(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),u=3;u<s;u++)a[u-3]=arguments[u];return o="string"==typeof(t=P(t))||t instanceof qg?am(i,"updateDoc",e._key,t,n,a):sm(i,"updateDoc",e._key,t),Jm(r,[o.toMutation(e._key,vc.exists(!0))])}function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=P(e);let a={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Dg(n[u])||(a=n[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges};if(Dg(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[u+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let l,h,d;if(e instanceof Sg)h=yg(e.firestore,Pg),d=ku(e._key.path),l={next:t=>{n[u]&&n[u](Xm(h,e,t))},error:n[u+1],complete:n[u+2]};else{const t=yg(e,Eg);h=yg(t.firestore,Pg),d=t._query;const r=new Wm(h);l={next:e=>{n[u]&&n[u](new zm(h,r,t,e))},error:n[u+1],complete:n[u+2]},_m(e._query)}return function(e,t,n,r){const i=new Gp(r),o=new np(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Jf(await ag(e),o))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>Xf(await ag(e),o)))}}(Og(h),d,c,l)}function $m(e,t){return function(e,t){const n=new Gp(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Co(e).K_.add(t),t.next()}(await ag(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Co(e).K_.delete(t)}(await ag(e),n)))}}(Og(e=yg(e,Pg)),Dg(t)?t:{next:t})}function Jm(e,t){return function(e,t){const n=new Ao;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=jp(e);try{const e=await function(e,t){const n=Co(e),r=Wo.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ju());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Bu(),u=Ju();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Ec(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Tc(e.key,t,qa(t.value.mapValue),vc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Ku(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new ra(zo)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await xp(r,e.changes),await Df(r.remoteStore)}catch(e){const t=Kf(e,"Failed to persist write");n.reject(t)}}(await og(e),t,n))),n.promise}(Og(e),t)}function Xm(e,t,n){const r=n.docs.get(t._key),i=new Wm(e);return new Vm(e,i,t._key,r,new Um(n.hasPendingWrites,n.fromCache),t.converter)}const Zm={maxAttempts:5};class ev{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xg(e)}set(e,t,n){this._verifyNotCommitted();const r=tv(e,this._firestore),i=Mm(r.converter,t,n),o=Zg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,vc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=tv(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=P(t))||t instanceof qg?am(this._dataReader,"WriteBatch.update",r._key,t,n,s):sm(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,vc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tv(e,this._firestore);return this._mutations=this._mutations.concat(new Ac(t._key,vc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new No(xo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tv(e,t){if((e=P(e)).firestore!==t)throw new No(xo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class nv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xg(e)}get(e){const t=tv(e,this._firestore),n=new Fm(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ko();const r=e[0];if(r.isFoundDocument())return new ym(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new ym(this._firestore,n,t._key,null,t.converter);throw ko()}))}set(e,t,n){const r=tv(e,this._firestore),i=Mm(r.converter,t,n),o=Zg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=tv(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=P(t))||t instanceof qg?am(this._dataReader,"Transaction.update",r._key,t,n,s):sm(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=tv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tv(e,this._firestore),n=new Wm(this._firestore);return super.get(e).then((e=>new Vm(this._firestore,n,t._key,e._document,new Um(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){yo=e}(Se),ye(new O("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Pg(new Oo(e.getProvider("auth-internal")),new Uo(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new No(xo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Ne(mo,"4.4.2",e),Ne(mo,"4.4.2","esm2017")}();function rv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new No("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iv(){if("undefined"===typeof Uint8Array)throw new No("unimplemented","Uint8Arrays are not available in this environment.")}function ov(){if("undefined"==typeof atob)throw new No("unimplemented","Blobs are unavailable in Firestore in this environment.")}class sv{constructor(e){this._delegate=e}static fromBase64String(e){return ov(),new sv(Bg.fromBase64String(e))}static fromUint8Array(e){return iv(),new sv(Bg.fromUint8Array(e))}toBase64(){return ov(),this._delegate.toBase64()}toUint8Array(){return iv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function av(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class uv{enableIndexedDbPersistence(e,t){return function(e,t){zg(e=yg(e,Pg));const n=Og(e);if(n._uninitializedComponentsProvider)throw new No(xo.FAILED_PRECONDITION,"SDK cache is already specified.");Eo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Wp;return Mg(n,i,new Bp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){zg(e=yg(e,Pg));const t=Og(e);if(t._uninitializedComponentsProvider)throw new No(xo.FAILED_PRECONDITION,"SDK cache is already specified.");Eo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Wp;return Mg(t,r,new qp(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new No(xo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ao;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!hs.D())return Promise.resolve();const t=e+"main";await hs.delete(t)}(Sd(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class cv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Eo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ig(this._delegate,e,t,n)}enableNetwork(){return Ug(this._delegate)}disableNetwork(){return Vg(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,pg("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Fg(this._delegate)}onSnapshotsInSync(e){return $m(this._delegate,e)}get app(){if(!this._appCompat)throw new No("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ev(this,Tg(this._delegate,e))}catch(t){throw gv(t,"collection()","Firestore.collection()")}}doc(e){try{return new pv(this,Cg(this._delegate,e))}catch(t){throw gv(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new bv(this,function(e,t){if(e=yg(e,_g),fg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new No(xo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Eg(e,null,function(e){return new Eu(Ho.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw gv(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=yg(e,Pg);const r=Object.assign(Object.assign({},Zm),n);return function(e){if(e.maxAttempts<1)throw new No(xo.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Ao;return e.asyncQueue.enqueueAndForget((async()=>{const i=await sg(e);new Yp(e.asyncQueue,i,n,t,r).ja()})),r.promise}(Og(e),(n=>t(new nv(e,n))),r)}(this._delegate,(t=>e(new hv(this,t))))}batch(){return Og(this._delegate),new dv(new ev(this._delegate,(e=>Jm(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Og(e=yg(e,Pg)),r=new Rg;return lg(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return jg(this._delegate,e).then((e=>e?new bv(this,e):null))}}class lv extends Lm{constructor(e){super(),this.firestore=e}convertBytes(e){return new sv(new Bg(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pv.forKey(t,this.firestore,null)}}class hv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lv(e)}get(e){const t=Sv(e);return this._delegate.get(t).then((e=>new yv(this._firestore,new Vm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Sv(e);return n?(rv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Sv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Sv(e);return this._delegate.delete(t),this}}class dv{constructor(e){this._delegate=e}set(e,t,n){const r=Sv(e);return n?(rv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=Sv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=Sv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new jm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wv(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=fv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new fv(e,new lv(e),t),r.set(t,i)),i}}fv.INSTANCES=new WeakMap;class pv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lv(e)}static forPath(e,t,n){if(e.length%2!==0)throw new No("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new pv(t,new Sg(t._delegate,n,new $o(e)))}static forKey(e,t,n){return new pv(t,new Sg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ev(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ev(this.firestore,Tg(this._delegate,e))}catch(t){throw gv(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=P(e))instanceof Sg&&xg(this._delegate,e)}set(e,t){t=rv("DocumentReference.set",t);try{return t?Hm(this._delegate,e,t):Hm(this._delegate,e)}catch(n){throw gv(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Qm(this._delegate,e):Qm(this._delegate,e,t,...r)}catch(o){throw gv(o,"updateDoc()","DocumentReference.update()")}}delete(){return Jm(yg((e=this._delegate).firestore,Pg),[new Ac(e._key,vc.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=mv(t),i=vv(t,(e=>new yv(this.firestore,new Vm(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ym(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Km(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yg(e,Sg);const t=yg(e.firestore,Pg);return ug(Og(t),e._key,{source:"server"}).then((n=>Xm(t,e,n)))}(this._delegate):function(e){e=yg(e,Sg);const t=yg(e.firestore,Pg);return ug(Og(t),e._key).then((n=>Xm(t,e,n)))}(this._delegate),t.then((e=>new yv(this.firestore,new Vm(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new pv(this.firestore,e?this._delegate.withConverter(fv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function gv(e,t,n){return e.message=e.message.replace(t,n),e}function mv(e){for(const t of e)if("object"===typeof t&&!av(t))return t;return{}}function vv(e,t){var n,r;let i;return i=av(e[0])?e[0]:av(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class yv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qm(this._delegate,e._delegate)}}class wv extends yv{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||ko(),t}}class bv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lv(e)}where(e,t,n){try{return new bv(this.firestore,Sm(this._delegate,function(e,t,n){const r=t,i=bm("where",e);return km._create(i,r,n)}(e,t,n)))}catch(r){throw gv(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new bv(this.firestore,Sm(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bm("orderBy",e);return Cm._create(n,t)}(e,t)))}catch(n){throw gv(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new bv(this.firestore,Sm(this._delegate,(wg("limit",t=e),xm._create("limit",t,"F"))))}catch(t){throw gv(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new bv(this.firestore,Sm(this._delegate,(wg("limitToLast",t=e),xm._create("limitToLast",t,"L"))))}catch(t){throw gv(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new bv(this.firestore,Sm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nm._create("startAt",t,!0)}(...arguments)))}catch(e){throw gv(e,"startAt()","Query.startAt()")}}startAfter(){try{return new bv(this.firestore,Sm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Nm._create("startAfter",t,!1)}(...arguments)))}catch(e){throw gv(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new bv(this.firestore,Sm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Am._create("endBefore",t,!1)}(...arguments)))}catch(e){throw gv(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new bv(this.firestore,Sm(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Am._create("endAt",t,!0)}(...arguments)))}catch(e){throw gv(e,"endAt()","Query.endAt()")}}isEqual(e){return Ng(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gm(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=yg(e,Eg);const t=yg(e.firestore,Pg),n=Og(t),r=new Wm(t);return cg(n,e._query,{source:"server"}).then((n=>new zm(t,r,e,n)))}(this._delegate):function(e){e=yg(e,Eg);const t=yg(e.firestore,Pg),n=Og(t),r=new Wm(t);return _m(e._query),cg(n,e._query).then((n=>new zm(t,r,e,n)))}(this._delegate),t.then((e=>new Iv(this.firestore,new zm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=mv(t),i=vv(t,(e=>new Iv(this.firestore,new zm(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ym(this._delegate,r,i)}withConverter(e){return new bv(this.firestore,e?this._delegate.withConverter(fv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class _v{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Iv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new bv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new wv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new _v(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new wv(this._firestore,n))}))}isEqual(e){return qm(this._delegate,e._delegate)}}class Ev extends bv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pv(this.firestore,e):null}doc(e){try{return new pv(this.firestore,void 0===e?Cg(this._delegate):Cg(this._delegate,e))}catch(t){throw gv(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=yg(e.firestore,Pg),r=Cg(e),i=Mm(e.converter,t);return Jm(n,[Zg(Xg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vc.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new pv(this.firestore,e)))}isEqual(e){return xg(this._delegate,e._delegate)}withConverter(e){return new Ev(this.firestore,e?this._delegate.withConverter(fv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Sv(e){return yg(e,Sg)}class kv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new qg(...t)}static documentId(){return new kv(Yo.keyField().canonicalString())}isEqual(e){return(e=P(e))instanceof qg&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tv{constructor(e){this._delegate=e}static serverTimestamp(){const e=new nm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Tv(e)}static delete(){const e=new em("deleteField");return e._methodName="FieldValue.delete",new Tv(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rm("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Tv(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new im("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Tv(e)}static increment(e){const t=new om("increment",e);return t._methodName="FieldValue.increment",new Tv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cv={Firestore:cv,GeoPoint:Kg,Timestamp:Wo,Blob:sv,Transaction:hv,WriteBatch:dv,DocumentReference:pv,DocumentSnapshot:yv,Query:bv,QueryDocumentSnapshot:wv,QuerySnapshot:Iv,CollectionReference:Ev,FieldPath:kv,FieldValue:Tv,setLogLevel:function(e){var t;t=e,wo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var xv;(function(e,t){e.INTERNAL.registerComponent(new O("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Cv)))})(xv=Qe,((e,t)=>new cv(e,t,new uv))),xv.registerVersion("@firebase/firestore-compat","0.3.25");function Nv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Av={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Dv="EMAIL_SIGNIN",Rv="PASSWORD_RESET",Pv="RECOVER_EMAIL",Ov="REVERT_SECOND_FACTOR_ADDITION",Lv="VERIFY_AND_CHANGE_EMAIL",Mv="VERIFY_EMAIL";function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uv=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Vv=Fv,jv=new I("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zv=new W("@firebase/auth");function Bv(e){if(zv.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zv.error("Auth (".concat(Se,"): ").concat(e),...n)}}function qv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hv(e,...n)}function Wv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hv(e,...n)}function Kv(e,t,n){const r=Object.assign(Object.assign({},Vv()),{[t]:n});return new I("auth","Firebase",r).create(t,{appName:e.name})}function Gv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qv(e,"argument-error"),Kv(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Hv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return jv.create(e,...n)}function Qv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hv(t,...r)}}function Yv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Bv(t),new Error(t)}function $v(e,t){e||Yv(t)}function Jv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xv(){return"http:"===Zv()||"https:"===Zv()}function Zv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ey{constructor(e,t){this.shortDelay=e,this.longDelay=t,$v(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())||v()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Xv()||m()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ty(e,t){$v(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ny{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Yv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Yv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Yv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ry={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},iy=new ey(3e4,6e4);function oy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function sy(e,t,n,r){return ay(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=C(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),ny.fetch()(cy(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ay(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ry),t);try{const t=new hy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dy(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw dy(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw dy(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw dy(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Kv(e,a,s);qv(e,a)}}catch(i){if(i instanceof _)throw i;qv(e,"network-request-failed",{message:String(i)})}}async function uy(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await sy(e,t,n,r,i);return"mfaPendingCredential"in o&&qv(e,"multi-factor-auth-required",{_serverResponse:o}),o}function cy(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ty(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function ly(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hy{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wv(this.auth,"network-request-failed"))),iy.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function dy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wv(e,t,r);return i.customData._tokenResponse=n,i}function fy(e){return void 0!==e&&void 0!==e.getResponse}function py(e){return void 0!==e&&void 0!==e.enterprise}class gy{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ly(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function my(e,t){return sy(e,"GET","/v2/recaptchaConfig",oy(e,t))}function vy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function yy(e){return 1e3*Number(e)}function wy(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Bv("JWT malformed, contained fewer than 3 sections"),null;try{const e=u(n);return e?JSON.parse(e):(Bv("Failed to decode base64 JWT payload"),null)}catch(i){return Bv("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function by(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof _&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class _y{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vy(this.lastLoginAt),this.creationTime=vy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ey(e){var t;const n=e.auth,r=await e.getIdToken(),i=await by(e,async function(e,t){return sy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Qv(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Nv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(u=e.providerData,c=s,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const l=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!l&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Iy(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Sy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qv(e.idToken,"internal-error"),Qv("undefined"!==typeof e.idToken,"internal-error"),Qv("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=wy(e);return Qv(t,"internal-error"),Qv("undefined"!==typeof t.exp,"internal-error"),Qv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qv(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ay(e,{},(async()=>{const n=C({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=cy(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ny.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Sy;return n&&(Qv("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Qv("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Qv("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sy,this.toJSON())}_performRefresh(){return Yv("not implemented")}}function ky(e,t){Qv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ty{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Iy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await by(this,this.stsTokenManager.getToken(this.auth,e));return Qv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=P(e),r=await n.getIdToken(t),i=wy(r);Qv(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vy(yy(i.auth_time)),issuedAtTime:vy(yy(i.iat)),expirationTime:vy(yy(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=P(e);await Ey(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Qv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ty(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ey(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await by(this,async function(e,t){return sy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;Qv(y&&I,e,"internal-error");const E=Sy.fromJSON(this.name,I);Qv("string"===typeof y,e,"internal-error"),ky(l,e.name),ky(h,e.name),Qv("boolean"===typeof w,e,"internal-error"),Qv("boolean"===typeof b,e,"internal-error"),ky(d,e.name),ky(f,e.name),ky(p,e.name),ky(g,e.name),ky(m,e.name),ky(v,e.name);const S=new Ty({uid:y,auth:e,email:h,emailVerified:w,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Sy;r.updateFromServerResponse(t);const i=new Ty({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ey(i),i}}const Cy=new Map;function xy(e){$v(e instanceof Function,"Expected a class definition");let t=Cy.get(e);return t?($v(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cy.set(e,t),t)}class Ny{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ny.type="NONE";const Ay=Ny;function Dy(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Ry{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Dy(this.userKey,r.apiKey,i),this.fullPersistenceKey=Dy("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ty._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Ry(xy(Ay),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||xy(Ay);const o=Dy(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Ty._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(u){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(u){}}))),new Ry(i,e,n)):new Ry(i,e,n)}}function Py(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vy(t))return"Blackberry";if(jy(t))return"Webos";if(Ly(t))return"Safari";if((t.includes("chrome/")||My(t))&&!t.includes("edge/"))return"Chrome";if(Uy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Oy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/firefox\//i.test(e)}function Ly(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function My(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/crios\//i.test(e)}function Fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/iemobile/i.test(e)}function Uy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/android/i.test(e)}function Vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/blackberry/i.test(e)}function jy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/webos/i.test(e)}function zy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function By(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return zy(e)||Uy(e)||jy(e)||Vy(e)||/windows phone/i.test(e)||Fy(e)}function qy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Py(p());break;case"Worker":t="".concat(Py(p()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Se,"/").concat(r)}class Wy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ky{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Gy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qy(this),this.idTokenSubscription=new Qy(this),this.beforeStateQueue=new Wy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xy(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Ry.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Qv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ey(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?P(e):null;return t&&Qv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Qv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(xy(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return sy(e,"GET","/v2/passwordPolicy",oy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ky(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return sy(e,"POST","/v2/accounts:revokeToken",oy(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xy(e)||this._popupRedirectResolver;Qv(t,this,"argument-error"),this.redirectPersistenceManager=await Ry.create(this,[xy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qv(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(zv.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zv.warn("Auth (".concat(Se,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Hy(e){return P(e)}class Qy{constructor(e){this.auth=e,this.observer=null,this.addObserver=A((e=>this.observer=e))}get next(){return Qv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $y(e){return Yy.loadJS(e)}function Jy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Xy{constructor(e){this.type="recaptcha-enterprise",this.auth=Hy(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;py(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{my(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new gy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&py(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Yy.recaptchaEnterpriseScript;0!==t.length&&(t+=i),$y(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Zy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Xy(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ew(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function tw(e,t,n){const r=Hy(e);Qv(r._canInitEmulator,r,"emulator-config-failed"),Qv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=nw(t),{host:s,port:a}=function(e){const t=nw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:rw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:rw(t)}}}(t),u=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(u,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function nw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class iw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yv("not implemented")}_getIdTokenResponse(e){return Yv("not implemented")}_linkToIdToken(e,t){return Yv("not implemented")}_getReauthenticationResolver(e){return Yv("not implemented")}}async function ow(e,t){return sy(e,"POST","/v1/accounts:resetPassword",oy(e,t))}async function sw(e,t){return sy(e,"POST","/v1/accounts:signUp",t)}async function aw(e,t){return uy(e,"POST","/v1/accounts:signInWithPassword",oy(e,t))}async function uw(e,t){return sy(e,"POST","/v1/accounts:sendOobCode",oy(e,t))}async function cw(e,t){return uw(e,t)}async function lw(e,t){return uw(e,t)}class hw extends iw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new hw(e,t,"password")}static _fromEmailAndCode(e,t){return new hw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ew(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",aw);case"emailLink":return async function(e,t){return uy(e,"POST","/v1/accounts:signInWithEmailLink",oy(e,t))}(e,{email:this._email,oobCode:this._password});default:qv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ew(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sw);case"emailLink":return async function(e,t){return uy(e,"POST","/v1/accounts:signInWithEmailLink",oy(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dw(e,t){return uy(e,"POST","/v1/accounts:signInWithIdp",oy(e,t))}class fw extends iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Nv(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new fw(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return dw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=C(t)}return e}}const pw={USER_NOT_FOUND:"user-not-found"};class gw extends iw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new gw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new gw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return uy(e,"POST","/v1/accounts:signInWithPhoneNumber",oy(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await uy(e,"POST","/v1/accounts:signInWithPhoneNumber",oy(e,t));if(n.temporaryProof)throw dy(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return uy(e,"POST","/v1/accounts:signInWithPhoneNumber",oy(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),pw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new gw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class mw{constructor(e){var t,n,r,i,o,s;const a=x(N(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Qv(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=x(N(e)).link,n=t?x(N(t)).deep_link_id:null,r=x(N(e)).deep_link_id;return(r?x(N(r)).link:null)||r||n||t||e}(e);try{return new mw(t)}catch(n){return null}}}class vw{constructor(){this.providerId=vw.PROVIDER_ID}static credential(e,t){return hw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=mw.parseLink(t);return Qv(n,"argument-error"),hw._fromEmailAndCode(e,n.code,n.tenantId)}}vw.PROVIDER_ID="password",vw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ww extends yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bw extends ww{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Qv("providerId"in t&&"signInMethod"in t,"argument-error"),fw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Qv(e.idToken||e.accessToken,"argument-error"),fw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new bw(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(u){return null}}}class _w extends ww{constructor(){super("facebook.com")}static credential(e){return fw._fromParams({providerId:_w.PROVIDER_ID,signInMethod:_w.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _w.credentialFromTaggedObject(e)}static credentialFromError(e){return _w.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _w.credential(t.oauthAccessToken)}catch(n){return null}}}_w.FACEBOOK_SIGN_IN_METHOD="facebook.com",_w.PROVIDER_ID="facebook.com";class Iw extends ww{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fw._fromParams({providerId:Iw.PROVIDER_ID,signInMethod:Iw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Iw.credentialFromTaggedObject(e)}static credentialFromError(e){return Iw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Iw.credential(n,r)}catch(i){return null}}}Iw.GOOGLE_SIGN_IN_METHOD="google.com",Iw.PROVIDER_ID="google.com";class Ew extends ww{constructor(){super("github.com")}static credential(e){return fw._fromParams({providerId:Ew.PROVIDER_ID,signInMethod:Ew.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ew.credentialFromTaggedObject(e)}static credentialFromError(e){return Ew.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ew.credential(t.oauthAccessToken)}catch(n){return null}}}Ew.GITHUB_SIGN_IN_METHOD="github.com",Ew.PROVIDER_ID="github.com";class Sw extends iw{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return dw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,dw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Sw(n,i):null}static _create(e,t){return new Sw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kw extends yw{constructor(e){Qv(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return kw.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return kw.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Sw.fromJSON(e);return Qv(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Sw._create(r,n)}catch(i){return null}}}class Tw extends ww{constructor(){super("twitter.com")}static credential(e,t){return fw._fromParams({providerId:Tw.PROVIDER_ID,signInMethod:Tw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tw.credentialFromTaggedObject(e)}static credentialFromError(e){return Tw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Tw.credential(n,r)}catch(i){return null}}}async function Cw(e,t){return uy(e,"POST","/v1/accounts:signUp",oy(e,t))}Tw.TWITTER_SIGN_IN_METHOD="twitter.com",Tw.PROVIDER_ID="twitter.com";class xw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ty._fromIdTokenResponse(e,n,r),o=Nw(n);return new xw({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Nw(n);return new xw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Nw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Aw extends _{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Aw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Aw(e,t,n,r)}}function Dw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Aw._fromErrorAndOperation(e,n,t,r);throw n}))}function Rw(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Pw(e,t){const n=P(e);await Lw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return sy(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Rw(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ow(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await by(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xw._forOperation(e,"link",r)}async function Lw(e,t,n){await Ey(t);const r=!1===e?"provider-already-linked":"no-such-provider";Qv(Rw(t.providerData).has(n)===e,t.auth,r)}async function Mw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await by(e,Dw(r,i,t,e),n);Qv(o.idToken,r,"internal-error");const s=wy(o.idToken);Qv(s,r,"internal-error");const{sub:a}=s;return Qv(e.uid===a,r,"user-mismatch"),xw._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&qv(r,"user-mismatch"),o}}async function Fw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Dw(e,r,t),o=await xw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Uw(e,t){return Fw(Hy(e),t)}async function Vw(e,t){const n=P(e);return await Lw(!1,n,t.providerId),Ow(n,t)}async function jw(e,t){return Mw(P(e),t)}async function zw(e,t){const n=Hy(e),r=await async function(e,t){return uy(e,"POST","/v1/accounts:signInWithCustomToken",oy(e,t))}(n,{token:t,returnSecureToken:!0}),i=await xw._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Bw{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qw._fromServerResponse(e,t):"totpInfo"in t?Ww._fromServerResponse(e,t):qv(e,"internal-error")}}class qw extends Bw{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qw(t)}}class Ww extends Bw{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ww(t)}}function Kw(e,t,n){var r;Qv((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Qv("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Qv(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Qv(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Gw(e){const t=Hy(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hw(e,t){await async function(e,t){return sy(e,"POST","/v1/accounts:update",oy(e,t))}(P(e),{oobCode:t})}async function Qw(e,t){const n=P(e),r=await ow(n,{oobCode:t}),i=r.requestType;switch(Qv(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Qv(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Qv(r.mfaInfo,n,"internal-error");default:Qv(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Bw._fromServerResponse(Hy(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Yw(e,t){const n={identifier:t,continueUri:Xv()?Jv():"http://localhost"},{signinMethods:r}=await async function(e,t){return sy(e,"POST","/v1/accounts:createAuthUri",oy(e,t))}(P(e),n);return r||[]}async function $w(e,t){const n=P(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Kw(n.auth,r,t);const{email:i}=await async function(e,t){return uw(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Jw(e,t,n){const r=P(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Kw(r.auth,i,n);const{email:o}=await async function(e,t){return uw(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Xw(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=P(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await by(i,async function(e,t){return sy(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Zw(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await by(e,async function(e,t){return sy(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class eb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class tb extends eb{constructor(e,t,n,r){super(e,t,n),this.username=r}}class nb extends eb{constructor(e,t){super(e,"facebook.com",t)}}class rb extends tb{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ib extends eb{constructor(e,t){super(e,"google.com",t)}}class ob extends tb{constructor(e,t,n){super(e,"twitter.com",t,n)}}function sb(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=wy(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new eb(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new nb(o,i);case"github.com":return new rb(o,i);case"google.com":return new ib(o,i);case"twitter.com":return new ob(o,i,e.screenName||null);case"custom":case"anonymous":return new eb(o,null);default:return new eb(o,r,i)}}(n)}class ab{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ab("enroll",e,t)}static _fromMfaPendingCredential(e){return new ab("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ab._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ab._fromIdtoken(e.multiFactorSession.idToken)}return null}}class ub{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Hy(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Bw._fromServerResponse(n,e)));Qv(r.mfaPendingCredential,n,"internal-error");const o=ab._fromMfaPendingCredential(r.mfaPendingCredential);return new ub(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await xw._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Qv(t.user,n,"internal-error"),xw._forOperation(t.user,t.operationType,s);default:qv(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class cb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Bw._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new cb(e)}async getSession(){return ab._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await by(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await by(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},sy(r,"POST","/v2/accounts/mfaEnrollment:withdraw",oy(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(o){throw o}var r,i}}const lb=new WeakMap;const hb="__sak";class db{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hb,"1"),this.storage.removeItem(hb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fb extends db{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=p();return Ly(e)||zy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=By(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);y()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fb.type="LOCAL";const pb=fb;class gb extends db{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gb.type="SESSION";const mb=gb;class vb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vb(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vb.receivers=[];class wb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=yb("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function bb(){return window}function _b(){return"undefined"!==typeof bb().WorkerGlobalScope&&"function"===typeof bb().importScripts}const Ib="firebaseLocalStorageDb",Eb="firebaseLocalStorage",Sb="fbase_key";class kb{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Tb(e,t){return e.transaction([Eb],t?"readwrite":"readonly").objectStore(Eb)}function Cb(){const e=indexedDB.open(Ib,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Eb,{keyPath:Sb})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Eb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ib);return new kb(e).toPromise()}(),t(await Cb()))}))}))}async function xb(e,t,n){const r=Tb(e,!0).put({[Sb]:t,value:n});return new kb(r).toPromise()}function Nb(e,t){const n=Tb(e,!0).delete(t);return new kb(n).toPromise()}class Ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Cb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vb._getInstance(_b()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new wb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cb();return await xb(e,hb,"1"),await Nb(e,hb),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>xb(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Tb(e,!1).get(t),r=await new kb(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Nb(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Tb(e,!1).getAll();return new kb(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ab.type="LOCAL";const Db=Ab;const Rb=1e12;class Pb{constructor(e){this.auth=e,this.counter=Rb,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ob(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Rb;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Rb;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Rb;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ob{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Qv(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lb=Jy("rcb"),Mb=new ey(3e4,6e4);class Fb{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=bb().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Qv(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&fy(bb().grecaptcha)?Promise.resolve(bb().grecaptcha):new Promise(((n,r)=>{const i=bb().setTimeout((()=>{r(Wv(e,"network-request-failed"))}),Mb.get());bb()[Lb]=()=>{bb().clearTimeout(i),delete bb()[Lb];const o=bb().grecaptcha;if(!o||!fy(o))return void r(Wv(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};$y("".concat(Yy.recaptchaV2Script,"?").concat(C({onload:Lb,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Wv(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=bb().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ub{async load(e){return new Pb(e)}clearedOneInstance(){}}const Vb="recaptcha",jb={theme:"light",type:"image"};class zb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},jb);this.parameters=n,this.type=Vb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hy(e),this.isInvisible="invisible"===this.parameters.size,Qv("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Qv(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ub:new Fb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Qv(!this.parameters.sitekey,this.auth,"argument-error"),Qv(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Qv("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=bb()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Qv(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Qv(Xv()&&!_b(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await sy(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Qv(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Qv(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=gw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function qb(e,t,n){var r;const i=await n.verify();try{let o;if(Qv("string"===typeof i,e,"argument-error"),Qv(n.type===Vb,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Qv("enroll"===t.type,e,"internal-error");const n=await function(e,t){return sy(e,"POST","/v2/accounts/mfaEnrollment:start",oy(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Qv("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Qv(n,e,"missing-multi-factor-info");const s=await function(e,t){return sy(e,"POST","/v2/accounts/mfaSignIn:start",oy(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return sy(e,"POST","/v1/accounts:sendVerificationCode",oy(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Wb{constructor(e){this.providerId=Wb.PROVIDER_ID,this.auth=Hy(e)}verifyPhoneNumber(e,t){return qb(this.auth,e,P(t))}static credential(e,t){return gw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wb.credentialFromTaggedObject(t)}static credentialFromError(e){return Wb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?gw._fromTokenResponse(n,r):null}}function Kb(e,t){return t?xy(t):(Qv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Wb.PROVIDER_ID="phone",Wb.PHONE_SIGN_IN_METHOD="phone";class Gb extends iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hb(e){return Fw(e.auth,new Gb(e),e.bypassAuthState)}function Qb(e){const{auth:t,user:n}=e;return Qv(n,t,"internal-error"),Mw(n,new Gb(e),e.bypassAuthState)}async function Yb(e){const{auth:t,user:n}=e;return Qv(n,t,"internal-error"),Ow(n,new Gb(e),e.bypassAuthState)}class $b{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hb;case"linkViaPopup":case"linkViaRedirect":return Yb;case"reauthViaPopup":case"reauthViaRedirect":return Qb;default:qv(this.auth,"internal-error")}}resolve(e){$v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jb=new ey(2e3,1e4);class Xb extends $b{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xb.currentPopupAction&&Xb.currentPopupAction.cancel(),Xb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qv(e,this.auth,"internal-error"),e}async onExecution(){$v(1===this.filter.length,"Popup operations only handle one event");const e=yb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wv(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Jb.get())};e()}}Xb.currentPopupAction=null;const Zb="pendingRedirect",e_=new Map;class t_ extends $b{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=e_.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=o_(t),r=i_(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}e_.set(this.auth._key(),e)}return this.bypassAuthState||e_.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function n_(e,t){return i_(e)._set(o_(t),"true")}function r_(e,t){e_.set(e._key(),t)}function i_(e){return xy(e._redirectPersistence)}function o_(e){return Dy(Zb,e.config.apiKey,e.name)}function s_(e,t,n){return async function(e,t,n){const r=Hy(e);Gv(e,t,yw),await r._initializationPromise;const i=Kb(r,n);return await n_(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function a_(e,t,n){return async function(e,t,n){const r=P(e);Gv(r.auth,t,yw),await r.auth._initializationPromise;const i=Kb(r.auth,n);await n_(i,r.auth);const o=await l_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function u_(e,t,n){return async function(e,t,n){const r=P(e);Gv(r.auth,t,yw),await r.auth._initializationPromise;const i=Kb(r.auth,n);await Lw(!1,r,t.providerId),await n_(i,r.auth);const o=await l_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function c_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Hy(e),i=Kb(r,t),o=new t_(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function l_(e){const t=yb("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class h_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!f_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function f_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function p_(e){return sy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const g_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m_=/^https?/;function v_(e){const t=Jv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!m_.test(n))return!1;if(g_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const y_=new ey(3e4,6e4);function w_(){const e=bb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function b_(e){return new Promise(((t,n)=>{var r,i,o;function s(){w_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(Wv(e,"network-request-failed"))},timeout:y_.get()})}if(null===(i=null===(r=bb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=bb().gapi)||void 0===o?void 0:o.load)){const t=Jy("iframefcb");return bb()[t]=()=>{gapi.load?s():n(Wv(e,"network-request-failed"))},$y("".concat(Yy.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw __=null,e}))}let __=null;const I_=new ey(5e3,15e3),E_="__/auth/iframe",S_="emulator/auth/iframe",k_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C_(e){const t=e.config;Qv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ty(t,S_):"https://".concat(e.config.authDomain,"/").concat(E_),r={apiKey:t.apiKey,appName:e.name,v:Se},i=T_.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(C(r).slice(1))}async function x_(e){const t=await function(e){return __=__||b_(e),__}(e),n=bb().gapi;return Qv(n,e,"internal-error"),t.open({where:document.body,url:C_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wv(e,"network-request-failed"),o=bb().setTimeout((()=>{r(i)}),I_.get());function s(){bb().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const N_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function D_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},N_),{width:r.toString(),height:i.toString(),top:o,left:s}),c=p().toLowerCase();n&&(a=My(c)?"_blank":n),Oy(c)&&(t=t||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return zy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new A_(null);const h=window.open(t||"",a,l);Qv(h,e,"popup-blocked");try{h.focus()}catch(d){}return new A_(h)}const R_="__/auth/handler",P_="emulator/auth/handler",O_=encodeURIComponent("fac");async function L_(e,t,n,r,i,o){Qv(e.config.authDomain,e,"auth-domain-config-required"),Qv(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Se,eventId:i};if(t instanceof yw){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ww){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=await e._getAppCheckToken(),c=u?"#".concat(O_,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(R_);return ty(t,P_)}(e),"?").concat(C(a).slice(1)).concat(c)}const M_="webStorageSupport";const F_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mb,this._completeRedirectFn=c_,this._overrideRedirectResult=r_}async _openPopup(e,t,n,r){var i;$v(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return D_(e,await L_(e,t,n,Jv(),r),yb())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){bb().location.href=e}(await L_(e,t,n,Jv(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):($v(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await x_(e),n=new h_(e);return t.register("authEvent",(t=>{Qv(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(M_,{type:M_},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[M_];void 0!==i&&t(!!i),qv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await p_(e);for(const r of t)try{if(v_(r))return}catch(n){}qv(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return By()||Ly()||zy()}};class U_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yv("unexpected MultiFactorSessionType")}}}class V_ extends U_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new V_(e)}_finalizeEnroll(e,t,n){return function(e,t){return sy(e,"POST","/v2/accounts/mfaEnrollment:finalize",oy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return sy(e,"POST","/v2/accounts/mfaSignIn:finalize",oy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class j_{constructor(){}static assertion(e){return V_._fromCredential(e)}}j_.FACTOR_ID="phone";var z_="@firebase/auth",B_="1.6.0";class q_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=h())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var W_;function K_(){return window}!function(e){Yy=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Wv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),W_="Browser",ye(new O("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Qv(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:W_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qy(W_)},c=new Gy(r,i,o,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ye(new O("auth-internal",(e=>(e=>new q_(e))(Hy(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ne(z_,B_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(W_)),Ne(z_,B_,"esm2017");async function G_(e,t,n){var r;const{BuildInfo:i}=K_();$v(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if($v(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return zy()?s.ibi=i.packageName:Uy()?s.apn=i.packageName:qv(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,L_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function H_(e){const{cordova:t}=K_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Q_=20;class Y_ extends h_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function $_(e){const t=await Z_()._get(eI(e));return t&&await Z_()._remove(eI(e)),t}function J_(e,t){var n,r;const i=function(e){const t=tI(e),n=t.link?decodeURIComponent(t.link):void 0,r=tI(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return tI(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=tI(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Wv(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function X_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Q_;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Z_(){return xy(pb)}function eI(e){return Dy("authEvent",e.config.apiKey,e.name)}function tI(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return x(n.join("?"))}const nI=class{constructor(){this._redirectPersistence=mb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=c_,this._overrideRedirectResult=r_}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Y_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){qv(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,u,c,l;const h=K_();Qv("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Qv("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Qv("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qv("function"===typeof(null===(u=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Qv("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),e_.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:X_(),postBody:null,tenantId:e.tenantId,error:Wv(e,"no-auth-event")}}(e,n,r);await function(e,t){return Z_()._set(eI(e),t)}(e,o);const s=await G_(e,o,t);return async function(e,t,n){const{cordova:r}=K_();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function u(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Wv(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),Uy()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await H_(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=K_(),n={};zy()?n.iosBundleId=t.packageName:Uy()?n.androidPackageName=t.packageName:qv(e,"operation-not-supported-in-this-environment"),await p_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=K_(),o=setTimeout((async()=>{await $_(e),t.onEvent(rI())}),500),s=async n=>{clearTimeout(o);const r=await $_(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=J_(r,n.url)),t.onEvent(i||rI())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,u="".concat(i.packageName.toLowerCase(),"://");K_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function rI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Wv("no-auth-event")}}function iI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function oI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return!("file:"!==iI()&&"ionic:"!==iI()&&"capacitor:"!==iI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return y()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/Edge\/\d+/.test(e)}(e)}function aI(){try{const e=self.localStorage,t=yb();if(e)return e.setItem(t,"1"),e.removeItem(t),!sI()||b()}catch(e){return uI()&&b()}return!1}function uI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cI(){return("http:"===iI()||"https:"===iI()||m()||oI())&&!(v()||g())&&aI()&&!uI()}function lI(){return oI()&&"undefined"!==typeof document}const hI={LOCAL:"local",NONE:"none",SESSION:"session"},dI=Qv,fI="persistence";async function pI(e){await e._initializationPromise;const t=gI(),n=Dy(fI,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function gI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const mI=Qv;class vI{constructor(){this.browserResolver=xy(F_),this.cordovaResolver=xy(nI),this.underlyingResolver=null,this._redirectPersistence=mb,this._completeRedirectFn=c_,this._overrideRedirectResult=r_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return lI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mI(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!lI()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function yI(e){return e.unwrap()}function wI(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new EI(e,function(e,t){var n;const r=P(e),i=t;return Qv(t.customData.operationType,r,"argument-error"),Qv(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ub._fromError(r,i)}(e,t))}else if(r){const e=bI(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function bI(e){const{_tokenResponse:t}=e instanceof _?e.customData:e;if(!t)return null;if(!(e instanceof _)&&"temporaryProof"in t&&"phoneNumber"in t)return Wb.credentialFromResult(e);const n=t.providerId;if(!n||n===Av.PASSWORD)return null;let r;switch(n){case Av.GOOGLE:r=Iw;break;case Av.FACEBOOK:r=_w;break;case Av.GITHUB:r=Ew;break;case Av.TWITTER:r=Tw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Sw._create(n,s):fw._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new bw(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof _?r.credentialFromError(e):r.credentialFromResult(e)}function _I(e,t){return t.catch((t=>{throw t instanceof _&&wI(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,bI(r)),additionalUserInfo:sb(e),user:SI.getOrCreate(n)};var r}))}async function II(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>_I(e,n.confirm(t))}}class EI{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return _I(yI(this.auth),this.resolver.resolveSignIn(e))}}class SI{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=P(e);return lb.has(t)||lb.set(t,cb._fromUser(t)),lb.get(t)}(e)}static getOrCreate(e){return SI.USER_MAP.has(e)||SI.USER_MAP.set(e,new SI(e)),SI.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return _I(this.auth,Vw(this._delegate,e))}async linkWithPhoneNumber(e,t){return II(this.auth,async function(e,t,n){const r=P(e);await Lw(!1,r,"phone");const i=await qb(r.auth,t,P(n));return new Bb(i,(e=>Vw(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return _I(this.auth,async function(e,t,n){const r=P(e);Gv(r.auth,t,yw);const i=Kb(r.auth,n);return new Xb(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,vI))}async linkWithRedirect(e){return await pI(Hy(this.auth)),u_(this._delegate,e,vI)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return _I(this.auth,jw(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return II(this.auth,async function(e,t,n){const r=P(e),i=await qb(r.auth,t,P(n));return new Bb(i,(e=>jw(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return _I(this.auth,async function(e,t,n){const r=P(e);Gv(r.auth,t,yw);const i=Kb(r.auth,n);return new Xb(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,vI))}async reauthenticateWithRedirect(e){return await pI(Hy(this.auth)),a_(this._delegate,e,vI)}sendEmailVerification(e){return $w(this._delegate,e)}async unlink(e){return await Pw(this._delegate,e),this}updateEmail(e){return function(e,t){return Zw(P(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Zw(P(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ow(P(e),t)}(this._delegate,e)}updateProfile(e){return Xw(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Jw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}SI.USER_MAP=new WeakMap;const kI=Qv;class TI{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;kI(n,"invalid-api-key",{appName:e.name}),kI(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?vI:void 0;this._delegate=t.initialize({options:{persistence:xI(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Uv),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?SI.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){tw(this._delegate,e,t)}applyActionCode(e){return Hw(this._delegate,e)}checkActionCode(e){return Qw(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ow(P(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gw(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return _I(this._delegate,async function(e,t,n){const r=Hy(e),i=ew(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cw),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gw(e),t})),s=await xw._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Yw(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=mw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){kI(cI(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Hy(e)._initializationPromise,c_(e,t,!1)}(this._delegate,vI);return e?_I(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Hy(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=CI(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=CI(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Hy(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Qv(t.handleCodeInApp,r,"argument-error"),t&&Kw(r,e,t)}(i,n),await ew(r,i,"getOobCode",lw)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Hy(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Kw(r,i,n),await ew(r,i,"getOobCode",cw)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){dI(Object.values(hI).includes(t),e,"invalid-persistence-type"),v()?dI(t!==hI.SESSION,e,"unsupported-persistence-type"):g()?dI(t===hI.NONE,e,"unsupported-persistence-type"):uI()?dI(t===hI.NONE||t===hI.LOCAL&&b(),e,"unsupported-persistence-type"):dI(t===hI.NONE||aI(),e,"unsupported-persistence-type")}(this._delegate,e),e){case hI.SESSION:t=mb;break;case hI.LOCAL:t=await xy(Db)._isAvailable()?Db:pb;break;case hI.NONE:t=Ay;break;default:return qv("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return _I(this._delegate,async function(e){var t;const n=Hy(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new xw({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Cw(n,{returnSecureToken:!0}),i=await xw._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return _I(this._delegate,Uw(this._delegate,e))}signInWithCustomToken(e){return _I(this._delegate,zw(this._delegate,e))}signInWithEmailAndPassword(e,t){return _I(this._delegate,function(e,t,n){return Uw(P(e),vw.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gw(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return _I(this._delegate,async function(e,t,n){const r=P(e),i=vw.credentialWithLink(t,n||Jv());return Qv(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Uw(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return II(this._delegate,async function(e,t,n){const r=Hy(e),i=await qb(r,t,P(n));return new Bb(i,(e=>Uw(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return kI(cI(),this._delegate,"operation-not-supported-in-this-environment"),_I(this._delegate,async function(e,t,n){const r=Hy(e);Gv(e,t,yw);const i=Kb(r,n);return new Xb(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,vI))}async signInWithRedirect(e){return kI(cI(),this._delegate,"operation-not-supported-in-this-environment"),await pI(this._delegate),s_(this._delegate,e,vI)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Qw(P(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function CI(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&SI.getOrCreate(e)),error:t,complete:n}}function xI(e,t){const n=function(e,t){const n=gI();if(!n)return[];const r=Dy(fI,e,t);switch(n.getItem(r)){case hI.NONE:return[Ay];case hI.LOCAL:return[Db,mb];case hI.SESSION:return[mb];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Db)||n.push(Db),"undefined"!==typeof window)for(const r of[pb,mb])n.includes(r)||n.push(r);return n.includes(Ay)||n.push(Ay),n}TI.Persistence=hI;class NI{constructor(){this.providerId="phone",this._delegate=new Wb(yI(Qe.auth()))}static credential(e,t){return Wb.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}NI.PHONE_SIGN_IN_METHOD=Wb.PHONE_SIGN_IN_METHOD,NI.PROVIDER_ID=Wb.PROVIDER_ID;const AI=Qv;class DI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe.app();var r;AI(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new zb(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new O("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new TI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Dv,PASSWORD_RESET:Rv,RECOVER_EMAIL:Pv,REVERT_SECOND_FACTOR_ADDITION:Ov,VERIFY_AND_CHANGE_EMAIL:Lv,VERIFY_EMAIL:Mv}},EmailAuthProvider:vw,FacebookAuthProvider:_w,GithubAuthProvider:Ew,GoogleAuthProvider:Iw,OAuthProvider:bw,SAMLAuthProvider:kw,PhoneAuthProvider:NI,PhoneMultiFactorGenerator:j_,RecaptchaVerifier:DI,TwitterAuthProvider:Tw,Auth:TI,AuthCredential:iw,Error:_}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.2")}(Qe);const RI=Qe.initializeApp({apiKey:"AIzaSyBNClFRFHz76JzaHckEg6aI6N9RhYjg8r0",authDomain:"instagram-web-f9dff.firebaseapp.com",projectId:"instagram-web-f9dff",storageBucket:"instagram-web-f9dff.appspot.com",messagingSenderId:"821064868643",appId:"1:821064868643:web:78bb218f18c9e15a316296"}),{FieldValue:PI}=Qe.firestore},387:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AO:()=>h,Gh:()=>P,HS:()=>O,Oi:()=>a,Rr:()=>d,pX:()=>V,pb:()=>N,rc:()=>i,tH:()=>U,ue:()=>g,yD:()=>R,zR:()=>s}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function s(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return l("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,e)}function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,s){void 0===s&&(s={});let{window:u=document.defaultView,v5Compat:d=!1}=s,f=u.history,p=i.Pop,g=null,m=v();function v(){return(f.state||{idx:null}).idx}function y(){p=i.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:p,location:b.location,delta:t})}function w(e){let t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(r({},f.state,{idx:m}),""));let b={get action(){return p},get location(){return e(u,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(o,y),g=e,()=>{u.removeEventListener(o,y),g=null}},createHref:e=>t(u,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=l(b.location,e,t);n&&n(r,e),m=v()+1;let o=c(r,m),s=b.createHref(r);try{f.pushState(o,"",s)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;u.location.assign(s)}d&&g&&g({action:p,location:b.location,delta:1})},replace:function(e,t){p=i.Replace;let r=l(b.location,e,t);n&&n(r,e),m=v();let o=c(r,m),s=b.createHref(r);f.replaceState(o,"",s),d&&g&&g({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=x(r);o=T(i[s],e)}return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(a(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let u=O([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),m(e.children,t,c,u)),(null!=e.path||e.index)&&t.push({path:u,score:k(u,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=v(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,w=3,b=2,_=1,I=10,E=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=b),n.filter((e=>!S(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?_:I)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let l=e.route;o.push({params:r,pathname:O([i,c.pathname]),pathnameBase:L(O([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return o}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const u=a[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function x(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function P(e,t,n,i){let o;void 0===i&&(i=!1),"string"===typeof e?o=d(e):(o=r({},e),a(!o.pathname||!o.pathname.includes("?"),A("?","pathname","search",o)),a(!o.pathname||!o.pathname.includes("#"),A("#","pathname","hash",o)),a(!o.search||!o.search.includes("#"),A("#","search","hash",o)));let s,u=""===e||""===o.pathname,c=u?"/":o.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:M(r),hash:F(i)}}(o,s),h=c&&"/"!==c&&c.endsWith("/"),f=(u||"."===c)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}const O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class U extends Error{}function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const j=["post","put","patch","delete"],z=(new Set(j),["get",...j]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},875:function(e,t,n){e.exports=function(e,t){"use strict";function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(e),i={React:void 0,options:void 0,origCreateElement:void 0,origCreateFactory:void 0,origCloneElement:void 0,componentsMap:new WeakMap,ownerDataMap:new WeakMap,hooksPerRender:[]};function o(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e){var t=u(e,"string");return"symbol"==typeof t?t:String(t)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function _(e){var t=y();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function E(){return E="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},E.apply(this,arguments)}function S(e,t){return C(e)||o(e,t)||N(e,t)||R()}function k(e){return T(e)||x(e)||N(e)||D()}function T(e){if(Array.isArray(e))return A(e)}function C(e){if(Array.isArray(e))return e}function x(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}var O={different:"different",deepEquals:"deepEquals",date:"date",regex:"regex",reactElement:"reactElement",function:"function",same:"same"},L=p(p(p(p(p(p(p({},O.different,"different objects"),O.deepEquals,"different objects that are equal by value"),O.date,"different date objects with the same value"),O.regex,"different regular expressions with the same value"),O.reactElement,"different React elements (remember that the <jsx/> syntax always produces a *NEW* immutable React element so a component that receives <jsx/> as props always re-renders)"),O.function,"different functions with the same name"),O.same,"same objects by ref (===)"),M="function"===typeof Symbol&&Symbol.for,F=M?Symbol.for("react.memo"):60115,U=M?Symbol.for("react.forward_ref"):60112,V=8,j="undefined"!==typeof Element,z="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103,B=function(e){return e.$$typeof===z};function q(e,t,n,r,i){return n.push({diffType:i,pathString:r,prevValue:e,nextValue:t}),i!==O.different}function W(e,t){return!!Object.getOwnPropertyDescriptor(e,t).get}var K=new WeakMap;function G(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(arguments.length>4?arguments[4]:void 0).detailed;if(e===n)return o&&q(e,n,r,i,O.same),!0;if(!e||!n)return q(e,n,r,i,O.different);if(t.isArray(e)&&t.isArray(n)){var s=e.length;if(s!==n.length)return q(k(e),k(n),r,i,O.different);for(var u=[],c=0,h=s;h--;h>0)G(e[h],n[h],u,"".concat(i,"[").concat(h,"]"),{detailed:o})&&c++;return(o||c!==s)&&r.push.apply(r,u),q(k(e),k(n),r,i,c===s?O.deepEquals:O.different)}if(t.isSet(e)&&t.isSet(n)){if(e.size!==n.size)return q(new Set(e),new Set(n),r,i,O.different);var d,f=P(e);try{for(f.s();!(d=f.n()).done;){var p=d.value;if(!n.has(p))return q(new Set(e),new Set(n),r,i,O.different)}}catch(R){f.e(R)}finally{f.f()}return q(new Set(e),new Set(n),r,i,O.deepEquals)}if(t.isDate(e)&&t.isDate(n))return e.getTime()===n.getTime()?q(new Date(e),new Date(n),r,i,O.date):q(new Date(e),new Date(n),r,i,O.different);if(t.isRegExp(e)&&t.isRegExp(n))return e.toString()===n.toString()?q(e,n,r,i,O.regex):q(e,n,r,i,O.different);if(j&&e instanceof Element&&n instanceof Element)return q(e,n,r,i,O.different);if(B(e)&&B(n)){if(e.type!==n.type)return q(e,n,r,i,O.different);var g=G(e.props,n.props,[],"".concat(i,".props"),{detailed:o});return q(e,n,r,i,g?O.reactElement:O.different)}if(t.isFunction(e)&&t.isFunction(n)){if(e.name!==n.name)return q(e,n,r,i,O.different);var m=K.get(e),v=K.get(n);if(m&&v){var y=G(m.deps,v.deps,r,"".concat(i,":parent-hook-").concat(m.hookName,"-deps"),{detailed:o});return q(e,n,r,i,y?O.function:O.different)}return q(e,n,r,i,O.function)}if("object"===l(e)&&"object"===l(n)&&Object.getPrototypeOf(e)===Object.getPrototypeOf(n)){var w=Object.getOwnPropertyNames(e),b=Object.getOwnPropertyNames(n),_=t.uniq([].concat(k(w),k(b))),I=t.isPlainObject(e)?a({},e):e,E=t.isPlainObject(n)?a({},n):n;if(_.length!==w.length||_.length!==b.length)return q(I,E,r,i,O.different);for(var S=_.filter((function(n){return("stack"!==n||!t.isError(e))&&!W(e,n)})),T=S.length,C=T;C--;C>0)if(!t.has(n,S[C]))return q(I,E,r,i,O.different);for(var x=[],N=0,A=T;A--;A>0){var D=S[A];G(e[D],n[D],x,"".concat(i,".").concat(D),{detailed:o})&&N++}return(o||N!==T)&&r.push.apply(r,x),q(I,E,r,i,N===T?O.deepEquals:O.different)}return q(e,n,r,i,O.different)}function H(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).detailed,i=void 0!==r&&r;try{var o=[];return G(e,t,o,n,{detailed:i}),o}catch(s){if(s.message&&s.message.match(/stack|recursion/i)||-2146828260===s.number)return console.warn("Warning: why-did-you-render couldn't handle circular references in props.",s.name,s.message),!1;throw s}}function Q(e,n,r){var i=r.pathString,o=r.consoleLog,s=H(e,n,i,{detailed:!0}),a=Math.max.apply(Math,k(s.map((function(e){return e.pathString.length}))))+2;Object.entries(t.groupBy(t.sortBy(s,"pathString"),"diffType")).forEach((function(e){var t=S(e,2),n=t[0],r=t[1];o("%c".concat(L[n],":"),"text-decoration: underline; color: blue;"),r.forEach((function(e){o("".concat(e.pathString,":").padEnd(a," "),e.prevValue)}))}))}var Y="http://bit.ly/wdyr02",$="http://bit.ly/wdyr3",J=!1;function X(e,t){return!J&&(!!i.options.logOnDifferentValues||!(!t.whyDidYouRender||!t.whyDidYouRender.logOnDifferentValues)||!(e.propsDifferences&&e.propsDifferences.some((function(e){return e.diffType===O.different}))||e.stateDifferences&&e.stateDifferences.some((function(e){return e.diffType===O.different}))||e.hookDifferences&&e.hookDifferences.some((function(e){return e.diffType===O.different}))))}function Z(e){var t=e.Component,n=e.displayName,r=e.hookName,o=e.prefixMessage,s=e.diffObjType,a=e.differences,u=e.values;a&&a.length>0?(i.options.consoleLog(p({},n,t),"".concat(o," of ").concat(s," changes:")),a.forEach((function(e){var t=e.pathString,n=e.diffType,o=e.prevValue,a=e.nextValue;function u(){Q(o,a,{pathString:t,consoleLog:i.options.consoleLog})}i.options.consoleGroup("%c".concat("hook"===s?"[hook ".concat(r," result]"):"".concat(s,"."),"%c").concat(t,"%c"),"color:".concat(i.options.diffNameColor,";"),"color:".concat(i.options.diffPathColor,";"),"color:default;"),i.options.consoleLog("".concat(L[n],". (more info at ").concat(r?$:Y,")")),i.options.consoleLog(p({},"prev ".concat(t),o),"!==",p({},"next ".concat(t),a)),n===O.deepEquals&&i.options.consoleLog({"For detailed diff, right click the following fn, save as global, and run: ":u}),i.options.consoleGroupEnd()}))):a&&(i.options.consoleLog(p({},n,t),"".concat(o," the ").concat(s," object itself changed but its values are all equal."),"props"===s?"This could have been avoided by making the component pure, or by preventing its father from re-rendering.":"This usually means this component called setState when no changes in its state actually occurred.","More info at ".concat(Y)),i.options.consoleLog("prev ".concat(s,":"),u.prev," !== ",u.next,":next ".concat(s)))}function ee(e){var t=e.Component,n=e.displayName,r=e.hookName,o=e.prevProps,s=e.prevState,a=e.prevHook,u=e.nextProps,c=e.nextState,l=e.nextHook,h=e.reason;if(X(h,t,i.options)){i.options.consoleGroup("%c".concat(n),"color: ".concat(i.options.titleColor,";"));var d="Re-rendered because";if(h.propsDifferences&&(Z({Component:t,displayName:n,prefixMessage:d,diffObjType:"props",differences:h.propsDifferences,values:{prev:o,next:u}}),d="And because"),h.stateDifferences&&Z({Component:t,displayName:n,prefixMessage:d,diffObjType:"state",differences:h.stateDifferences,values:{prev:s,next:c}}),h.hookDifferences&&Z({Component:t,displayName:n,prefixMessage:d,diffObjType:"hook",differences:h.hookDifferences,values:{prev:a,next:l},hookName:r}),h.propsDifferences&&h.ownerDifferences){var f=i.ownerDataMap.get(o),g=i.ownerDataMap.get(u);i.options.consoleGroup("Rendered by ".concat(g.displayName));var m="Re-rendered because";h.ownerDifferences.propsDifferences&&(Z({Component:g.Component,displayName:g.displayName,prefixMessage:m,diffObjType:"props",differences:h.ownerDifferences.propsDifferences,values:{prev:f.props,next:g.props}}),m="And because"),h.ownerDifferences.stateDifferences&&Z({Component:g.Component,displayName:g.displayName,prefixMessage:m,diffObjType:"state",differences:h.ownerDifferences.stateDifferences,values:{prev:f.state,next:g.state}}),h.ownerDifferences.hookDifferences&&h.ownerDifferences.hookDifferences.forEach((function(e,t){var n=e.hookName,r=e.differences;return Z({Component:g.Component,displayName:g.displayName,prefixMessage:m,diffObjType:"hook",differences:r,values:{prev:f.hooks[t].result,next:g.hooks[t].result},hookName:n})})),i.options.consoleGroupEnd()}h.propsDifferences||h.stateDifferences||h.hookDifferences||i.options.consoleLog(p({},n,t),"Re-rendered although props and state objects are the same.","This usually means there was a call to this.forceUpdate() inside the component.","more info at ".concat(Y)),i.options.consoleGroupEnd()}}function te(e){return ee}var ne=function(){};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=console.group,n=console.groupEnd;return e.collapseGroups?t=console.groupCollapsed:e.onlyLogs&&(t=console.log,n=ne),a({include:null,exclude:null,notifier:e.notifier||te("hotReloadBufferMs"in e?e.hotReloadBufferMs:500),onlyLogs:!1,consoleLog:console.log,consoleGroup:t,consoleGroupEnd:n,logOnDifferentValues:!1,logOwnerReasons:!0,trackHooks:!0,titleColor:"#058",diffNameColor:"blue",diffPathColor:"red",trackExtraHooks:[],trackAllPureComponents:!1},e)}function ie(e){return e.displayName||e.name||e.type&&ie(e.type)||e.render&&ie(e.render)||(t.isString(e)?e:"Unknown")}function oe(e){return e.defaultProps||e.type&&oe(e.type)||e.render&&oe(e.render)||{}}var se={};function ae(e,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).shallow;if(e===n)return!1;if(void 0!==r&&!r)return H(e,n);var i=e||se,o=n||se,s=Object.keys(a(a({},i),o));return t.reduce(s,(function(e,t){var n=H(i[t],o[t],t);return n&&(e=[].concat(k(e),k(n))),e}),[])}function ue(e){var t=e.prevOwnerData,n=e.nextOwnerData;if(!t||!n)return!1;var r=(t.hooks.length===2*n.hooks.length?t.hooks.slice(t.hooks.length/2):t.hooks).map((function(e,t){return{hookName:e.hookName,differences:ae(e.result,n.hooks[t].result,{shallow:!1})}}));return{propsDifferences:ae(t.props,n.props),stateDifferences:ae(t.state,n.state),hookDifferences:r.length>0&&r}}function ce(e,t,n,r,o,s){var a=i.ownerDataMap.get(e),u=i.ownerDataMap.get(r);return{propsDifferences:ae(e,r),stateDifferences:ae(t,o),hookDifferences:ae(n,s,{shallow:!1}),ownerDifferences:ue({prevOwnerData:a,nextOwnerData:u})}}function le(e){var t=e.Component,n=e.displayName,r=e.hookName,i=e.prevProps,o=e.prevState,s=e.prevHook,a=e.nextProps,u=e.nextState,c=e.nextHook;return{Component:t,displayName:n,hookName:r,prevProps:i,prevState:o,prevHook:s,nextProps:a,nextState:u,nextHook:c,reason:ce(i,o,s,a,u,c)}}function he(e){for(var t=e&&(e._reactInternalFiber||e._reactInternals);t;){if(t.mode&V)return!0;t=t.return}return!1}function de(e){return e.prototype&&!!e.prototype.isReactComponent}function fe(e){return e.$$typeof===F}function pe(e){return e.$$typeof===U}function ge(e){return i.options.include&&i.options.include.length>0&&i.options.include.some((function(t){return t.test(e)}))}function me(e){return i.options.exclude&&i.options.exclude.length>0&&i.options.exclude.some((function(t){return t.test(e)}))}function ve(e,t){var n=t.isHookChange,r=ie(e);return!me(r)&&!1!==e.whyDidYouRender&&(!n||!e.whyDidYouRender||!1!==e.whyDidYouRender.trackHooks)&&!!(e.whyDidYouRender||i.options.trackAllPureComponents&&(e&&e.prototype instanceof i.React.PureComponent||fe(e))||ge(r))}function ye(e,n){var r=n.displayName,o=n.defaultProps,s=function(t){g(o,t);var n=_(o);function o(t,r){var i,s;h(this,o),(s=n.call(this,t,r))._WDYR={renderNumber:0};var a=E((i=w(s),m(o.prototype)),"render",i)||s.render;return a!==e.prototype.render&&(s.render=function(){return o.prototype.render.apply(w(s)),a()}),s}return f(o,[{key:"render",value:function(){if(this._WDYR.renderNumber++,"isStrictMode"in this._WDYR||(this._WDYR.isStrictMode=he(this)),!this._WDYR.isStrictMode||this._WDYR.renderNumber%2!==1){if(this._WDYR.prevProps){var t=le({Component:e,displayName:r,prevProps:this._WDYR.prevProps,prevState:this._WDYR.prevState,nextProps:this.props,nextState:this.state});i.options.notifier(t)}this._WDYR.prevProps=this.props,this._WDYR.prevState=this.state}return E(m(o.prototype),"render",this)?E(m(o.prototype),"render",this).call(this):null}}]),o}(e);try{s.displayName=r}catch(a){}return s.defaultProps=o,t.defaults(s,e),s}var we=function(e){return function(t){return i.React.createElement(e,t)}};function be(e,n){var r=n.isPure,o=n.displayName,s=n.defaultProps,a="string"===typeof e?we(e):e;function u(){var e=arguments[0],t=i.React.useRef(),n=t.current;if(t.current=e,n){var s=le({Component:a,displayName:o,prevProps:n,nextProps:e});!s.reason.propsDifferences||r&&0===s.reason.propsDifferences.length||i.options.notifier(s)}return a.apply(void 0,arguments)}try{u.displayName=o}catch(c){}return u.defaultProps=s,u.ComponentForHooksTracking=a,t.defaults(u,a),u}function _e(e,n){var r=n.displayName,o=n.defaultProps,s=e.type,a=de(s),u=pe(s),c=fe(s),l=u?s.render:s,h=a?ye(l,{displayName:r,defaultProps:o}):c?_e(l,{displayName:r,defaultProps:o}):be(l,{displayName:r,isPure:!0});try{h.displayName=ie(l)}catch(f){}h.ComponentForHooksTracking=e,t.defaults(h,l);var d=i.React.memo(u?i.React.forwardRef(h):h,e.compare);try{d.displayName=r}catch(f){}return d.defaultProps=o,t.defaults(d,e),d}function Ie(e,n){var r=n.displayName,o=n.defaultProps,s=e.render,a=fe(s),u=a?s.type:s,c=be(u,{isPure:a,displayName:r});c.displayName=ie(u),c.ComponentForHooksTracking=u,t.defaults(c,u);var l=i.React.forwardRef(a?i.React.memo(c,s.compare):c);try{l.displayName=r}catch(h){}return l.defaultProps=o,t.defaults(l,e),l}var Ee=Symbol("initial-hook-value");function Se(e,n,r){var o=n.path,s=o?t.get(r,o):r,a=i.React.useRef(!0);i.hooksPerRender[0]&&i.hooksPerRender[0].renderNumberForTheHook!==a.current&&(i.hooksPerRender=[]),i.hooksPerRender.push({hookName:e,result:s,renderNumberForTheHook:a.current}),a.current++;var u=i.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED&&i.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current,c=i.React.useRef(Ee);if(!u)return r;var l=u.type.ComponentForHooksTracking||u.type,h=ie(l);if(!ve(l,{isHookChange:!0}))return r;var d=c.current;if(c.current=r,d!==Ee){var f=le({Component:l,displayName:h,hookName:e,prevHook:o?t.get(d,o):d,nextHook:s});f.reason.hookDifferences&&i.options.notifier(f)}return r}function ke(e,t){var n=t.displayName,r=t.defaultProps;return fe(e)?_e(e,{displayName:n,defaultProps:r}):pe(e)?Ie(e,{displayName:n,defaultProps:r}):de(e)?ye(e,{displayName:n,defaultProps:r}):be(e,{displayName:n,defaultProps:r,isPure:!1})}function Te(e,t){var n=t.displayName,r=t.defaultProps;if(i.componentsMap.has(e))return i.componentsMap.get(e);var o=ke(e,{displayName:n,defaultProps:r});return i.componentsMap.set(e,o),o}function Ce(e){return!!e&&(fe(e)?Ce(e.type):pe(e)?Ce(e.render):"function"===typeof e||void 0)}var xe={useState:{path:"0"},useReducer:{path:"0"},useContext:void 0,useSyncExternalStore:void 0,useMemo:{dependenciesPath:"1",dontReport:!0},useCallback:{dependenciesPath:"1",dontReport:!0}};function Ne(e){var t=i.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner.current;if(t){var n=t.type.ComponentForHooksTracking||t.type,r=ie(n),o={};i.options.getAdditionalOwnerData&&(o=i.options.getAdditionalOwnerData(e)),i.ownerDataMap.set(e.props,{Component:n,displayName:r,props:t.pendingProps,state:t.stateNode?t.stateNode.state:null,hooks:i.hooksPerRender,additionalOwnerData:o})}}function Ae(){var e=null;i.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED&&Object.defineProperty(i.React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,"current",{get:function(){return e},set:function(t){e=t,i.hooksPerRender=[]}})}function De(){var e=!!i.React.useState;if(i.options.trackHooks&&e){var n=Object.entries(xe).map((function(e){var t=S(e,2),n=t[0],r=t[1];return[i.React,n,r]}));[].concat(k(n),k(i.options.trackExtraHooks)).forEach((function(e){var n=S(e,3),r=n[0],i=n[1],o=n[2],s=void 0===o?{}:o,a=r[i],u=i[0].toUpperCase()+i.slice(1),c=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=a.call.apply(a,[this].concat(n)),u=s.dependenciesPath,c=s.dontReport;return u&&t.isFunction(o)&&K.set(o,{hookName:i,deps:t.get(n,u)}),c||Se(i,s,o),o};Object.defineProperty(c,"name",{value:u,writable:!1}),Object.assign(c,{originalHook:a}),r[i]=c}))}}function Re(e){return Ce(e)&&ve(e,{isHookChange:!1})?Te(e,{displayName:e&&e.whyDidYouRender&&e.whyDidYouRender.customName||ie(e),defaultProps:oe(e)}):null}function Pe(e,t){if(!e.__IS_WDYR__)return e.__IS_WDYR__=!0,Object.assign(i,{React:e,options:re(t),origCreateElement:e.createElement,origCreateFactory:e.createFactory,origCloneElement:e.cloneElement,componentsMap:new WeakMap}),Ae(),e.createElement=function(t){for(var n=Re(t),r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];if(n)try{var a=i.origCreateElement.apply(e,[n].concat(o));return i.options.logOwnerReasons&&Ne(a),a}catch(u){i.options.consoleLog("whyDidYouRender error. Please file a bug at https://github.com/welldone-software/why-did-you-render/issues.",{errorInfo:{error:u,componentNameOrComponent:t,rest:o,options:i.options}})}return i.origCreateElement.apply(e,[t].concat(o))},Object.assign(e.createElement,i.origCreateElement),e.createFactory=function(t){var n=e.createElement.bind(null,t);return n.type=t,n},Object.assign(e.createFactory,i.origCreateFactory),e.cloneElement=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=i.origCloneElement.apply(e,n);return i.options.logOwnerReasons&&Ne(o),o},Object.assign(e.cloneElement,i.origCloneElement),De(),e.__REVERT_WHY_DID_YOU_RENDER__=function(){Object.assign(e,{createElement:i.origCreateElement,createFactory:i.origCreateFactory,cloneElement:i.origCloneElement}),i.componentsMap=null,[].concat(k(Object.keys(xe).map((function(t){return[e,t]}))),k(i.options.trackExtraHooks)).forEach((function(e){var t=S(e,2),n=t[0],r=t[1];n[r].originalHook&&(n[r]=n[r].originalHook)})),delete e.__REVERT_WHY_DID_YOU_RENDER__,delete e.__IS_WDYR__},e}return Pe.defaultNotifier=ee,Pe.wdyrStore=i,Pe.storeOwnerData=Ne,Pe.getWDYRType=Re,Object.assign(Pe,r),Pe}(n(43),n(536))},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,l=64,h=128,d=256,f=1/0,p=9007199254740991,g=NaN,m=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",w="[object Array]",b="[object Boolean]",_="[object Date]",I="[object Error]",E="[object Function]",S="[object GeneratorFunction]",k="[object Map]",T="[object Number]",C="[object Object]",x="[object Promise]",N="[object RegExp]",A="[object Set]",D="[object String]",R="[object Symbol]",P="[object WeakMap]",O="[object ArrayBuffer]",L="[object DataView]",M="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",V="[object Int16Array]",j="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",W="[object Uint32Array]",K=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,$=RegExp(Q.source),J=RegExp(Y.source),X=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ne="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",Re="["+Se+"]",Pe="["+Ae+"]",Oe="["+ke+"]",Le="\\d+",Me="["+Te+"]",Fe="["+Ce+"]",Ue="[^"+Se+Ae+Le+Te+Ce+xe+"]",Ve="\\ud83c[\\udffb-\\udfff]",je="[^"+Se+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+xe+"]",We="\\u200d",Ke="(?:"+Fe+"|"+Ue+")",Ge="(?:"+qe+"|"+Ue+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Oe+"|"+Ve+")"+"?",$e="["+Ne+"]?",Je=$e+Ye+("(?:"+We+"(?:"+[je,ze,Be].join("|")+")"+$e+Ye+")*"),Xe="(?:"+[Me,ze,Be].join("|")+")"+Je,Ze="(?:"+[je+Oe+"?",Oe,ze,Be,Re].join("|")+")",et=RegExp(De,"g"),tt=RegExp(Oe,"g"),nt=RegExp(Ve+"(?="+Ve+")|"+Ze+Je,"g"),rt=RegExp([qe+"?"+Fe+"+"+He+"(?="+[Pe,qe,"$"].join("|")+")",Ge+"+"+Qe+"(?="+[Pe,qe+Ke,"$"].join("|")+")",qe+"?"+Ke+"+"+He,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Xe].join("|"),"g"),it=RegExp("["+We+Se+ke+Ne+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ut={};ut[M]=ut[F]=ut[U]=ut[V]=ut[j]=ut[z]=ut[B]=ut[q]=ut[W]=!0,ut[y]=ut[w]=ut[O]=ut[b]=ut[L]=ut[_]=ut[I]=ut[E]=ut[k]=ut[T]=ut[C]=ut[N]=ut[A]=ut[D]=ut[P]=!1;var ct={};ct[y]=ct[w]=ct[O]=ct[L]=ct[b]=ct[_]=ct[M]=ct[F]=ct[U]=ct[V]=ct[j]=ct[k]=ct[T]=ct[C]=ct[N]=ct[A]=ct[D]=ct[R]=ct[z]=ct[B]=ct[q]=ct[W]=!0,ct[I]=ct[E]=ct[P]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ft||pt||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===mt,wt=yt&&ft.process,bt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(t){}}(),_t=bt&&bt.isArrayBuffer,It=bt&&bt.isDate,Et=bt&&bt.isMap,St=bt&&bt.isRegExp,kt=bt&&bt.isSet,Tt=bt&&bt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Pt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Ot(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Mt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ut(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Ht("length");function zt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,Kt,n)}function Wt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Kt(e){return e!==e}function Gt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:g}function Ht(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function $t(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,mn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+lt[e]}function un(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):jt(e)}function gn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?gt:yn.defaults(gt.Object(),t,yn.pick(gt,st))).Array,r=t.Date,ae=t.Error,Se=t.Function,ke=t.Math,Te=t.Object,Ce=t.RegExp,xe=t.String,Ne=t.TypeError,Ae=n.prototype,De=Se.prototype,Re=Te.prototype,Pe=t["__core-js_shared__"],Oe=De.toString,Le=Re.hasOwnProperty,Me=0,Fe=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=Re.toString,Ve=Oe.call(Te),je=gt._,ze=Ce("^"+Oe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:i,qe=t.Symbol,We=t.Uint8Array,Ke=Be?Be.allocUnsafe:i,Ge=ln(Te.getPrototypeOf,Te),He=Te.create,Qe=Re.propertyIsEnumerable,Ye=Ae.splice,$e=qe?qe.isConcatSpreadable:i,Je=qe?qe.iterator:i,Xe=qe?qe.toStringTag:i,Ze=function(){try{var e=ho(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=r&&r.now!==gt.Date.now&&r.now,lt=t.setTimeout!==gt.setTimeout&&t.setTimeout,ft=ke.ceil,pt=ke.floor,mt=Te.getOwnPropertySymbols,vt=Be?Be.isBuffer:i,wt=t.isFinite,bt=Ae.join,jt=ln(Te.keys,Te),Qt=ke.max,wn=ke.min,bn=r.now,_n=t.parseInt,In=ke.random,En=Ae.reverse,Sn=ho(t,"DataView"),kn=ho(t,"Map"),Tn=ho(t,"Promise"),Cn=ho(t,"Set"),xn=ho(t,"WeakMap"),Nn=ho(Te,"create"),An=xn&&new xn,Dn={},Rn=Uo(Sn),Pn=Uo(kn),On=Uo(Tn),Ln=Uo(Cn),Mn=Uo(xn),Fn=qe?qe.prototype:i,Un=Fn?Fn.valueOf:i,Vn=Fn?Fn.toString:i;function jn(e){if(ta(e)&&!Ws(e)&&!(e instanceof Wn)){if(e instanceof qn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new qn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function qn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Hn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Gn(e);this.size=t.size}function $n(e,t){var n=Ws(e),r=!n&&qs(e),i=!n&&!r&&Qs(e),o=!n&&!r&&!i&&ca(e),s=n||r||i||o,a=s?Jt(e.length,xe):[],u=a.length;for(var c in e)!t&&!Le.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,u))||a.push(c);return a}function Jn(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Xn(e,t){return Lo(Ni(e),ar(t,0,e.length))}function Zn(e){return Lo(Ni(e))}function er(e,t,n){(n!==i&&!js(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&js(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(js(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Ai(t,Da(t),e)}function or(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Ta(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,s){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ea(e))return e;var h=Ws(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ni(e,a)}else{var d=go(e),f=d==E||d==S;if(Qs(e))return Ei(e,u);if(d==C||d==y||f&&!o){if(a=c||f?{}:vo(e),!u)return c?function(e,t){return Ai(e,po(e),t)}(e,function(e,t){return e&&Ai(t,Ra(t),e)}(a,e)):function(e,t){return Ai(e,fo(e),t)}(e,ir(a,e))}else{if(!ct[d])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case O:return Si(e);case b:case _:return new r(+e);case L:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case F:case U:case V:case j:case z:case B:case q:case W:return ki(e,n);case k:return new r;case T:case D:return new r(e);case N:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new r;case R:return i=e,Un?Te(Un.call(i)):{}}var i}(e,d,u)}}s||(s=new Yn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(r){a.add(ur(r,t,n,r,e,s))})):na(e)&&e.forEach((function(r,i){a.set(i,ur(r,t,n,i,e,s))}));var g=h?i:(l?c?io:ro:c?Ra:Da)(e);return Nt(g||e,(function(r,i){g&&(r=e[i=r]),tr(a,i,ur(r,t,n,i,e,s))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ne(o);return Do((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Pt,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=Lt(t,Zt(n))),r?(o=Ot,s=!1):t.length>=200&&(o=tn,s=!1,t=new Qn(t));e:for(;++i<a;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,s&&h===h){for(var d=c;d--;)if(t[d]===h)continue e;u.push(l)}else o(t,h,r)||u.push(l)}return u}jn.templateSettings={escape:X,evaluate:Z,interpolate:ee,variable:"",imports:{_:jn}},jn.prototype=Bn.prototype,jn.prototype.constructor=jn,qn.prototype=zn(Bn.prototype),qn.prototype.constructor=qn,Wn.prototype=zn(Bn.prototype),Wn.prototype.constructor=Wn,Kn.prototype.clear=function(){this.__data__=Nn?Nn(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(Nn){var n=t[e];return n===s?i:n}return Le.call(t,e)?t[e]:i},Kn.prototype.has=function(e){var t=this.__data__;return Nn?t[e]!==i:Le.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Nn&&t===i?s:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Gn.prototype.has=function(e){return nr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Hn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(kn||Gn),string:new Kn}},Hn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Hn.prototype.get=function(e){return co(this,e).get(e)},Hn.prototype.has=function(e){return co(this,e).has(e)},Hn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,s),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hn(r)}return n.set(e,t),this.size=n.size,this};var dr=Pi(br),fr=Pi(_r,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a===a&&!ua(a):n(a,u)))var u=a,c=s}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=yo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):Mt(i,a):r||(i[i.length]=a)}return i}var yr=Oi(),wr=Oi(!0);function br(e,t){return e&&yr(e,t,Da)}function _r(e,t){return e&&wr(e,t,Da)}function Ir(e,t){return Rt(t,(function(t){return Js(e[t])}))}function Er(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Sr(e,t,n){var r=t(e);return Ws(e)?r:Mt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in Te(e)?function(e){var t=Le.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(s){}var o=Ue.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return o}(e):function(e){return Ue.call(e)}(e)}function Tr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function xr(e,t){return null!=e&&t in Te(e)}function Nr(e,t,r){for(var o=r?Ot:Pt,s=e[0].length,a=e.length,u=a,c=n(a),l=1/0,h=[];u--;){var d=e[u];u&&t&&(d=Lt(d,Zt(t))),l=wn(d.length,l),c[u]=!r&&(t||s>=120&&d.length>=120)?new Qn(u&&d):i}d=e[0];var f=-1,p=c[0];e:for(;++f<s&&h.length<l;){var g=d[f],m=t?t(g):g;if(g=r||0!==g?g:0,!(p?tn(p,m):o(h,m,r))){for(u=a;--u;){var v=c[u];if(!(v?tn(v,m):o(e[u],m,r)))continue e}p&&p.push(m),h.push(g)}}return h}function Ar(e,t,n){var r=null==(e=xo(e,t=wi(t,e)))?e:e[Fo($o(t))];return null==r?i:Ct(r,e,n)}function Dr(e){return ta(e)&&kr(e)==y}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var a=Ws(e),u=Ws(t),c=a?w:go(e),l=u?w:go(t),h=(c=c==y?C:c)==C,d=(l=l==y?C:l)==C,f=c==l;if(f&&Qs(e)){if(!Qs(t))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Yn),a||ca(e)?to(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case b:case _:case T:return js(+e,+t);case I:return e.name==t.name&&e.message==t.message;case N:case D:return e==t+"";case k:var a=cn;case A:var u=1&r;if(a||(a=dn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=to(a(e),a(t),r,i,o,s);return s.delete(e),l;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),g=d&&Le.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new Yn),o(m,v,n,r,s)}}if(!f)return!1;return s||(s=new Yn),function(e,t,n,r,o,s){var a=1&n,u=ro(e),c=u.length,l=ro(t),h=l.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var f=u[d];if(!(a?f in t:Le.call(t,f)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);var v=a;for(;++d<c;){var y=e[f=u[d]],w=t[f];if(r)var b=a?r(w,y,f,t,e,s):r(y,w,f,e,t,s);if(!(b===i?y===w||o(y,w,n,r,s):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var _=e.constructor,I=t.constructor;_==I||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof I&&I instanceof I||(m=!1)}return s.delete(e),s.delete(t),m}(e,t,n,r,o,s)}(e,t,n,r,Rr,o))}function Pr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],l=e[c],h=u[1];if(a&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Yn;if(r)var f=r(l,h,c,e,t,d);if(!(f===i?Rr(h,l,3,r,d):f))return!1}}return!0}function Or(e){return!(!ea(e)||(t=e,Fe&&Fe in t))&&(Js(e)?ze:ye).test(Uo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Ws(e)?zr(e[0],e[1]):jr(e):du(e)}function Mr(e){if(!So(e))return jt(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Vr(e,t){var r=-1,i=Gs(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function jr(e){var t=lo(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function zr(e,t){return _o(e)&&ko(t)?To(Fo(e),t):function(n){var r=Ta(n,e);return r===i&&r===t?Ca(n,e):Rr(t,r,3)}}function Br(e,t,n,r,o){e!==t&&yr(t,(function(s,a){if(o||(o=new Yn),ea(s))!function(e,t,n,r,o,s,a){var u=No(e,n),c=No(t,n),l=a.get(c);if(l)return void er(e,n,l);var h=s?s(u,c,n+"",e,t,a):i,d=h===i;if(d){var f=Ws(c),p=!f&&Qs(c),g=!f&&!p&&ca(c);h=c,f||p||g?Ws(u)?h=u:Hs(u)?h=Ni(u):p?(d=!1,h=Ei(c,!0)):g?(d=!1,h=ki(c,!0)):h=[]:ia(c)||qs(c)?(h=u,qs(u)?h=va(u):ea(u)&&!Js(u)||(h=vo(c))):d=!1}d&&(a.set(c,h),o(h,c,r,s,a),a.delete(c));er(e,n,h)}(e,t,a,n,Br,r,o);else{var u=r?r(No(e,a),s,a+"",e,t,o):i;u===i&&(u=s),er(e,a,u)}}),Ra)}function qr(e,t){var n=e.length;if(n)return wo(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Lt(t,(function(e){return Ws(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ru];var r=-1;t=Lt(t,Zt(uo()));var i=Vr(e,(function(e,n,i){var o=Lt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var u=Ti(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Zr(o,wi(s,e),a)}return o}function Gr(e,t,n,r){var i=r?Wt:qt,o=-1,s=t.length,a=e;for(e===t&&(t=Ni(t)),n&&(a=Lt(e,Zt(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&Ye.call(a,u,1),Ye.call(e,u,1);return e}function Hr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;wo(i)?Ye.call(e,i,1):hi(e,i)}}return e}function Qr(e,t){return e+pt(In()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function $r(e,t){return Ro(Co(e,t,ru),e+"")}function Jr(e){return Jn(ja(e))}function Xr(e,t){var n=ja(e);return Lo(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var o=-1,s=(t=wi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Fo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=ea(h)?h:wo(t[o+1])?[]:{})}tr(u,c,l),u=u[c]}return e}var ei=An?function(e,t){return An.set(e,t),e}:ru,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function ni(e){return Lo(ja(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ua(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return si(e,t,ru,n)}function si(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,u=null===t,c=ua(t),l=t===i;o<s;){var h=pt((o+s)/2),d=n(e[h]),f=d!==i,p=null===d,g=d===d,m=ua(d);if(a)var v=r||g;else v=l?g&&(r||f):u?g&&f&&(r||!p):c?g&&f&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?o=h+1:s=h}return wn(s,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!js(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ui(e){return"number"==typeof e?e:ua(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Ws(e))return Lt(e,ci)+"";if(ua(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Pt,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=Ot;else if(o>=200){var c=t?null:Yi(e);if(c)return dn(c);s=!1,i=tn,u=new Qn}else u=t?[]:a;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,s&&h===h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),a.push(l)}else i(u,h,n)||(u!==a&&u.push(h),a.push(l))}return a}function hi(e,t){return null==(e=xo(e,t=wi(t,e)))||delete e[Fo($o(t))]}function di(e,t,n,r){return Zr(e,t,n(Er(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=hr(s[o]||a,e[u],t,r));return li(vr(s,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function vi(e){return Hs(e)?e:[]}function yi(e){return"function"==typeof e?e:ru}function wi(e,t){return Ws(e)?e:_o(e,t)?[e]:Mo(ya(e))}var bi=$r;function _i(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Ii=nt||function(e){return gt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function ki(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,s=ua(e),a=t!==i,u=null===t,c=t===t,l=ua(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,s=e.length,a=r.length,u=-1,c=t.length,l=Qt(s-a,0),h=n(c+l),d=!i;++u<c;)h[u]=t[u];for(;++o<a;)(d||o<s)&&(h[r[o]]=e[o]);for(;l--;)h[u++]=e[o++];return h}function xi(e,t,r,i){for(var o=-1,s=e.length,a=-1,u=r.length,c=-1,l=t.length,h=Qt(s-u,0),d=n(h+l),f=!i;++o<h;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++a<u;)(f||o<s)&&(d[p+r[a]]=e[o++]);return d}function Ni(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ai(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?or(n,u,c):tr(n,u,c)}return n}function Di(e,t){return function(n,r){var i=Ws(n)?xt:rr,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ri(e){return $r((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&bo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Gs(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=un(t=ya(t))?gn(t):i,r=n?n[0]:t.charAt(0),o=n?_i(n,1).join(""):t.slice(1);return r[e]()+o}}function Mi(e){return function(t){return Ft(Ja(qa(t).replace(et,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Ui(e){return function(t,n,r){var o=Te(t);if(!Gs(t)){var s=uo(n,3);t=Da(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Vi(e){return no((function(t){var n=t.length,r=n,s=qn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ne(o);if(s&&!u&&"wrapper"==so(a))var u=new qn([],!0)}for(r=u?r:n;++r<n;){var c=so(a=t[r]),l="wrapper"==c?oo(a):i;u=l&&Io(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==a.length&&Io(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ws(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function ji(e,t,r,o,s,a,u,c,l,d){var f=t&h,p=1&t,g=2&t,m=24&t,v=512&t,y=g?i:Fi(e);return function h(){for(var w=arguments.length,b=n(w),_=w;_--;)b[_]=arguments[_];if(m)var I=ao(h),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,I);if(o&&(b=Ci(b,o,s,m)),a&&(b=xi(b,a,u,m)),w-=E,m&&w<d){var S=hn(b,I);return Hi(e,t,ji,h.placeholder,r,b,S,c,l,d-w)}var k=p?r:this,T=g?k[e]:e;return w=b.length,c?b=function(e,t){var n=e.length,r=wn(t.length,n),o=Ni(e);for(;r--;){var s=t[r];e[r]=wo(s,n)?o[s]:i}return e}(b,c):v&&w>1&&b.reverse(),f&&l<w&&(b.length=l),this&&this!==gt&&this instanceof h&&(T=y||Fi(T)),T.apply(k,b)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function qi(e){return no((function(t){return t=Lt(t,Zt(uo())),$r((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ft(e/pn(t)));return un(t)?_i(gn(r),0,e).join(""):r.slice(0,e)}function Ki(e){return function(t,r,o){return o&&"number"!=typeof o&&bo(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=Qt(ft((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function Gi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ma(t),n=ma(n)),e(t,n)}}function Hi(e,t,n,r,o,s,a,u,h,d){var f=8&t;t|=f?c:l,4&(t&=~(f?l:c))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,u,h,d],g=n.apply(i,p);return Io(e)&&Ao(g,p),g.placeholder=r,Po(g,e,t)}function Qi(e){var t=ke[e];return function(e,n){if(e=ma(e),(n=null==n?0:wn(pa(n),292))&&wt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Cn&&1/dn(new Cn([,-0]))[1]==f?function(e){return new Cn(e)}:uu;function $i(e){return function(t){var n=go(t);return n==k?cn(t):n==A?fn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,s,f,p,g,m){var v=2&t;if(!v&&"function"!=typeof e)throw new Ne(o);var y=s?s.length:0;if(y||(t&=-97,s=f=i),g=g===i?g:Qt(pa(g),0),m=m===i?m:pa(m),y-=f?f.length:0,t&l){var w=s,b=f;s=f=i}var _=v?i:oo(e),I=[e,t,r,s,f,w,b,p,g,m];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ci(c,u,t[4]):u,e[4]=c?hn(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?xi(c,u,t[6]):u,e[6]=c?hn(e[5],a):t[6]);(u=t[7])&&(e[7]=u);r&h&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(I,_),e=I[0],t=I[1],r=I[2],s=I[3],f=I[4],!(m=I[9]=I[9]===i?v?0:e.length:Qt(I[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,r){var o=Fi(e);return function s(){for(var a=arguments.length,u=n(a),c=a,l=ao(s);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==l&&u[a-1]!==l?[]:hn(u,l);return(a-=h.length)<r?Hi(e,t,ji,s.placeholder,i,u,h,i,i,r-a):Ct(this&&this!==gt&&this instanceof s?o:e,this,u)}}(e,t,m):t!=c&&33!=t||f.length?ji.apply(i,I):function(e,t,r,i){var o=1&t,s=Fi(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=n(l+u),d=this&&this!==gt&&this instanceof t?s:e;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return Ct(d,o?r:this,h)}}(e,t,r,s);else var E=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Po((_?ei:Ao)(E,I),e,t)}function Xi(e,t,n,r){return e===i||js(e,Re[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Br(e,t,i,Zi,s),s.delete(t)),e}function eo(e){return ia(e)?i:e}function to(e,t,n,r,o,s){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),h=s.get(t);if(l&&h)return l==t&&h==e;var d=-1,f=!0,p=2&n?new Qn:i;for(s.set(e,t),s.set(t,e);++d<u;){var g=e[d],m=t[d];if(r)var v=a?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Vt(t,(function(e,t){if(!tn(p,t)&&(g===e||o(g,e,n,r,s)))return p.push(t)}))){f=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function no(e){return Ro(Co(e,i,Ko),e+"")}function ro(e){return Sr(e,Da,fo)}function io(e){return Sr(e,Ra,po)}var oo=An?function(e){return An.get(e)}:uu;function so(e){for(var t=e.name+"",n=Dn[t],r=Le.call(Dn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Le.call(jn,"placeholder")?jn:e).placeholder}function uo(){var e=jn.iteratee||iu;return e=e===iu?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function lo(e){for(var t=Da(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var fo=mt?function(e){return null==e?[]:(e=Te(e),Rt(mt(e),(function(t){return Qe.call(e,t)})))}:gu,po=mt?function(e){for(var t=[];e;)Mt(t,fo(e)),e=Ge(e);return t}:gu,go=kr;function mo(e,t,n){for(var r=-1,i=(t=wi(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&wo(s,i)&&(Ws(e)||qs(e))}function vo(e){return"function"!=typeof e.constructor||So(e)?{}:zn(Ge(e))}function yo(e){return Ws(e)||qs(e)||!!($e&&e&&e[$e])}function wo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Gs(n)&&wo(t,n.length):"string"==r&&t in n)&&js(n[t],e)}function _o(e,t){if(Ws(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ua(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Io(e){var t=so(e),n=jn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(Sn&&go(new Sn(new ArrayBuffer(1)))!=L||kn&&go(new kn)!=k||Tn&&go(Tn.resolve())!=x||Cn&&go(new Cn)!=A||xn&&go(new xn)!=P)&&(go=function(e){var t=kr(e),n=t==C?e.constructor:i,r=n?Uo(n):"";if(r)switch(r){case Rn:return L;case Pn:return k;case On:return x;case Ln:return A;case Mn:return P}return t});var Eo=Pe?Js:mu;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function ko(e){return e===e&&!ea(e)}function To(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Co(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Qt(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(a),Ct(e,this,u)}}function xo(e,t){return t.length<2?e:Er(e,ri(t,0,-1))}function No(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ao=Oo(ei),Do=lt||function(e,t){return gt.setTimeout(e,t)},Ro=Oo(ti);function Po(e,t,n){var r=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Nt(v,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Mo=function(e){var t=Os(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Fo(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Wn)return e.clone();var t=new qn(e.__wrapped__,e.__chain__);return t.__actions__=Ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var jo=$r((function(e,t){return Hs(e)?hr(e,vr(t,1,Hs,!0)):[]})),zo=$r((function(e,t){var n=$o(t);return Hs(n)&&(n=i),Hs(e)?hr(e,vr(t,1,Hs,!0),uo(n,2)):[]})),Bo=$r((function(e,t){var n=$o(t);return Hs(n)&&(n=i),Hs(e)?hr(e,vr(t,1,Hs,!0),i,n):[]}));function qo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),Bt(e,uo(t,3),i)}function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?Qt(r+o,0):wn(o,r-1)),Bt(e,uo(t,3),o,!0)}function Ko(e){return(null==e?0:e.length)?vr(e,1):[]}function Go(e){return e&&e.length?e[0]:i}var Ho=$r((function(e){var t=Lt(e,vi);return t.length&&t[0]===e[0]?Nr(t):[]})),Qo=$r((function(e){var t=$o(e),n=Lt(e,vi);return t===$o(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Nr(n,uo(t,2)):[]})),Yo=$r((function(e){var t=$o(e),n=Lt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Nr(n,i,t):[]}));function $o(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=$r(Xo);function Xo(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var Zo=no((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Hr(e,Lt(t,(function(e){return wo(e,n)?+e:e})).sort(Ti)),r}));function es(e){return null==e?e:En.call(e)}var ts=$r((function(e){return li(vr(e,1,Hs,!0))})),ns=$r((function(e){var t=$o(e);return Hs(t)&&(t=i),li(vr(e,1,Hs,!0),uo(t,2))})),rs=$r((function(e){var t=$o(e);return t="function"==typeof t?t:i,li(vr(e,1,Hs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Hs(e))return t=Qt(e.length,t),!0})),Jt(t,(function(t){return Lt(e,Ht(t))}))}function os(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:Lt(n,(function(e){return Ct(t,i,e)}))}var ss=$r((function(e,t){return Hs(e)?hr(e,t):[]})),as=$r((function(e){return gi(Rt(e,Hs))})),us=$r((function(e){var t=$o(e);return Hs(t)&&(t=i),gi(Rt(e,Hs),uo(t,2))})),cs=$r((function(e){var t=$o(e);return t="function"==typeof t?t:i,gi(Rt(e,Hs),i,t)})),ls=$r(is);var hs=$r((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,os(e,n)}));function ds(e){var t=jn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&wo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var gs=Di((function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)}));var ms=Ui(qo),vs=Ui(Wo);function ys(e,t){return(Ws(e)?Nt:dr)(e,uo(t,3))}function ws(e,t){return(Ws(e)?At:fr)(e,uo(t,3))}var bs=Di((function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])}));var _s=$r((function(e,t,r){var i=-1,o="function"==typeof t,s=Gs(e)?n(e.length):[];return dr(e,(function(e){s[++i]=o?Ct(t,e,r):Ar(e,t,r)})),s})),Is=Di((function(e,t,n){or(e,n,t)}));function Es(e,t){return(Ws(e)?Lt:Vr)(e,uo(t,3))}var Ss=Di((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ks=$r((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,vr(t,1),[])})),Ts=it||function(){return gt.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,h,i,i,i,i,t)}function xs(e,t){var n;if("function"!=typeof t)throw new Ne(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ns=$r((function(e,t,n){var r=1;if(n.length){var i=hn(n,ao(Ns));r|=c}return Ji(e,r,t,n,i)})),As=$r((function(e,t,n){var r=3;if(n.length){var i=hn(n,ao(As));r|=c}return Ji(t,r,e,n,i)}));function Ds(e,t,n){var r,s,a,u,c,l,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ne(o);function g(t){var n=r,o=s;return r=s=i,h=t,u=e.apply(o,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||f&&e-h>=a}function v(){var e=Ts();if(m(e))return y(e);c=Do(v,function(e){var n=t-(e-l);return f?wn(n,a-(e-h)):n}(e))}function y(e){return c=i,p&&r?g(e):(r=s=i,u)}function w(){var e=Ts(),n=m(e);if(r=arguments,s=this,l=e,n){if(c===i)return function(e){return h=e,c=Do(v,t),d?g(e):u}(l);if(f)return Ii(c),c=Do(v,t),g(l)}return c===i&&(c=Do(v,t)),u}return t=ma(t)||0,ea(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Qt(ma(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){c!==i&&Ii(c),h=0,r=l=s=c=i},w.flush=function(){return c===i?u:y(Ts())},w}var Rs=$r((function(e,t){return lr(e,1,t)})),Ps=$r((function(e,t,n){return lr(e,ma(t)||0,n)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ne(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Os.Cache||Hn),n}function Ls(e){if("function"!=typeof e)throw new Ne(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Os.Cache=Hn;var Ms=bi((function(e,t){var n=(t=1==t.length&&Ws(t[0])?Lt(t[0],Zt(uo())):Lt(vr(t,1),Zt(uo()))).length;return $r((function(r){for(var i=-1,o=wn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),Fs=$r((function(e,t){var n=hn(t,ao(Fs));return Ji(e,c,i,t,n)})),Us=$r((function(e,t){var n=hn(t,ao(Us));return Ji(e,l,i,t,n)})),Vs=no((function(e,t){return Ji(e,d,i,i,i,t)}));function js(e,t){return e===t||e!==e&&t!==t}var zs=Gi(Tr),Bs=Gi((function(e,t){return e>=t})),qs=Dr(function(){return arguments}())?Dr:function(e){return ta(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Ws=n.isArray,Ks=_t?Zt(_t):function(e){return ta(e)&&kr(e)==O};function Gs(e){return null!=e&&Zs(e.length)&&!Js(e)}function Hs(e){return ta(e)&&Gs(e)}var Qs=vt||mu,Ys=It?Zt(It):function(e){return ta(e)&&kr(e)==_};function $s(e){if(!ta(e))return!1;var t=kr(e);return t==I||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Js(e){if(!ea(e))return!1;var t=kr(e);return t==E||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==pa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=Et?Zt(Et):function(e){return ta(e)&&go(e)==k};function ra(e){return"number"==typeof e||ta(e)&&kr(e)==T}function ia(e){if(!ta(e)||kr(e)!=C)return!1;var t=Ge(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Ve}var oa=St?Zt(St):function(e){return ta(e)&&kr(e)==N};var sa=kt?Zt(kt):function(e){return ta(e)&&go(e)==A};function aa(e){return"string"==typeof e||!Ws(e)&&ta(e)&&kr(e)==D}function ua(e){return"symbol"==typeof e||ta(e)&&kr(e)==R}var ca=Tt?Zt(Tt):function(e){return ta(e)&&Zs(e.length)&&!!ut[kr(e)]};var la=Gi(Ur),ha=Gi((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Gs(e))return aa(e)?gn(e):Ni(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=go(e);return(t==k?cn:t==A?dn:ja)(e)}function fa(e){return e?(e=ma(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ga(e){return e?ar(pa(e),0,m):0}function ma(e){if("number"==typeof e)return e;if(ua(e))return g;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||we.test(e)?dt(e.slice(2),n?2:8):me.test(e)?g:+e}function va(e){return Ai(e,Ra(e))}function ya(e){return null==e?"":ci(e)}var wa=Ri((function(e,t){if(So(t)||Gs(t))Ai(t,Da(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),ba=Ri((function(e,t){Ai(t,Ra(t),e)})),_a=Ri((function(e,t,n,r){Ai(t,Ra(t),e,r)})),Ia=Ri((function(e,t,n,r){Ai(t,Da(t),e,r)})),Ea=no(sr);var Sa=$r((function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&bo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Ra(s),u=-1,c=a.length;++u<c;){var l=a[u],h=e[l];(h===i||js(h,Re[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),ka=$r((function(e){return e.push(i,Zi),Ct(Oa,i,e)}));function Ta(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&mo(e,t,xr)}var xa=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),eu(ru)),Na=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Aa=$r(Ar);function Da(e){return Gs(e)?$n(e):Mr(e)}function Ra(e){return Gs(e)?$n(e,!0):Fr(e)}var Pa=Ri((function(e,t,n){Br(e,t,n)})),Oa=Ri((function(e,t,n,r){Br(e,t,n,r)})),La=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=wi(t,e),r||(r=t.length>1),t})),Ai(e,io(e),n),r&&(n=ur(n,7,eo));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Ma=no((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Lt(io(e),(function(e){return[e]}));return t=uo(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var Ua=$i(Da),Va=$i(Ra);function ja(e){return null==e?[]:en(e,Da(e))}var za=Mi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return $a(ya(e).toLowerCase())}function qa(e){return(e=ya(e))&&e.replace(_e,on).replace(tt,"")}var Wa=Mi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ka=Mi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ga=Li("toLowerCase");var Ha=Mi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qa=Mi((function(e,t,n){return e+(n?" ":"")+$a(t)}));var Ya=Mi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$a=Li("toUpperCase");function Ja(e,t,n){return e=ya(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Xa=$r((function(e,t){try{return Ct(e,i,t)}catch(n){return $s(n)?n:new ae(n)}})),Za=no((function(e,t){return Nt(t,(function(t){t=Fo(t),or(e,t,Ns(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Vi(),nu=Vi(!0);function ru(e){return e}function iu(e){return Lr("function"==typeof e?e:ur(e,1))}var ou=$r((function(e,t){return function(n){return Ar(n,e,t)}})),su=$r((function(e,t){return function(n){return Ar(e,n,t)}}));function au(e,t,n){var r=Da(t),i=Ir(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ir(t,Da(t)));var o=!(ea(n)&&"chain"in n)||!!n.chain,s=Js(e);return Nt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function uu(){}var cu=qi(Lt),lu=qi(Dt),hu=qi(Vt);function du(e){return _o(e)?Ht(Fo(e)):function(e){return function(t){return Er(t,e)}}(e)}var fu=Ki(),pu=Ki(!0);function gu(){return[]}function mu(){return!1}var vu=Bi((function(e,t){return e+t}),0),yu=Qi("ceil"),wu=Bi((function(e,t){return e/t}),1),bu=Qi("floor");var _u=Bi((function(e,t){return e*t}),1),Iu=Qi("round"),Eu=Bi((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ne(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Cs,jn.assign=wa,jn.assignIn=ba,jn.assignInWith=_a,jn.assignWith=Ia,jn.at=Ea,jn.before=xs,jn.bind=Ns,jn.bindAll=Za,jn.bindKey=As,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ws(e)?e:[e]},jn.chain=ds,jn.chunk=function(e,t,r){t=(r?bo(e,t,r):t===i)?1:Qt(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=n(ft(o/t));s<o;)u[a++]=ri(e,s,s+=t);return u},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(Ws(r)?Ni(r):[r],vr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new Ne(o);return[n(e[0]),e[1]]})):[],$r((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Da(e);return function(n){return cr(n,e,t)}}(ur(e,1))},jn.constant=eu,jn.countBy=gs,jn.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},jn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.curryRight=function e(t,n,r){var o=Ji(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},jn.debounce=Ds,jn.defaults=Sa,jn.defaultsDeep=ka,jn.defer=Rs,jn.delay=Ps,jn.difference=jo,jn.differenceBy=zo,jn.differenceWith=Bo,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0):[]},jn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&bo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Ws(e)?Rt:mr)(e,uo(t,3))},jn.flatMap=function(e,t){return vr(Es(e,t),1)},jn.flatMapDeep=function(e,t){return vr(Es(e,t),f)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),vr(Es(e,t),n)},jn.flatten=Ko,jn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:pa(t)):[]},jn.flip=function(e){return Ji(e,512)},jn.flow=tu,jn.flowRight=nu,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:Ir(e,Da(e))},jn.functionsIn=function(e){return null==e?[]:Ir(e,Ra(e))},jn.groupBy=bs,jn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},jn.intersection=Ho,jn.intersectionBy=Qo,jn.intersectionWith=Yo,jn.invert=xa,jn.invertBy=Na,jn.invokeMap=_s,jn.iteratee=iu,jn.keyBy=Is,jn.keys=Da,jn.keysIn=Ra,jn.map=Es,jn.mapKeys=function(e,t){var n={};return t=uo(t,3),br(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=uo(t,3),br(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},jn.matches=function(e){return jr(ur(e,1))},jn.matchesProperty=function(e,t){return zr(e,ur(t,1))},jn.memoize=Os,jn.merge=Pa,jn.mergeWith=Oa,jn.method=ou,jn.methodOf=su,jn.mixin=au,jn.negate=Ls,jn.nthArg=function(e){return e=pa(e),$r((function(t){return qr(t,e)}))},jn.omit=La,jn.omitBy=function(e,t){return Fa(e,Ls(uo(t)))},jn.once=function(e){return xs(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Ws(t)||(t=null==t?[]:[t]),Ws(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},jn.over=cu,jn.overArgs=Ms,jn.overEvery=lu,jn.overSome=hu,jn.partial=Fs,jn.partialRight=Us,jn.partition=Ss,jn.pick=Ma,jn.pickBy=Fa,jn.property=du,jn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},jn.pull=Jo,jn.pullAll=Xo,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,uo(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,i,n):e},jn.pullAt=Zo,jn.range=fu,jn.rangeRight=pu,jn.rearg=Vs,jn.reject=function(e,t){return(Ws(e)?Rt:mr)(e,Ls(uo(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Hr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ne(o);return $r(e,t=t===i?t:pa(t))},jn.reverse=es,jn.sampleSize=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:pa(t),(Ws(e)?Xn:Xr)(e,t)},jn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},jn.shuffle=function(e){return(Ws(e)?Zn:ni)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bo(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},jn.sortBy=ks,jn.sortedUniq=function(e){return e&&e.length?ai(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?ai(e,uo(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&bo(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=ci(t))&&un(e)?_i(gn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ne(o);return t=null==t?0:Qt(pa(t),0),$r((function(n){var r=n[t],i=_i(n,0,t);return r&&Mt(i,r),Ct(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?fi(e,uo(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ne(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ds(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=fs,jn.toArray=da,jn.toPairs=Ua,jn.toPairsIn=Va,jn.toPath=function(e){return Ws(e)?Lt(e,Fo):ua(e)?[e]:Ni(Mo(ya(e)))},jn.toPlainObject=va,jn.transform=function(e,t,n){var r=Ws(e),i=r||Qs(e)||ca(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&Js(o)?zn(Ge(e)):{}}return(i?Nt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return Cs(e,1)},jn.union=ts,jn.unionBy=ns,jn.unionWith=rs,jn.uniq=function(e){return e&&e.length?li(e):[]},jn.uniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},jn.unset=function(e,t){return null==e||hi(e,t)},jn.unzip=is,jn.unzipWith=os,jn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,yi(n),r)},jn.values=ja,jn.valuesIn=function(e){return null==e?[]:en(e,Ra(e))},jn.without=ss,jn.words=Ja,jn.wrap=function(e,t){return Fs(yi(t),e)},jn.xor=as,jn.xorBy=us,jn.xorWith=cs,jn.zip=ls,jn.zipObject=function(e,t){return mi(e||[],t||[],tr)},jn.zipObjectDeep=function(e,t){return mi(e||[],t||[],Zr)},jn.zipWith=hs,jn.entries=Ua,jn.entriesIn=Va,jn.extend=ba,jn.extendWith=_a,au(jn,jn),jn.add=vu,jn.attempt=Xa,jn.camelCase=za,jn.capitalize=Ba,jn.ceil=yu,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ma(n))===n?n:0),t!==i&&(t=(t=ma(t))===t?t:0),ar(ma(e),t,n)},jn.clone=function(e){return ur(e,4)},jn.cloneDeep=function(e){return ur(e,5)},jn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||cr(e,t,Da(t))},jn.deburr=qa,jn.defaultTo=function(e,t){return null==e||e!==e?t:e},jn.divide=wu,jn.endsWith=function(e,t,n){e=ya(e),t=ci(t);var r=e.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},jn.eq=js,jn.escape=function(e){return(e=ya(e))&&J.test(e)?e.replace(Y,sn):e},jn.escapeRegExp=function(e){return(e=ya(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},jn.every=function(e,t,n){var r=Ws(e)?Dt:pr;return n&&bo(e,t,n)&&(t=i),r(e,uo(t,3))},jn.find=ms,jn.findIndex=qo,jn.findKey=function(e,t){return zt(e,uo(t,3),br)},jn.findLast=vs,jn.findLastIndex=Wo,jn.findLastKey=function(e,t){return zt(e,uo(t,3),_r)},jn.floor=bu,jn.forEach=ys,jn.forEachRight=ws,jn.forIn=function(e,t){return null==e?e:yr(e,uo(t,3),Ra)},jn.forInRight=function(e,t){return null==e?e:wr(e,uo(t,3),Ra)},jn.forOwn=function(e,t){return e&&br(e,uo(t,3))},jn.forOwnRight=function(e,t){return e&&_r(e,uo(t,3))},jn.get=Ta,jn.gt=zs,jn.gte=Bs,jn.has=function(e,t){return null!=e&&mo(e,t,Cr)},jn.hasIn=Ca,jn.head=Go,jn.identity=ru,jn.includes=function(e,t,n,r){e=Gs(e)?e:ja(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&qt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),qt(e,t,i)},jn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=wn(t,n)&&e<Qt(t,n)}(e=ma(e),t,n)},jn.invoke=Aa,jn.isArguments=qs,jn.isArray=Ws,jn.isArrayBuffer=Ks,jn.isArrayLike=Gs,jn.isArrayLikeObject=Hs,jn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&kr(e)==b},jn.isBuffer=Qs,jn.isDate=Ys,jn.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Gs(e)&&(Ws(e)||"string"==typeof e||"function"==typeof e.splice||Qs(e)||ca(e)||qs(e)))return!e.length;var t=go(e);if(t==k||t==A)return!e.size;if(So(e))return!Mr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Rr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},jn.isError=$s,jn.isFinite=function(e){return"number"==typeof e&&wt(e)},jn.isFunction=Js,jn.isInteger=Xs,jn.isLength=Zs,jn.isMap=na,jn.isMatch=function(e,t){return e===t||Pr(e,t,lo(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Pr(e,t,lo(t),n)},jn.isNaN=function(e){return ra(e)&&e!=+e},jn.isNative=function(e){if(Eo(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=ra,jn.isObject=ea,jn.isObjectLike=ta,jn.isPlainObject=ia,jn.isRegExp=oa,jn.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=p},jn.isSet=sa,jn.isString=aa,jn.isSymbol=ua,jn.isTypedArray=ca,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return ta(e)&&go(e)==P},jn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==kr(e)},jn.join=function(e,t){return null==e?"":bt.call(e,t)},jn.kebabCase=Wa,jn.last=$o,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?Qt(r+o,0):wn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Bt(e,Kt,o,!0)},jn.lowerCase=Ka,jn.lowerFirst=Ga,jn.lt=la,jn.lte=ha,jn.max=function(e){return e&&e.length?gr(e,ru,Tr):i},jn.maxBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Tr):i},jn.mean=function(e){return Gt(e,ru)},jn.meanBy=function(e,t){return Gt(e,uo(t,2))},jn.min=function(e){return e&&e.length?gr(e,ru,Ur):i},jn.minBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Ur):i},jn.stubArray=gu,jn.stubFalse=mu,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=_u,jn.nth=function(e,t){return e&&e.length?qr(e,pa(t)):i},jn.noConflict=function(){return gt._===this&&(gt._=je),this},jn.noop=uu,jn.now=Ts,jn.pad=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(pt(i),n)+e+Wi(ft(i),n)},jn.padEnd=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},jn.padStart=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ya(e).replace(se,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=In();return wn(e+o*(t-e+ht("1e-"+((o+"").length-1))),t)}return Qr(e,t)},jn.reduce=function(e,t,n){var r=Ws(e)?Ft:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},jn.reduceRight=function(e,t,n){var r=Ws(e)?Ut:Yt,i=arguments.length<3;return r(e,uo(t,4),n,i,fr)},jn.repeat=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:pa(t),Yr(ya(e),t)},jn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,o=(t=wi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Fo(t[r])];s===i&&(r=o,s=n),e=Js(s)?s.call(e):s}return e},jn.round=Iu,jn.runInContext=e,jn.sample=function(e){return(Ws(e)?Jn:Jr)(e)},jn.size=function(e){if(null==e)return 0;if(Gs(e))return aa(e)?pn(e):e.length;var t=go(e);return t==k||t==A?e.size:Mr(e).length},jn.snakeCase=Ha,jn.some=function(e,t,n){var r=Ws(e)?Vt:ii;return n&&bo(e,t,n)&&(t=i),r(e,uo(t,3))},jn.sortedIndex=function(e,t){return oi(e,t)},jn.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&js(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return oi(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(js(e[n],t))return n}return-1},jn.startCase=Qa,jn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(pa(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},jn.subtract=Eu,jn.sum=function(e){return e&&e.length?$t(e,ru):0},jn.sumBy=function(e,t){return e&&e.length?$t(e,uo(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&bo(e,t,n)&&(t=i),e=ya(e),t=_a({},t,r,Xi);var o,s,a=_a({},t.imports,r.imports,Xi),u=Da(a),c=en(a,u),l=0,h=t.interpolate||Ie,d="__p += '",f=Ce((t.escape||Ie).source+"|"+h.source+"|"+(h===ee?pe:Ie).source+"|"+(t.evaluate||Ie).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,(function(t,n,r,i,a,u){return r||(r=i),d+=e.slice(l,u).replace(Ee,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(K,""):d).replace(G,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Xa((function(){return Se(u,p+"return "+d).apply(i,c)}));if(m.source=d,$s(m))throw m;return m},jn.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=m,r=wn(e,m);t=uo(t),e-=m;for(var i=Jt(r,t);++n<e;)t(n);return i},jn.toFinite=fa,jn.toInteger=pa,jn.toLength=ga,jn.toLower=function(e){return ya(e).toLowerCase()},jn.toNumber=ma,jn.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},jn.toString=ya,jn.toUpper=function(e){return ya(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ya(e))&&(n||t===i))return Xt(e);if(!e||!(t=ci(t)))return e;var r=gn(e),o=gn(t);return _i(r,nn(r,o),rn(r,o)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=gn(e);return _i(r,0,rn(r,gn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var r=gn(e);return _i(r,nn(r,gn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,r="omission"in t?ci(t.omission):r}var s=(e=ya(e)).length;if(un(e)){var a=gn(e);s=a.length}if(n>=s)return e;var u=n-pn(r);if(u<1)return r;var c=a?_i(a,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),oa(o)){if(e.slice(u).search(o)){var l,h=c;for(o.global||(o=Ce(o.source,ya(ge.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(ci(o),u)!=u){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},jn.unescape=function(e){return(e=ya(e))&&$.test(e)?e.replace(Q,vn):e},jn.uniqueId=function(e){var t=++Me;return ya(e)+t},jn.upperCase=Ya,jn.upperFirst=$a,jn.each=ys,jn.eachRight=ws,jn.first=Go,au(jn,function(){var e={};return br(jn,(function(t,n){Le.call(jn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),jn.VERSION="4.17.21",Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Nt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:Qt(pa(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ru)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=$r((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ar(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ls(uo(e)))},Wn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},br(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof Wn,c=a[0],l=u||Ws(t),h=function(e){var t=o.apply(jn,Mt([e],a));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,f=!!this.__actions__.length,p=s&&!d,g=u&&!f;if(!s&&l){t=g?t:new Wn(this);var m=e.apply(t,a);return m.__actions__.push({func:fs,args:[h],thisArg:i}),new qn(m,d)}return p&&g?e.apply(this,a):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),Nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ws(i)?i:[],e)}return this[n]((function(n){return t.apply(Ws(n)?n:[],e)}))}})),br(Wn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Le.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[ji(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ni(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ws(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=wn(t,e+s);break;case"takeRight":e=Qt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,d=0,f=wn(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&d<f;){for(var g=-1,m=e[c+=t];++g<h;){var v=l[g],y=v.iteratee,w=v.type,b=y(m);if(2==w)m=b;else if(!b){if(1==w)continue e;break e}}p[d++]=m}return p},jn.prototype.at=ps,jn.prototype.chain=function(){return ds(this)},jn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[es],thisArg:i}),new qn(t,this.__chain__)}return this.thru(es)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Je&&(jn.prototype[Je]=function(){return this}),jn}();gt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case k:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,Se=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Pe=!1}function Le(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,u){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,Et,St,kt,Tt=!1,Ct=[],xt=null,Nt=null,At=null,Dt=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Tt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Dt.forEach(Vt),Rt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=o}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=F({},cn,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(F({},fn,{dataTransfer:0})),mn=on(F({},hn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var Tn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),An=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Dn),Pn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,_e(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function kr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Nr=kr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=u}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}De((function(){var r=o,i=_e(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Tr:case Cr:case xr:u=vn;break;case Nr:u=An;break;case"scroll":u=dn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),h=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Re(p,d))&&l.push(Kr(p,g,f)))),h)break;p=p.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:bi(u),f=null==c?a:bi(c),(a=new l(g,p+"leave",u,n,i)).target=h,a.relatedTarget=f,g=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=f,l.relatedTarget=h,g=l),h=g,u&&c)e:{for(d=c,p=0,f=l=u;f;f=Hr(f))p++;for(f=0,g=d;g;g=Hr(g))f++;for(;0<p-f;)l=Hr(l),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==u&&Qr(s,a,u,l,!1),null!==c&&null!==h&&Qr(s,h,c,l,!0)}if("select"===(u=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var m=$n;else if(Wn(a))if(Jn)m=sr;else{m=ir;var v=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(s,m,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?jn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Re(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Re(n,o))&&s.unshift(Kr(n,u,a)):i||null!=(u=Re(n,o))&&s.push(Kr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Ii=[],Ei=-1;function Si(e){return{current:e}}function ki(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function Ti(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var Ci={},xi=Si(Ci),Ni=Si(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(Ni),ki(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ti(xi,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ti(xi,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(xi),Ti(xi,e)):ki(Ni),Ti(Ni,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{wt=t,ji=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Ji=o+e}else $i=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),wo=null,bo=null,_o=null;function Io(){_o=bo=wo=null}function Eo(e){var t=yo.current;ki(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){wo=e,_o=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===wo)throw Error(o(308));bo=e,wo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(s=0,l=c=u=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fu|=s,e.lanes=s,e.memoizedState=h}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function zo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Wo(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ri(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ri(t)?Ai:xi.current,i.context=Di(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Ho(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ho(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case I:return(t=Vc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function g(i,o,a,u){for(var c=null,l=null,h=o,g=o=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,a[g],u);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,g),null===l?c=v:l.sibling=v,l=v,h=m}if(g===a.length)return n(i,h),io&&Xi(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],u))&&(o=s(h,o,g),null===l?c=h:l.sibling=h,l=h);return io&&Xi(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),o=s(m,o,g),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,g),c}function m(i,a,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,g=a,m=a=0,v=null,y=u.next();null!==g&&!y.done;m++,y=u.next()){g.index>m?(v=g,g=null):v=g.sibling;var w=f(i,g,y.value,c);if(null===w){null===g&&(g=v);break}e&&g&&null===w.alternate&&t(i,g),a=s(w,a,m),null===h?l=w:h.sibling=w,h=w,g=v}if(y.done)return n(i,g),io&&Xi(i,m),l;if(null===g){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(a=s(y,a,m),null===h?l=y:h.sibling=y,h=y);return io&&Xi(i,m),l}for(g=r(i,g);!y.done;m++,y=u.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=s(y,a,m),null===h?l=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}return function e(r,o,s,u){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,l=o;null!==l;){if(l.key===c){if((c=s.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yo(c)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Ho(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===E?((o=Mc(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Lc(s.type,s.key,s.props,null,r.mode,u)).ref=Ho(r,o,s),u.return=r,r=u)}return a(r);case I:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vc(s,r.mode,u)).return=r,r=o}return a(r);case R:return e(r,o,(l=s._init)(s._payload),u)}if(te(s))return g(r,o,s,u);if(L(s))return m(r,o,s,u);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Uc(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var Jo=$o(!0),Xo=$o(!1),Zo={},es=Si(Zo),ts=Si(Zo),ns=Si(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ti(ns,t),Ti(ts,e),Ti(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(es),Ti(es,t)}function os(){ki(es),ki(ts),ki(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(Ti(ts,e),Ti(es,n))}function as(e){ts.current===e&&(ki(es),ki(ts))}var us=Si(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function hs(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var ds=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,gs=null,ms=null,vs=null,ys=!1,ws=!1,bs=0,_s=0;function Is(){throw Error(o(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),ws){s=0;do{if(ws=!1,bs=0,25<=s)throw Error(o(301));s+=1,vs=ms=null,t.updateQueue=null,ds.current=ca,e=n(r,i)}while(ws)}if(ds.current=sa,t=null!==ms&&null!==ms.next,ps=0,vs=ms=gs=null,ys=!1,t)throw Error(o(300));return e}function ks(){var e=0!==bs;return bs=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?gs.memoizedState=vs=e:vs=vs.next=e,vs}function Cs(){if(null===ms){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===vs?gs.memoizedState:vs.next;if(null!==t)vs=t,ms=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===vs?gs.memoizedState=vs=e:vs=vs.next=e}return vs}function xs(e,t){return"function"===typeof t?t(e):t}function Ns(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,c=null,l=s;do{var h=l.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,a=r):c=c.next=d,gs.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==s);null===c?a=r:c.next=u,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Fu|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=Cs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ds(){}function Rs(e,t){var n=gs,r=Cs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ws(Ls.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,Vs(9,Os.bind(null,n,r,i,t),void 0,null),null===Au)throw Error(o(349));0!==(30&ps)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Os(e,t,n,r){t.value=n,t.getSnapshot=r,Ms(t)&&Fs(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Fs(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Us(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return Cs().memoizedState}function zs(e,t,n,r){var i=Ts();gs.flags|=e,i.memoizedState=Vs(1|t,n,void 0,void 0===r?null:r)}function Bs(e,t,n,r){var i=Cs();r=void 0===r?null:r;var o=void 0;if(null!==ms){var s=ms.memoizedState;if(o=s.destroy,null!==r&&Es(r,s.deps))return void(i.memoizedState=Vs(t,n,o,r))}gs.flags|=e,i.memoizedState=Vs(1|t,n,o,r)}function qs(e,t){return zs(8390656,8,e,t)}function Ws(e,t){return Bs(2048,8,e,t)}function Ks(e,t){return Bs(4,2,e,t)}function Gs(e,t){return Bs(4,4,e,t)}function Hs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Hs.bind(null,t,e),n)}function Ys(){}function $s(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=Cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{wt=n,fs.transition=r}}function ea(){return Cs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=No(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){ws=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:To,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},aa={readContext:To,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:Us,useDebugValue:Ys,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Ts();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Au)throw Error(o(349));0!==(30&ps)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,qs(Ls.bind(null,r,s,e),[e]),r.flags|=2048,Vs(9,Os.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Au.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Gs,useMemo:Js,useReducer:Ns,useRef:js,useState:function(){return Ns(xs)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(Cs(),ms.memoizedState,e)},useTransition:function(){return[Ns(xs)[0],Cs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ea,unstable_isNewReconciler:!1},ca={readContext:To,useCallback:$s,useContext:To,useEffect:Ws,useImperativeHandle:Qs,useInsertionEffect:Ks,useLayoutEffect:Gs,useMemo:Js,useReducer:As,useRef:js,useState:function(){return As(xs)},useDebugValue:Ys,useDeferredValue:function(e){var t=Cs();return null===ms?t.memoizedState=e:Xs(t,ms.memoizedState,e)},useTransition:function(){return[As(xs)[0],Cs().memoizedState]},useMutableSource:Ds,useSyncExternalStore:Rs,useId:ea,unstable_isNewReconciler:!1};function la(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),da(0,t)},n}function ga(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ss(e,t,n,r,o,i),n=ks(),null===e||ba?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ou,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ou,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ou,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ou,Pu),Pu|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var o=Ri(n)?Ai:xi.current;return o=Di(t,o),ko(t,i),n=Ss(e,t,n,r,o,i),r=ks(),null===e||ba?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function xa(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Wa(e,t),Wo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Di(t,c=Ri(n)?Ai:xi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==c)&&Ko(t,s,r,c),Do=!1;var d=t.memoizedState;s.state=d,Uo(t,r,s,i),u=t.memoizedState,a!==r||d!==u||Ni.current||Do?("function"===typeof l&&(zo(t,n,l,r),u=t.memoizedState),(a=Do||qo(t,n,a,r,d,u,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=To(u):u=Di(t,u=Ri(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==u)&&Ko(t,s,r,u),Do=!1,d=t.memoizedState,s.state=d,Uo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Do?("function"===typeof f&&(zo(t,n,f,r),p=t.memoizedState),(c=Do||qo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ka(e,t,o);r=t.stateNode,wa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),is(e,t.containerInfo)}function Da(e,t,n,r,i){return po(),go(i),t.flags|=256,_a(e,t,n,r),t.child}var Ra,Pa,Oa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(us,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=Fc(u,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Va(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ha(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Mc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,ja(e,t,a,r=ha(s=Error(o(419)),r,void 0))}if(u=0!==(a&e.childLanes),ba||u){if(null!==(r=Au)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ao(e,i),rc(r,e,i,-1))}return mc(),ja(e,t,a,r=ha(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Qi++]=$i,Hi[Qi++]=Ji,Hi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=Va(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Mc(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?Fa(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Va(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&go(r),Jo(t,e.child,null,n),(e=Va(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ba(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(us,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,o);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ha(t),null;case 3:return r=t.stateNode,os(),ki(Ni),ki(xi),hs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Pa(e,t),Ha(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ha(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var u in ye(n,s),i=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?me(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Vr("scroll",e):null!=l&&w(e,s,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(ki(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&us.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return os(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Ha(t),null;case 10:return Eo(t.type._context),Ha(t),null;case 19:if(ki(us),null===(s=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Ga(s,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=cs(e))){for(t.flags|=128,Ga(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>qu&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Ha(t),null}else 2*Je()-s.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=us.current,Ti(us,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),ki(Ni),ki(xi),hs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(ki(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(us),null;case 4:return os(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),s||u===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||eu(n,t);case 6:var r=hu,i=du;hu=null,fu(e,t,n),du=i,null!==(hu=r)&&(du?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(du?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=du,hu=n.stateNode.containerInfo,du=!0,fu(e,t,n),hu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tu(n,t,s),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Ja&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fu(e,t,n),Ja=r):fu(e,t,n);break;default:fu(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,du=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===hu)throw Error(o(160));pu(s,a,i),hu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){kc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===s.type&&null!=s.name&&J(i,s),we(u,a);var l=we(u,s);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,l)}switch(u){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(m){kc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){kc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Je())),4&r&&gu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(l=Ja)||h,mu(t,e),Ja=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:ru(4,f,f.return);break;case 1:eu(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:eu(f,f.return);break;case 22:if(null!==f.memoizedState){Iu(d);continue}}null!==p?(p.return=f,Za=p):Iu(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",a))}catch(m){kc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&gu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cu(e,uu(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wu(e,t,n){Za=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||$a;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Ja;a=$a;var c=Ja;if($a=s,(Ja=u)&&!c)for(Za=i;null!==Za;)u=(s=Za).child,22===s.tag&&null!==s.memoizedState?Eu(i):null!==u?(u.return=s,Za=u):Eu(i);for(;null!==o;)Za=o,bu(o,t,n),o=o.sibling;Za=i,$a=a,Ja=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):_u(e)}}function _u(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&ou(t)}catch(f){kc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Iu(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Eu(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){kc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kc(t,i,u)}}var o=t.return;try{ou(t)}catch(u){kc(t,o,u)}break;case 5:var s=t.return;try{ou(t)}catch(u){kc(t,s,u)}}}catch(u){kc(t,t.return,u)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Su,ku=Math.ceil,Tu=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,xu=b.ReactCurrentBatchConfig,Nu=0,Au=null,Du=null,Ru=0,Pu=0,Ou=Si(0),Lu=0,Mu=null,Fu=0,Uu=0,Vu=0,ju=null,zu=null,Bu=0,qu=1/0,Wu=null,Ku=!1,Gu=null,Hu=null,Qu=!1,Yu=null,$u=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Nu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==mo.transition?(0===ec&&(ec=gt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(o(185));vt(e,n,r),0!==(2&Nu)&&e===Au||(e===Au&&(0===(2&Nu)&&(Uu|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Je()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Au?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),si((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Nu))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Au?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nu;Nu|=2;var s=gc();for(Au===e&&Ru===t||(Wu=null,qu=Je()+500,fc(e,t));;)try{wc();break}catch(u){pc(e,u)}Io(),Tu.current=s,Nu=i,null!==Du?t=0:(Au=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Mu,fc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=pt(e))&&(r=s,t=sc(e,s))),1===t))throw n=Mu,fc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ic(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ic.bind(null,e,zu,Wu),t);break}Ic(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(Ic.bind(null,e,zu,Wu),r);break}Ic(e,zu,Wu);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=zu,zu=n,null!==t&&ac(t)),e}function ac(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Vu,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nu))throw Error(o(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Mu,fc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,zu,Wu),ic(e,Je()),null}function lc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Je()+500,Vi&&Bi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Nu)&&Ec();var t=Nu;Nu|=1;var n=xu.transition,r=wt;try{if(xu.transition=null,wt=1,e)return e()}finally{wt=r,xu.transition=n,0===(6&(Nu=t))&&Bi()}}function dc(){Pu=Ou.current,ki(Ou)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:os(),ki(Ni),ki(xi),hs();break;case 5:as(r);break;case 4:os();break;case 13:case 19:ki(us);break;case 10:Eo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Au=e,Du=e=Oc(e.current,null),Ru=Pu=t,Lu=0,Mu=null,Vu=Uu=Fu=0,zu=ju=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=Du;try{if(Io(),ds.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,vs=ms=gs=null,ws=!1,bs=0,Cu.current=null,null===n||null===n.return){Lu=1,Mu=t,Du=null;break}e:{var s=e,a=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,u,0,t),1&p.mode&&ma(s,l,t),c=l;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ma(s,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,u,0,t),go(la(c,u));break e}}s=c=la(c,u),4!==Lu&&(Lu=2),null===ju?ju=[s]:ju.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,pa(0,c,t));break e;case 1:u=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hu||!Hu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ga(s,u,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(b){t=b,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function gc(){var e=Tu.current;return Tu.current=sa,null===e?sa:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Au||0===(268435455&Fu)&&0===(268435455&Uu)||uc(Au,Ru)}function vc(e,t){var n=Nu;Nu|=2;var r=gc();for(Au===e&&Ru===t||(Wu=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Io(),Nu=n,Tu.current=r,null!==Du)throw Error(o(261));return Au=null,Ru=0,Lu}function yc(){for(;null!==Du;)bc(Du)}function wc(){for(;null!==Du&&!Ye();)bc(Du)}function bc(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?_c(e):Du=t,Cu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Pu)))return void(Du=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Lu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Lu&&(Lu=5)}function Ic(e,t,n){var r=wt,i=xu.transition;try{xu.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Nu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Au&&(Du=Au=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Ac(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xu.transition,xu.transition=null;var a=wt;wt=1;var u=Nu;Nu|=4,Cu.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,u=-1,c=-1,l=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++l===i&&(u=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nu,nu=!1}(e,n),vu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wu(n,e,i),$e(),Nu=u,wt=a,xu.transition=s}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),s=e.pendingLanes,0===s&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&$u)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,Bi()}(e,t,n,r)}finally{xu.transition=i,wt=r}return null}function Ec(){if(null!==Yu){var e=bt($u),t=xu.transition,n=wt;try{if(xu.transition=null,wt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Nu))throw Error(o(331));var i=Nu;for(Nu|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var u=s.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Za=l;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:ru(8,h,s)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(su(h),h===l){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=s.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(u=Za).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(I){kc(u,u.return,I)}if(u===a){Za=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,Za=_;break e}Za=u.return}}if(Nu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{wt=n,xu.transition=t}}return!1}function Sc(e,t,n){e=Lo(e,t=pa(0,t=la(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Lo(t,e=ga(t,e=la(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Au===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Je()-Bu?fc(e,0):Vu|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ao(e,t))&&(vt(e,t,n),ic(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return He(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,i,s,t);case S:a=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=s,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=s,e;case A:return(e=Rc(19,n,t,i)).elementType=A,e.lanes=s,e;case P:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case x:a=11;break e;case D:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,u){return e=new jc(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,s,a,u){return(e=zc(n,r,!0,e,0,o,0,a,u)).context=Bc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(rc(e,i,s,o),Mo(e,i,s)),s}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),po();break;case 5:ss(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(us,1&us.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Ti(us,1&us.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ti(us,1&us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Di(t,xi.current);ko(t,n),i=Ss(null,t,r,e,i,n);var s=ks();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ia(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Po(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Da(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ua(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Oo(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),So(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=To(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ea(e,t,r,i=vo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Wa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Wo(t,r,i),Go(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Kc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(s);o.call(e)}}var s=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kc(u);a.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(s)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Nu)&&(qu=Je()+500,Bi()))}break;case 13:hc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},It=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ie=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));H(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=lc,Ne=hc;var tl={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,Ce,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},475:(e,t,n)=>{"use strict";var r,i;n.d(t,{Kd:()=>f,N_:()=>m});var o=n(43),s=n(950),a=n(216),u=n(387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const h=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(w){}new Map;const d=(r||(r=n.t(o,2))).startTransition;(i||(i=n.t(s,2))).flushSync,(r||(r=n.t(o,2))).useId;function f(e){let{basename:t,children:n,future:r,window:i}=e,s=o.useRef();null==s.current&&(s.current=(0,u.zR)({window:i,v5Compat:!0}));let c=s.current,[l,h]=o.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},p=o.useCallback((e=>{f&&d?d((()=>h(e))):h(e)}),[h,f]);return o.useLayoutEffect((()=>c.listen(p)),[c,p]),o.createElement(a.Ix,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:r})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:d,state:f,target:m,to:v,preventScrollReset:y,unstable_viewTransition:b}=e,_=l(e,h),{basename:I}=o.useContext(a.jb),E=!1;if("string"===typeof v&&g.test(v)&&(n=v,p))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=(0,u.pb)(t.pathname,I);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:E=!0}catch(w){}let S=(0,a.$P)(v,{relative:i}),k=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:l}=void 0===t?{}:t,h=(0,a.Zp)(),d=(0,a.zy)(),f=(0,a.x$)(e,{relative:c});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,u.AO)(d)===(0,u.AO)(f);h(e,{replace:n,state:i,preventScrollReset:s,relative:c,unstable_viewTransition:l})}}),[d,h,f,r,i,n,e,s,c,l])}(v,{replace:d,state:f,target:m,preventScrollReset:y,relative:i,unstable_viewTransition:b});return o.createElement("a",c({},_,{href:n||S,onClick:E||s?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:m}))}));var v,y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(y||(y={}))},216:(e,t,n)=>{"use strict";var r;n.d(t,{$P:()=>f,BV:()=>L,C5:()=>R,Ix:()=>O,Zp:()=>v,g:()=>y,jb:()=>c,qh:()=>P,x$:()=>w,zy:()=>g});var i=n(43),o=n(387);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const a=i.createContext(null);const u=i.createContext(null);const c=i.createContext(null);const l=i.createContext(null);const h=i.createContext({outlet:null,matches:[],isDataRoute:!1});const d=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,o.Oi)(!1);let{basename:r,navigator:s}=i.useContext(c),{hash:a,pathname:u,search:l}=w(e,{relative:n}),h=u;return"/"!==r&&(h="/"===u?r:(0,o.HS)([r,u])),s.createHref({pathname:h,search:l,hash:a})}function p(){return null!=i.useContext(l)}function g(){return p()||(0,o.Oi)(!1),i.useContext(l).location}function m(e){i.useContext(c).static||i.useLayoutEffect(e)}function v(){let{isDataRoute:e}=i.useContext(h);return e?function(){let{router:e}=x(T.UseNavigateStable),t=A(C.UseNavigateStable),n=i.useRef(!1);return m((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,s({fromRouteId:t},i)))}),[e,t])}():function(){p()||(0,o.Oi)(!1);let e=i.useContext(a),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:s}=i.useContext(h),{pathname:u}=g(),l=JSON.stringify((0,o.yD)(s,n.v7_relativeSplatPath)),d=i.useRef(!1);return m((()=>{d.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!d.current)return;if("number"===typeof n)return void r.go(n);let s=(0,o.Gh)(n,JSON.parse(l),u,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,o.HS)([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,l,u,e])}()}function y(){let{matches:e}=i.useContext(h),t=e[e.length-1];return t?t.params:{}}function w(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:s}=i.useContext(h),{pathname:a}=g(),u=JSON.stringify((0,o.yD)(s,r.v7_relativeSplatPath));return i.useMemo((()=>(0,o.Gh)(e,JSON.parse(u),a,"path"===n)),[e,u,a,n])}function b(e,t,n,r){p()||(0,o.Oi)(!1);let{navigator:a}=i.useContext(c),{matches:u}=i.useContext(h),d=u[u.length-1],f=d?d.params:{},m=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let v,y=g();if(t){var w;let e="string"===typeof t?(0,o.Rr)(t):t;"/"===m||(null==(w=e.pathname)?void 0:w.startsWith(m))||(0,o.Oi)(!1),v=e}else v=y;let b=v.pathname||"/",_=b;if("/"!==m){let e=m.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let I=(0,o.ue)(e,{pathname:_});let E=k(I&&I.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,o.HS)([m,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?m:(0,o.HS)([m,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,r);return t&&E?i.createElement(l.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:o.rc.Pop}},E):E}function _(){let e=function(){var e;let t=i.useContext(d),n=N(C.UseRouteError),r=A(C.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,o.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const I=i.createElement(_,null);class E extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(h.Provider,{value:this.props.routeContext},i.createElement(d.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(a);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(h.Provider,{value:t},r)}function k(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let u=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=u.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||(0,o.Oi)(!1),u=u.slice(0,Math.min(u.length,e+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<u.length;i++){let e=u[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,u=h>=0?u.slice(0,h+1):[u[0]];break}}}return u.reduceRight(((e,r,o)=>{let s,a=!1,d=null,f=null;var p;n&&(s=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||I,l&&(h<0&&0===o?(p="route-fallback",!1||D[p]||(D[p]=!0),a=!0,f=null):h===o&&(a=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(u.slice(0,o+1)),m=()=>{let t;return t=s?d:a?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(S,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(E,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var T=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T||{}),C=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C||{});function x(e){let t=i.useContext(a);return t||(0,o.Oi)(!1),t}function N(e){let t=i.useContext(u);return t||(0,o.Oi)(!1),t}function A(e){let t=function(e){let t=i.useContext(h);return t||(0,o.Oi)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.Oi)(!1),n.route.id}const D={};(r||(r=n.t(i,2))).startTransition;function R(e){let{to:t,replace:n,state:r,relative:s}=e;p()||(0,o.Oi)(!1);let{future:a,static:u}=i.useContext(c),{matches:l}=i.useContext(h),{pathname:d}=g(),f=v(),m=(0,o.Gh)(t,(0,o.yD)(l,a.v7_relativeSplatPath),d,"path"===s),y=JSON.stringify(m);return i.useEffect((()=>f(JSON.parse(y),{replace:n,state:r,relative:s})),[f,y,s,n,r]),null}function P(e){(0,o.Oi)(!1)}function O(e){let{basename:t="/",children:n=null,location:r,navigationType:a=o.rc.Pop,navigator:u,static:h=!1,future:d}=e;p()&&(0,o.Oi)(!1);let f=t.replace(/^\/*/,"/"),g=i.useMemo((()=>({basename:f,navigator:u,static:h,future:s({v7_relativeSplatPath:!1},d)})),[f,d,u,h]);"string"===typeof r&&(r=(0,o.Rr)(r));let{pathname:m="/",search:v="",hash:y="",state:w=null,key:b="default"}=r,_=i.useMemo((()=>{let e=(0,o.pb)(m,f);return null==e?null:{location:{pathname:e,search:v,hash:y,state:w,key:b},navigationType:a}}),[f,m,v,y,w,b,a]);return null==_?null:i.createElement(c.Provider,{value:g},i.createElement(l.Provider,{children:n,value:_}))}function L(e){let{children:t,location:n}=e;return b(M(t),n)}new Promise((()=>{}));i.Component;function M(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,M(e.props.children,s));e.type!==P&&(0,o.Oi)(!1),e.props.index&&e.props.children&&(0,o.Oi)(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=M(e.props.children,s)),n.push(a)})),n}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,g(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)I.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+x(u,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var l=o+x(a=e[c],c);u+=N(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,l=o+x(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)I.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],c=a+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[a]=n,r=a);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],l=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,P(I);else{var t=r(l);null!==t&&O(_,t.startTime-e)}}function I(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var h=r(l);null!==h&&O(_,h.startTime-n),u=!1}return u}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,T=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof w)E=function(){w(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=A,E=function(){R.postMessage(null)}}else E=function(){v(A,0)};function P(e){k=e,S||(S=!0,E())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(T),T=-1):m=!0,O(_,o-s))):(e.sortIndex=a,n(c,e),g||p||(g=!0,P(I))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{380:"4b7949dc",449:"e203a356",674:"4dfed6a7",870:"fe9490e4",950:"9d893061"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+".b8d8f52e.chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="instagram:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),u&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/instagram/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var i=n.miniCssF(e),o=n.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}})(i,o))return t();((e,t,n,r,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)r();else{var s=n&&n.type,a=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+a+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,o.parentNode&&o.parentNode.removeChild(o),i(u)}},o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)})(e,o,null,t,r)})),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{380:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],u=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(u)u(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkinstagram=self.webpackChunkinstagram||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43);n(875)(e,{onlyLogs:!0,trackAllPureComponents:!0});var t=n(391),r=n(475),i=n(216),o=n(210),s=n(753);const a=()=>{const[t,n]=(0,e.useState)(JSON.parse(localStorage.getItem("authUser"))),{firebaseApp:r}=(0,e.useContext)(s.A);return(0,e.useEffect)((()=>{const e=r.auth().onAuthStateChanged((e=>{e?(localStorage.setItem("authUser",JSON.stringify(e)),n(e)):(localStorage.removeItem("authUser"),n(null))}));return()=>e()}),[r]),{user:t}};var u=n(167),c=n(579);const l=(0,e.lazy)((()=>n.e(950).then(n.bind(n,569)))),h=(0,e.lazy)((()=>n.e(674).then(n.bind(n,674)))),d=(0,e.lazy)((()=>n.e(449).then(n.bind(n,449)))),f=(0,e.lazy)((()=>n.e(380).then(n.bind(n,380)))),p=(0,e.lazy)((()=>n.e(870).then(n.bind(n,870))));const g=function(){const{user:t}=a();return(0,c.jsx)(u.A.Provider,{value:{user:t},children:(0,c.jsx)(r.Kd,{children:(0,c.jsx)(e.Suspense,{fallback:(0,c.jsx)("p",{children:"Loading..."}),children:(0,c.jsxs)(i.BV,{children:[(0,c.jsx)(i.qh,{path:o.S3,element:t?(0,c.jsx)(i.C5,{to:o.$Q}):(0,c.jsx)(l,{})}),(0,c.jsx)(i.qh,{path:o.OE,element:t?(0,c.jsx)(i.C5,{to:o.$Q}):(0,c.jsx)(h,{})}),(0,c.jsx)(i.qh,{path:o.$Q,element:t?(0,c.jsx)(f,{}):(0,c.jsx)(i.C5,{to:o.S3})}),(0,c.jsx)(i.qh,{path:o.Cn,element:(0,c.jsx)(p,{})}),(0,c.jsx)(i.qh,{path:"*",element:(0,c.jsx)(d,{})})]})})})})};var m=n(474);t.createRoot(document.getElementById("root")).render((0,c.jsx)(e.StrictMode,{children:(0,c.jsx)(s.A.Provider,{value:{firebaseApp:m.x,FieldValue:m.S},children:(0,c.jsx)(g,{})})}))})()})();
//# sourceMappingURL=main.718006a0.js.map